{
    "doc": {
        "description": "Library retriever tool.\n\nAllows to create a whole configuratiuon based on libraries names and versions.\n\nYou first create the object with a database connection to the CDN database:\n\n```php\n$db = new \\bbn\\Db([\n  'engine' => 'sqlite',\n  'db' => BBN_CDN_DB\n]);\n$lib = new \\bbn\\Cdn\\Library($db, 'fr');\n```\n\nIt can give you information about the given library:\n\n```php\n$info = $lib->info('moment|2.12.0')\n\/\/ {\n\/\/     \"name\": \"moment\",\n\/\/     \"fname\": \"moment\",\n\/\/     \"title\": \"Moment\",\n\/\/     \"latest\": \"2.12.0\",\n\/\/     \"website\": \"http:\/\/momentjs.com\/\",\n\/\/     \"last_update\": \"2016-04-17 19:24:33\",\n\/\/     \"last_check\": \"2016-04-17 19:24:33\",\n\/\/     \"id\": 146,\n\/\/     \"version\": \"2.12.0\",\n\/\/     \"content\": {\n\/\/         \"files\": [\n\/\/             \"moment-with-locales.min.js\",\n\/\/         ],\n\/\/         \"lang\": [\n\/\/         ],\n\/\/         \"theme_files\": [\n\/\/         ],\n\/\/     },\n\/\/     \"internal\": 0,\n\/\/     \"prepend\": [\n\/\/     ],\n\/\/ }\n```\n\nOr you can add all the libraries you want:\n\n```php\n$lib->add('jquery-ui') \/\/ jQuery will also be added\n    ->add('axios', false); \/\/ no dependency will be added here\n```\n\nThen get an array of all the files needed to be loaded:\n\n```php\n$cfg = $lib->getConfig()\n\/\/ {\n\/\/     \"libraries\": {\n\/\/         \"axios\": \"v0.19.2\",\n\/\/         \"animate-css\": \"3.7.2\",\n\/\/         \"moment\": \"2.12.0\",\n\/\/         \"bbnjs\": \"1.0.1\",\n\/\/         \"vuejs\": \"v2.6.10\",\n\/\/         \"bbn-vue\": \"2.0.2\",\n\/\/     },\n\/\/     \"prepend\": {\n\/\/         \"lib\/bbnjs\/1.0.1\/src\/css\/01-basic.less\": [\n\/\/             \"lib\/bbnjs\/1.0.1\/src\/css\/themes\/default.less\",\n\/\/             \"lib\/bbnjs\/1.0.1\/src\/css\/themes\/dark.less\",\n\/\/         ],\n\/\/         \"lib\/bbnjs\/1.0.1\/src\/css\/02-background.less\": [\n\/\/             \"lib\/bbnjs\/1.0.1\/src\/css\/themes\/default.less\",\n\/\/             \"lib\/bbnjs\/1.0.1\/src\/css\/themes\/dark.less\",\n\/\/         ],\n\/\/         \"lib\/bbnjs\/1.0.1\/src\/css\/03-text.less\": [\n\/\/             \"lib\/bbnjs\/1.0.1\/src\/css\/themes\/default.less\",\n\/\/             \"lib\/bbnjs\/1.0.1\/src\/css\/themes\/dark.less\",\n\/\/         ],\n\/\/         \"lib\/bbnjs\/1.0.1\/src\/css\/04-border.less\": [\n\/\/             \"lib\/bbnjs\/1.0.1\/src\/css\/themes\/default.less\",\n\/\/             \"lib\/bbnjs\/1.0.1\/src\/css\/themes\/dark.less\",\n\/\/         ],\n\/\/         \"lib\/bbnjs\/1.0.1\/src\/css\/05-padding.less\": [\n\/\/             \"lib\/bbnjs\/1.0.1\/src\/css\/themes\/default.less\",\n\/\/             \"lib\/bbnjs\/1.0.1\/src\/css\/themes\/dark.less\",\n\/\/         ],\n\/\/         \"lib\/bbnjs\/1.0.1\/src\/css\/06-margin.less\": [\n\/\/             \"lib\/bbnjs\/1.0.1\/src\/css\/themes\/default.less\",\n\/\/             \"lib\/bbnjs\/1.0.1\/src\/css\/themes\/dark.less\",\n\/\/         ],\n\/\/         \"lib\/bbnjs\/1.0.1\/src\/css\/07-align.less\": [\n\/\/             \"lib\/bbnjs\/1.0.1\/src\/css\/themes\/default.less\",\n\/\/             \"lib\/bbnjs\/1.0.1\/src\/css\/themes\/dark.less\",\n\/\/         ],\n\/\/         \"lib\/bbnjs\/1.0.1\/src\/css\/08-radius.less\": [\n\/\/             \"lib\/bbnjs\/1.0.1\/src\/css\/themes\/default.less\",\n\/\/             \"lib\/bbnjs\/1.0.1\/src\/css\/themes\/dark.less\",\n\/\/         ],\n\/\/         \"lib\/bbnjs\/1.0.1\/src\/css\/09-dimension.less\": [\n\/\/             \"lib\/bbnjs\/1.0.1\/src\/css\/themes\/default.less\",\n\/\/             \"lib\/bbnjs\/1.0.1\/src\/css\/themes\/dark.less\",\n\/\/         ],\n\/\/         \"lib\/bbnjs\/1.0.1\/src\/css\/10-position.less\": [\n\/\/             \"lib\/bbnjs\/1.0.1\/src\/css\/themes\/default.less\",\n\/\/             \"lib\/bbnjs\/1.0.1\/src\/css\/themes\/dark.less\",\n\/\/         ],\n\/\/         \"lib\/bbnjs\/1.0.1\/src\/css\/11-align.less\": [\n\/\/             \"lib\/bbnjs\/1.0.1\/src\/css\/themes\/default.less\",\n\/\/             \"lib\/bbnjs\/1.0.1\/src\/css\/themes\/dark.less\",\n\/\/         ],\n\/\/         \"lib\/bbnjs\/1.0.1\/src\/css\/11-containers.less\": [\n\/\/             \"lib\/bbnjs\/1.0.1\/src\/css\/themes\/default.less\",\n\/\/             \"lib\/bbnjs\/1.0.1\/src\/css\/themes\/dark.less\",\n\/\/         ],\n\/\/         \"lib\/bbnjs\/1.0.1\/src\/css\/12-state.less\": [\n\/\/             \"lib\/bbnjs\/1.0.1\/src\/css\/themes\/default.less\",\n\/\/             \"lib\/bbnjs\/1.0.1\/src\/css\/themes\/dark.less\",\n\/\/         ],\n\/\/         \"lib\/bbnjs\/1.0.1\/src\/css\/13-components.less\": [\n\/\/             \"lib\/bbnjs\/1.0.1\/src\/css\/themes\/default.less\",\n\/\/             \"lib\/bbnjs\/1.0.1\/src\/css\/themes\/dark.less\",\n\/\/         ],\n\/\/     },\n\/\/     \"js\": [\n\/\/         \"lib\/axios\/v0.19.2\/dist\/axios.min.js\",\n\/\/         \"lib\/moment\/2.12.0\/moment-with-locales.min.js\",\n\/\/         \"lib\/bbnjs\/1.0.1\/src\/bbn.js\",\n\/\/         \"lib\/bbnjs\/1.0.1\/src\/functions.js\",\n\/\/         \"lib\/bbnjs\/1.0.1\/src\/env\/_def.js\",\n\/\/         \"lib\/bbnjs\/1.0.1\/src\/var\/_def.js\",\n\/\/         \"lib\/bbnjs\/1.0.1\/src\/var\/diacritic.js\",\n\/\/         \"lib\/bbnjs\/1.0.1\/src\/fn\/_def.js\",\n\/\/         \"lib\/bbnjs\/1.0.1\/src\/fn\/ajax.js\",\n\/\/         \"lib\/bbnjs\/1.0.1\/src\/fn\/form.js\",\n\/\/         \"lib\/bbnjs\/1.0.1\/src\/fn\/history.js\",\n\/\/         \"lib\/bbnjs\/1.0.1\/src\/fn\/init.js\",\n\/\/         \"lib\/bbnjs\/1.0.1\/src\/fn\/locale.js\",\n\/\/         \"lib\/bbnjs\/1.0.1\/src\/fn\/misc.js\",\n\/\/         \"lib\/bbnjs\/1.0.1\/src\/fn\/object.js\",\n\/\/         \"lib\/bbnjs\/1.0.1\/src\/fn\/size.js\",\n\/\/         \"lib\/bbnjs\/1.0.1\/src\/fn\/string.js\",\n\/\/         \"lib\/bbnjs\/1.0.1\/src\/fn\/style.js\",\n\/\/         \"lib\/bbnjs\/1.0.1\/src\/fn\/type.js\",\n\/\/         \"lib\/vuejs\/v2.6.10\/dist\/vue.min.js\",\n\/\/         \"lib\/bbn-vue\/2.0.2\/src\/vars.js\",\n\/\/         \"lib\/bbn-vue\/2.0.2\/src\/methods.js\",\n\/\/         \"lib\/bbn-vue\/2.0.2\/src\/mixins\/basic.js\",\n\/\/         \"lib\/bbn-vue\/2.0.2\/src\/mixins\/empty.js\",\n\/\/         \"lib\/bbn-vue\/2.0.2\/src\/mixins\/dimensions.js\",\n\/\/         \"lib\/bbn-vue\/2.0.2\/src\/mixins\/position.js\",\n\/\/         \"lib\/bbn-vue\/2.0.2\/src\/mixins\/dropdown.js\",\n\/\/         \"lib\/bbn-vue\/2.0.2\/src\/mixins\/keynav.js\",\n\/\/         \"lib\/bbn-vue\/2.0.2\/src\/mixins\/toggle.js\",\n\/\/         \"lib\/bbn-vue\/2.0.2\/src\/mixins\/localStorage.js\",\n\/\/         \"lib\/bbn-vue\/2.0.2\/src\/mixins\/data.js\",\n\/\/         \"lib\/bbn-vue\/2.0.2\/src\/mixins\/dataEditor.js\",\n\/\/         \"lib\/bbn-vue\/2.0.2\/src\/mixins\/events.js\",\n\/\/         \"lib\/bbn-vue\/2.0.2\/src\/mixins\/list.js\",\n\/\/         \"lib\/bbn-vue\/2.0.2\/src\/mixins\/memory.js\",\n\/\/         \"lib\/bbn-vue\/2.0.2\/src\/mixins\/input.js\",\n\/\/         \"lib\/bbn-vue\/2.0.2\/src\/mixins\/resizer.js\",\n\/\/         \"lib\/bbn-vue\/2.0.2\/src\/mixins\/close.js\",\n\/\/         \"lib\/bbn-vue\/2.0.2\/src\/mixins\/field.js\",\n\/\/         \"lib\/bbn-vue\/2.0.2\/src\/mixins\/view.js\",\n\/\/         \"lib\/bbn-vue\/2.0.2\/src\/mixins\/observer.js\",\n\/\/         \"lib\/bbn-vue\/2.0.2\/src\/mixins\/keepCool.js\",\n\/\/         \"lib\/bbn-vue\/2.0.2\/src\/mixins\/url.js\",\n\/\/         \"lib\/bbn-vue\/2.0.2\/src\/mixins.js\",\n\/\/         \"lib\/bbn-vue\/2.0.2\/src\/defaults.js\",\n\/\/         \"lib\/bbn-vue\/2.0.2\/src\/init.js\",\n\/\/     ],\n\/\/     \"css\": [\n\/\/         \"lib\/animate-css\/3.7.2\/animate.min.css\",\n\/\/         \"lib\/bbnjs\/1.0.1\/src\/css\/01-basic.less\",\n\/\/         \"lib\/bbnjs\/1.0.1\/src\/css\/02-background.less\",\n\/\/         \"lib\/bbnjs\/1.0.1\/src\/css\/03-text.less\",\n\/\/         \"lib\/bbnjs\/1.0.1\/src\/css\/04-border.less\",\n\/\/         \"lib\/bbnjs\/1.0.1\/src\/css\/05-padding.less\",\n\/\/         \"lib\/bbnjs\/1.0.1\/src\/css\/06-margin.less\",\n\/\/         \"lib\/bbnjs\/1.0.1\/src\/css\/07-align.less\",\n\/\/         \"lib\/bbnjs\/1.0.1\/src\/css\/08-radius.less\",\n\/\/         \"lib\/bbnjs\/1.0.1\/src\/css\/09-dimension.less\",\n\/\/         \"lib\/bbnjs\/1.0.1\/src\/css\/10-position.less\",\n\/\/         \"lib\/bbnjs\/1.0.1\/src\/css\/11-align.less\",\n\/\/         \"lib\/bbnjs\/1.0.1\/src\/css\/11-containers.less\",\n\/\/         \"lib\/bbnjs\/1.0.1\/src\/css\/12-state.less\",\n\/\/         \"lib\/bbnjs\/1.0.1\/src\/css\/13-components.less\",\n\/\/     ],\n\/\/ }\n```\n",
        "tags": {
            "category": "CDN",
            "package": "BBN",
            "author": "Theomas Nabet <thomas.nabet@gmail.com>",
            "license": "https:\/\/opensource.org\/licenses\/mit-license.php MIT",
            "link": "https:\/\/bbnio2.thomas.lan\/bbn-php\/doc\/class\/cdn\/library"
        }
    },
    "name": "bbn\\Cdn\\Library",
    "namespace": true,
    "traits": [
        "bbn\\Cdn\\Common"
    ],
    "interfaces": [],
    "fileName": "\/Cdn\/Library.php",
    "startLine": 213,
    "endLine": 695,
    "numMethods": 5,
    "numProperties": 7,
    "numConstants": 0,
    "numStaticProperties": 1,
    "interfaceNames": [],
    "isInterface": false,
    "traitNames": [
        "bbn\\Cdn\\Common"
    ],
    "traitAliases": [],
    "isTrait": false,
    "isAbstract": false,
    "isFinal": false,
    "modifiers": 0,
    "parentClass": null,
    "isSubclassOf": false,
    "defaultProperties": {
        "types": {
            "js": [
                "js",
                "ts"
            ],
            "css": [
                "css",
                "less",
                "sass",
                "scss"
            ],
            "html": [
                "html",
                "php"
            ],
            "lang": [
                "lang"
            ]
        },
        "db": null,
        "libs": [],
        "js": [],
        "css": [],
        "lang": "en",
        "theme": false,
        "vars": [],
        "prefix": "",
        "fpath": "",
        "furl": ""
    },
    "isIterable": false,
    "extensionName": false,
    "namespaceName": "bbn\\Cdn",
    "shortName": "Library",
    "contentConstructor": {
        "file": "bbn\\Cdn\\Library",
        "returns": []
    },
    "methods": {
        "__construct": {
            "name": "__construct",
            "summary": "Constructor.",
            "description": "```php\n$db = new \\bbn\\Db([\n  'engine' => 'sqlite',\n  'db' => BBN_CDN_DB\n]);\n$lib = new \\bbn\\Cdn\\Library($db, 'fr');\n```",
            "description_parts": [
                {
                    "type": "code",
                    "content": "$db = new \\bbn\\Db([\n  'engine' => 'sqlite',\n  'db' => BBN_CDN_DB\n]);\n$lib = new \\bbn\\Cdn\\Library($db, 'fr');"
                }
            ],
            "file": "bbn\\Cdn\\Library",
            "static": false,
            "visibility": "public",
            "final": false,
            "code": "function(bbn\\Db $db, $lang = 'en')\n  {\n    $this->db   = $db;\n    $this->lang = $lang;\n  }",
            "startLine": 246,
            "endLine": 250,
            "isDeprecated": false,
            "isGenerator": false,
            "isInternal": false,
            "isUserDefined": true,
            "isVariadic": false,
            "returnsReference": false,
            "numberOfParameters": 2,
            "numberOfRequiredParameters": 1,
            "returns": [],
            "parent": false,
            "arguments": [
                {
                    "name": "db",
                    "position": 0,
                    "type": "bbn\\Db",
                    "required": true,
                    "has_default": false,
                    "default": "",
                    "default_name": "",
                    "description": "The database connection"
                },
                {
                    "name": "lang",
                    "position": 1,
                    "type": "",
                    "required": false,
                    "has_default": true,
                    "default": "en",
                    "default_name": "",
                    "description": "The default language for the libraries"
                }
            ]
        },
        "info": {
            "name": "info",
            "summary": "Returns all the informations stored about a library.",
            "description": "```php\n$info = $lib->info('bbn-vue');\n\/\/ {\n\/\/     \"name\": \"bbn-vue\",\n\/\/     \"fname\": \"bbn.vue\",\n\/\/     \"title\": \"bbn-vue\",\n\/\/     \"latest\": \"2.0.2\",\n\/\/     \"website\": \"https:\/\/bbn.io\/bbn-vue\",\n\/\/     \"last_update\": \"2020-06-22 13:47:01\",\n\/\/     \"last_check\": \"2020-06-22 13:47:01\",\n\/\/     \"id\": 210,\n\/\/     \"version\": \"2.0.2\",\n\/\/     \"content\": {\n\/\/         \"files\": [\n\/\/             \"src\/vars.js\",\n\/\/             \"src\/methods.js\",\n\/\/             \"src\/mixins\/basic.js\",\n\/\/             \"src\/mixins\/empty.js\",\n\/\/             \"src\/mixins\/dimensions.js\",\n\/\/             \"src\/mixins\/position.js\",\n\/\/             \"src\/mixins\/dropdown.js\",\n\/\/             \"src\/mixins\/keynav.js\",\n\/\/             \"src\/mixins\/toggle.js\",\n\/\/             \"src\/mixins\/localStorage.js\",\n\/\/             \"src\/mixins\/data.js\",\n\/\/             \"src\/mixins\/dataEditor.js\",\n\/\/             \"src\/mixins\/events.js\",\n\/\/             \"src\/mixins\/list.js\",\n\/\/             \"src\/mixins\/memory.js\",\n\/\/             \"src\/mixins\/input.js\",\n\/\/             \"src\/mixins\/resizer.js\",\n\/\/             \"src\/mixins\/close.js\",\n\/\/             \"src\/mixins\/field.js\",\n\/\/             \"src\/mixins\/view.js\",\n\/\/             \"src\/mixins\/observer.js\",\n\/\/             \"src\/mixins\/keepCool.js\",\n\/\/             \"src\/mixins\/url.js\",\n\/\/             \"src\/mixins.js\",\n\/\/             \"src\/defaults.js\",\n\/\/             \"src\/init.js\",\n\/\/         ],\n\/\/         \"lang\": [\n\/\/         ],\n\/\/         \"theme_files\": [\n\/\/         ],\n\/\/     },\n\/\/     \"internal\": 0,\n\/\/     \"prepend\": [\n\/\/     ],\n\/\/ }\n```",
            "description_parts": [
                {
                    "type": "code",
                    "content": "$info = $lib->info('bbn-vue');\n\/\/ {\n\/\/     \"name\": \"bbn-vue\",\n\/\/     \"fname\": \"bbn.vue\",\n\/\/     \"title\": \"bbn-vue\",\n\/\/     \"latest\": \"2.0.2\",\n\/\/     \"website\": \"https:\/\/bbn.io\/bbn-vue\",\n\/\/     \"last_update\": \"2020-06-22 13:47:01\",\n\/\/     \"last_check\": \"2020-06-22 13:47:01\",\n\/\/     \"id\": 210,\n\/\/     \"version\": \"2.0.2\",\n\/\/     \"content\": {\n\/\/         \"files\": [\n\/\/             \"src\/vars.js\",\n\/\/             \"src\/methods.js\",\n\/\/             \"src\/mixins\/basic.js\",\n\/\/             \"src\/mixins\/empty.js\",\n\/\/             \"src\/mixins\/dimensions.js\",\n\/\/             \"src\/mixins\/position.js\",\n\/\/             \"src\/mixins\/dropdown.js\",\n\/\/             \"src\/mixins\/keynav.js\",\n\/\/             \"src\/mixins\/toggle.js\",\n\/\/             \"src\/mixins\/localStorage.js\",\n\/\/             \"src\/mixins\/data.js\",\n\/\/             \"src\/mixins\/dataEditor.js\",\n\/\/             \"src\/mixins\/events.js\",\n\/\/             \"src\/mixins\/list.js\",\n\/\/             \"src\/mixins\/memory.js\",\n\/\/             \"src\/mixins\/input.js\",\n\/\/             \"src\/mixins\/resizer.js\",\n\/\/             \"src\/mixins\/close.js\",\n\/\/             \"src\/mixins\/field.js\",\n\/\/             \"src\/mixins\/view.js\",\n\/\/             \"src\/mixins\/observer.js\",\n\/\/             \"src\/mixins\/keepCool.js\",\n\/\/             \"src\/mixins\/url.js\",\n\/\/             \"src\/mixins.js\",\n\/\/             \"src\/defaults.js\",\n\/\/             \"src\/init.js\",\n\/\/         ],\n\/\/         \"lang\": [\n\/\/         ],\n\/\/         \"theme_files\": [\n\/\/         ],\n\/\/     },\n\/\/     \"internal\": 0,\n\/\/     \"prepend\": [\n\/\/     ],\n\/\/ }"
                }
            ],
            "file": "bbn\\Cdn\\Library",
            "static": false,
            "visibility": "public",
            "final": false,
            "code": "function(string $library)\n  {\n    $params = explode('|', $library);\n    $lib    = array_shift($params);\n    $cfg    = [\n      'table' => 'libraries',\n      'fields' => [\n        'libraries.name', 'libraries.fname', 'libraries.title',\n        'libraries.latest', 'libraries.website', 'libraries.last_update',\n        'libraries.last_check', 'libraries.git', 'libraries.npm', 'libraries.mode',\n        'versions.id', 'versions.content', 'versions.internal',\n        'version' => 'versions.name'\n      ],\n      'join' => [\n        [\n          'table' => 'versions',\n          'on' => [\n            'conditions' => [\n              [\n                'field' => 'versions.library',\n                'operator' => 'LIKE',\n                'exp' => '\"libraries\".\"name\"'\n              ]\n            ]\n          ]\n        ]\n      ],\n      'where' => [\n        'logic' => 'AND',\n        'conditions' => [\n          [\n            'field' => 'libraries.name',\n            'operator' => '=',\n            'value' => $lib\n          ]\n        ]\n      ]\n    ];\n    if (!empty($params[0]) && ($params[0] !== 'latest')) {\n      $cfg['where']['conditions'][] = [\n        'field' => 'versions.name',\n        'operator' => '=',\n        'value' => $params[0]\n      ];\n    }\n    else {\n      $cfg['where']['conditions'][] = [\n        'field' => 'versions.name',\n        'operator' => '=',\n        'exp' => '\"libraries\".\"latest\"'\n      ];\n    }\n\n    \/\/ We take all the info from the database\n    if ($info = $this->db->rselect($cfg)) {\n      \/\/ Most of the info is in the JSON field, content\n      $info['content'] = json_decode($info['content']);\n      \/\/ The files from which the content will be prepended to corresponding files\n      $info['prepend'] = [];\n      if ($info['git']) {\n        if (strpos($info['git'], 'https:\/\/github.com\/') === 0) {\n          $info['git'] = substr($info['git'], strlen('https:\/\/github.com\/'));\n          if (substr($info['git'], -4) === '.git') {\n            $info['git'] = substr($info['git'], 0, -4);\n          }\n        }\n        else {\n          $info['git'] = null;\n        }\n      }\n\n      \/\/ If there are theme files we want to add them to the list of files\n      if (!empty($info['content']->theme_files) && isset($info['content']->files)) {\n        \/\/ Parameters of the library sent through the URL\n        if (!empty($params[1])) {\n          $ths = explode('!', $params[1]);\n        } elseif (isset($info['content']->default_theme)) {\n          $ths = [$info['content']->default_theme];\n        }\n\n        if (!empty($ths)) {\n          foreach ($ths as $th) {\n            if (!empty($info['content']->theme_prepend)) {\n              foreach ($info['content']->theme_files as $tf) {\n                foreach ($info['content']->files as $f) {\n                  \/** @todo Remove(bool)! *\/\n                  if (substr($f, -4) === 'less') {\n                    if (X::indexOf($tf, '%s') > -1) {\n                      $info['prepend'][$f][] = sprintf(str_replace('%s', '%1$s', $tf), $th);\n                    } else {\n                      $info['prepend'][$f][] = $tf;\n                    }\n                  }\n                }\n              }\n            } else {\n              foreach ($info['content']->theme_files as $tf) {\n                if (X::indexOf($tf, '%s') > -1) {\n                  $info['content']->files[] = sprintf(str_replace('%s', '%1$s', $tf), $th);\n                } else {\n                  $info['content']->files[] = $tf;\n                }\n              }\n            }\n          }\n        }\n      }\n\n      \/\/ Themes\n      if (!isset($ths) && isset($info['content']->themes)) {\n        if (isset($params[1], $info['content']->themes->$params[1])) {\n          $info['theme'] = $params[1];\n        } elseif (isset($info['content']->default_theme)) {\n          $info['theme'] = $info['content']->default_theme;\n        }\n\n        if (isset($info['theme'], $info['content']->themes->{$info['theme']})) {\n          if (!is_array($info['content']->themes->{$info['theme']})) {\n            $info['content']->themes->$info['theme'] = [$info['content']->themes->$info['theme']];\n          }\n\n          $info['content']->files = array_merge($info['content']->files, $info['content']->themes->$info['theme']);\n        }\n      }\n\n      return $info;\n    }\n\n    return null;\n  }",
            "startLine": 311,
            "endLine": 440,
            "isDeprecated": false,
            "isGenerator": false,
            "isInternal": false,
            "isUserDefined": true,
            "isVariadic": false,
            "returnsReference": false,
            "numberOfParameters": 1,
            "numberOfRequiredParameters": 1,
            "returns": [
                null,
                "array"
            ],
            "parent": false,
            "arguments": [
                {
                    "name": "library",
                    "position": 0,
                    "type": "string",
                    "required": true,
                    "has_default": false,
                    "default": "",
                    "default_name": "",
                    "description": "The name of the library, Optionally followed by `|` and the version"
                }
            ]
        },
        "getDependencies": {
            "name": "getDependencies",
            "summary": "Returns the dependencies from the given library version.",
            "description": "```php\n$info = $lib->info('bbn-vue');\n$deps = $lib->getDependencies($info['version']);\nX::dump($deps);\n\/\/ [\n\/\/   \"vuejs|v2.6.10\",\n\/\/   \"axios|v0.19.2\",\n\/\/   \"animate-css|3.7.2\",\n\/\/   \"moment|2.12.0\",\n\/\/   \"bbnjs|1.0.1\",\n\/\/ ]\n```",
            "description_parts": [
                {
                    "type": "code",
                    "content": "$info = $lib->info('bbn-vue');\n$deps = $lib->getDependencies($info['version']);\nX::dump($deps);\n\/\/ [\n\/\/   \"vuejs|v2.6.10\",\n\/\/   \"axios|v0.19.2\",\n\/\/   \"animate-css|3.7.2\",\n\/\/   \"moment|2.12.0\",\n\/\/   \"bbnjs|1.0.1\",\n\/\/ ]"
                }
            ],
            "file": "bbn\\Cdn\\Library",
            "static": false,
            "visibility": "public",
            "final": false,
            "code": "function(string $id_version, &$res = [])\n  {\n    $deps = $this->db->getColArray(\n      <<<SQL\nSELECT \"dependencies\".\"id_master\"\nFROM \"main\".\"dependencies\"\nJOIN \"main\".\"versions\"\n  ON \"main\".\"dependencies\".\"id_master\" = \"main\".\"versions\".\"id\"\nWHERE \"dependencies\".\"id_slave\" = ?\nGROUP BY \"versions\".\"library\"\nORDER BY \"versions\".\"internal\" DESC,\n\"dependencies\".\"id_slave\" ASC\nSQL,\n      $id_version\n    );\n    if (!empty($deps)) {\n      foreach ($deps as $dep) {\n        $d = $this->db->getOne(\n          <<<SQL\nSELECT \"library\" || \"|\" || \"name\"\nFROM \"main\".\"versions\"\nWHERE \"versions\".\"id\" = ?\nSQL,\n          $dep\n        );\n        if (($dep !== $id_version) && !in_array($d, $res)) {\n          $this->getDependencies($dep, $res);\n          $res[] = $d;\n        }\n      }\n    }\n\n    return $res;\n  }",
            "startLine": 463,
            "endLine": 496,
            "isDeprecated": false,
            "isGenerator": false,
            "isInternal": false,
            "isUserDefined": true,
            "isVariadic": false,
            "returnsReference": false,
            "numberOfParameters": 2,
            "numberOfRequiredParameters": 1,
            "returns": [
                "array"
            ],
            "parent": false,
            "arguments": [
                {
                    "name": "id_version",
                    "position": 0,
                    "type": "string",
                    "required": true,
                    "has_default": false,
                    "default": "",
                    "default_name": "",
                    "description": "version The version ID (in the database)"
                },
                {
                    "name": "res",
                    "position": 1,
                    "type": "",
                    "required": false,
                    "has_default": true,
                    "default": [],
                    "default_name": "",
                    "description": "The result array"
                }
            ]
        },
        "add": {
            "name": "add",
            "summary": "Adds a new library to the config.",
            "description": "```php\n\/\/ @var bbn\\Cdn\\Library $lib\n$lib->add('jquery-ui') \/\/ jQuery will be added too\n    ->add('axios', false); \/\/ no dependency will be added here\nX::dump($lib->getConfig());\n\/\/ {\n\/\/     \"libraries\": {\n\/\/         \"jquery\": \"3.3.1\",\n\/\/         \"jquery-ui\": \"1.12.1\",\n\/\/         \"axios\": \"v0.19.2\",\n\/\/     },\n\/\/     \"prepend\": [\n\/\/     ],\n\/\/     \"js\": [\n\/\/         \"lib\/jquery\/3.3.1\/dist\/jquery.min.js\",\n\/\/         \"lib\/jquery-ui\/1.12.1\/jquery-ui.min.js\",\n\/\/         \"lib\/axios\/v0.19.2\/dist\/axios.min.js\",\n\/\/     ],\n\/\/     \"css\": [\n\/\/         \"lib\/jquery-ui\/1.12.1\/jquery-ui.min.css\",\n\/\/     ],\n\/\/ }\n```",
            "description_parts": [
                {
                    "type": "code",
                    "content": "\/\/ @var bbn\\Cdn\\Library $lib\n$lib->add('jquery-ui') \/\/ jQuery will be added too\n    ->add('axios', false); \/\/ no dependency will be added here\nX::dump($lib->getConfig());\n\/\/ {\n\/\/     \"libraries\": {\n\/\/         \"jquery\": \"3.3.1\",\n\/\/         \"jquery-ui\": \"1.12.1\",\n\/\/         \"axios\": \"v0.19.2\",\n\/\/     },\n\/\/     \"prepend\": [\n\/\/     ],\n\/\/     \"js\": [\n\/\/         \"lib\/jquery\/3.3.1\/dist\/jquery.min.js\",\n\/\/         \"lib\/jquery-ui\/1.12.1\/jquery-ui.min.js\",\n\/\/         \"lib\/axios\/v0.19.2\/dist\/axios.min.js\",\n\/\/     ],\n\/\/     \"css\": [\n\/\/         \"lib\/jquery-ui\/1.12.1\/jquery-ui.min.css\",\n\/\/     ],\n\/\/ }"
                }
            ],
            "file": "bbn\\Cdn\\Library",
            "static": false,
            "visibility": "public",
            "final": false,
            "code": "function(string $library, $has_dep = 1)\n  {\n    if ($info = $this->info($library)) {\n      if (!isset($this->libs[$info['name']][$info['internal']])) {\n        $last = $this->db->last();\n        if ($has_dep) {\n          \/\/ Adding dependencies\n          if (!$info['id']) {\n            throw new \\Exception(X::_(\"Problem adding library\").' '.$library);\n          }\n\n          $dependencies = $this->getDependencies($info['id']);\n          \/\/X::dump($dependencies, $info);\n          if (!empty($dependencies)) {\n            foreach ($dependencies as $dep) {\n              $this->add($dep);\n            }\n          }\n        }\n\n        if (!isset($this->libs[$info['name']])) {\n          $this->libs[$info['name']] = [];\n        }\n\n        $path                                         = 'lib\/'.$info['name'].'\/'.$info['version'].'\/';\n        $this->libs[$info['name']][$info['internal']] = [\n          'version' => $info['version'],\n          'prepend' => [],\n          'git' => $info['git'],\n          'npm' => $info['npm'],\n          'mode' => $info['mode'],\n          'name' => $info['name'],\n          'fname' => $info['fname'],\n          'path' => $path,\n          'files' => []\n        ];\n        $files                                        =& $this->libs[$info['name']][$info['internal']]['files'];\n        $prepend                                      =& $this->libs[$info['name']][$info['internal']]['prepend'];\n\n        \/\/ From here, adding files (no matter the type) to $this->libs array for each library\n        \/\/ Adding language files if they must be prepent\n        if (($this->lang !== 'en') && isset($info['content']->lang, $info['content']->prepend_lang)) {\n          foreach ($info['content']->lang as $lang) {\n            $files[] = sprintf($path.$lang, $this->lang);\n          }\n        }\n\n        if (isset($info['content']->files) && is_array($info['content']->files)) {\n          \/\/ Adding each files - no matter the type\n          foreach ($info['content']->files as $f) {\n            if (isset($this->info['theme']) && strpos($f, '%s')) {\n              $f = sprintf($f, $this->info['theme']);\n            }\n\n            if (isset($info['prepend'][$f])) {\n              $prepend[$path.$f] = [];\n              foreach ($info['prepend'][$f] as $p) {\n                $prepend[$path.$f][] = $path.$p;\n              }\n            }\n\n            $files[] = $path.$f;\n          }\n        }\n        else {\n          throw new \\Exception(\"No file to add for the library $library\");\n        }\n\n        \/\/ Adding language files at the end (default way)\n        if (($this->lang !== 'en') && isset($info['content']->lang) && !isset($info['content']->prepend_lang)) {\n          if (is_string($info['content']->lang)) {\n            $info['content']->lang = [$info['content']->lang];\n          }\n\n          if (is_array($info['content']->lang)) {\n            foreach ($info['content']->lang as $lang) {\n              array_push($files, sprintf($path.$lang, $this->lang));\n            }\n          }\n          else {\n            die(\"Problem with the language file for $info[name]\");\n          }\n        }\n      }\n    }\n    else {\n      throw new \\Exception(\"Impossible to retrieve information on library $library\");\n    }\n\n    return $this;\n  }",
            "startLine": 530,
            "endLine": 620,
            "isDeprecated": false,
            "isGenerator": false,
            "isInternal": false,
            "isUserDefined": true,
            "isVariadic": false,
            "returnsReference": false,
            "numberOfParameters": 2,
            "numberOfRequiredParameters": 1,
            "returns": [
                "self"
            ],
            "parent": false,
            "arguments": [
                {
                    "name": "library",
                    "position": 0,
                    "type": "string",
                    "required": true,
                    "has_default": false,
                    "default": "",
                    "default_name": "",
                    "description": "The name of the library, Optionally followed by `|` and the version"
                },
                {
                    "name": "has_dep",
                    "position": 1,
                    "type": "",
                    "required": false,
                    "has_default": true,
                    "default": 1,
                    "default_name": "",
                    "description": "dep Result will include or not dependencies if any"
                }
            ]
        },
        "getConfig": {
            "name": "getConfig",
            "summary": "Creates the configuration and returns it.",
            "description": "```php\n\/\/ @var bbn\\Cdn\\Library $lib\n$lib->add('jquery-ui|latest|black');\n$cfg = $lib->getConfig()\nX::dump($cfg);\n\/\/ {\n\/\/     \"libraries\": {\n\/\/         \"jquery\": \"3.3.1\",\n\/\/         \"jquery-ui\": \"1.12.1\",\n\/\/     },\n\/\/     \"prepend\": [\n\/\/     ],\n\/\/     \"js\": [\n\/\/         \"lib\/jquery\/3.3.1\/dist\/jquery.min.js\",\n\/\/         \"lib\/jquery-ui\/1.12.1\/jquery-ui.min.js\",\n\/\/         \"lib\/jquery-ui\/1.12.1\/i18n\/datepicker-fr.js\",\n\/\/     ],\n\/\/     \"css\": [\n\/\/         \"lib\/jquery-ui\/1.12.1\/jquery-ui.min.css\",\n\/\/         \"lib\/jquery-ui\/1.12.1\/jquery-ui.theme.min.css\",\n\/\/         \"lib\/jquery-ui\/1.12.1\/themes\/black\/jquery-ui.min.css\",\n\/\/         \"lib\/jquery-ui\/1.12.1\/themes\/black\/theme.css\",\n\/\/     ],\n\/\/ }\n```",
            "description_parts": [
                {
                    "type": "code",
                    "content": "\/\/ @var bbn\\Cdn\\Library $lib\n$lib->add('jquery-ui|latest|black');\n$cfg = $lib->getConfig()\nX::dump($cfg);\n\/\/ {\n\/\/     \"libraries\": {\n\/\/         \"jquery\": \"3.3.1\",\n\/\/         \"jquery-ui\": \"1.12.1\",\n\/\/     },\n\/\/     \"prepend\": [\n\/\/     ],\n\/\/     \"js\": [\n\/\/         \"lib\/jquery\/3.3.1\/dist\/jquery.min.js\",\n\/\/         \"lib\/jquery-ui\/1.12.1\/jquery-ui.min.js\",\n\/\/         \"lib\/jquery-ui\/1.12.1\/i18n\/datepicker-fr.js\",\n\/\/     ],\n\/\/     \"css\": [\n\/\/         \"lib\/jquery-ui\/1.12.1\/jquery-ui.min.css\",\n\/\/         \"lib\/jquery-ui\/1.12.1\/jquery-ui.theme.min.css\",\n\/\/         \"lib\/jquery-ui\/1.12.1\/themes\/black\/jquery-ui.min.css\",\n\/\/         \"lib\/jquery-ui\/1.12.1\/themes\/black\/theme.css\",\n\/\/     ],\n\/\/ }"
                }
            ],
            "file": "bbn\\Cdn\\Library",
            "static": false,
            "visibility": "public",
            "final": false,
            "code": "function()\n  {\n    $res = [\n      'libraries' => [],\n      'prepend' => [],\n      'includes' => []\n    ];\n    foreach ($this->libs as $lib_name => $lib) {\n      ksort($lib);\n      $lib                         = current($lib);\n      $res['libraries'][$lib_name] = (string)$lib['version'];\n      if (isset($lib['prepend'])) {\n        $res['prepend'] = array_merge($res['prepend'], $lib['prepend']);\n      }\n\n      $inc = $lib;\n      foreach ($lib['files'] as $f) {\n        $ext = bbn\\Str::fileExt($f);\n        foreach (self::$types as $type => $extensions) {\n          if (in_array($ext, $extensions)) {\n            if (!isset($res[$type])) {\n              $res[$type] = [];\n              $inc[$type] = [];\n            }\n\n            if (!in_array($f, $res[$type])) {\n              $res[$type][] = $f;\n              $inc[$type][] = substr($f, strlen($inc['path']));\n            }\n          }\n        }\n      }\n\n      unset($inc['files']);\n      $res['includes'][] = $inc;\n    }\n\n    return $res;\n  }",
            "startLine": 654,
            "endLine": 692,
            "isDeprecated": false,
            "isGenerator": false,
            "isInternal": false,
            "isUserDefined": true,
            "isVariadic": false,
            "returnsReference": false,
            "numberOfParameters": 0,
            "numberOfRequiredParameters": 0,
            "returns": [],
            "parent": false,
            "arguments": []
        }
    },
    "properties": {
        "libs": {
            "visibility": "public"
        },
        "js": {
            "visibility": "public"
        },
        "css": {
            "visibility": "public"
        },
        "lang": {
            "visibility": "public",
            "value": "en"
        },
        "theme": {
            "visibility": "public"
        },
        "vars": {
            "visibility": "public"
        },
        "types": {
            "static": true,
            "visibility": "public",
            "value": {
                "js": [
                    "js",
                    "ts"
                ],
                "css": [
                    "css",
                    "less",
                    "sass",
                    "scss"
                ],
                "html": [
                    "html",
                    "php"
                ],
                "lang": [
                    "lang"
                ]
            }
        }
    },
    "staticProperties": {
        "types": {
            "js": [
                "js",
                "ts"
            ],
            "css": [
                "css",
                "less",
                "sass",
                "scss"
            ],
            "html": [
                "html",
                "php"
            ],
            "lang": [
                "lang"
            ]
        }
    },
    "constants": null,
    "summary": "Library retriever tool.",
    "description": "Allows to create a whole configuratiuon based on libraries names and versions.\n\nYou first create the object with a database connection to the CDN database:\n\n```php\n$db = new \\bbn\\Db([\n  'engine' => 'sqlite',\n  'db' => BBN_CDN_DB\n]);\n$lib = new \\bbn\\Cdn\\Library($db, 'fr');\n```\n\nIt can give you information about the given library:\n\n```php\n$info = $lib->info('moment|2.12.0')\n\/\/ {\n\/\/     \"name\": \"moment\",\n\/\/     \"fname\": \"moment\",\n\/\/     \"title\": \"Moment\",\n\/\/     \"latest\": \"2.12.0\",\n\/\/     \"website\": \"http:\/\/momentjs.com\/\",\n\/\/     \"last_update\": \"2016-04-17 19:24:33\",\n\/\/     \"last_check\": \"2016-04-17 19:24:33\",\n\/\/     \"id\": 146,\n\/\/     \"version\": \"2.12.0\",\n\/\/     \"content\": {\n\/\/         \"files\": [\n\/\/             \"moment-with-locales.min.js\",\n\/\/         ],\n\/\/         \"lang\": [\n\/\/         ],\n\/\/         \"theme_files\": [\n\/\/         ],\n\/\/     },\n\/\/     \"internal\": 0,\n\/\/     \"prepend\": [\n\/\/     ],\n\/\/ }\n```\n\nOr you can add all the libraries you want:\n\n```php\n$lib->add('jquery-ui') \/\/ jQuery will also be added\n    ->add('axios', false); \/\/ no dependency will be added here\n```\n\nThen get an array of all the files needed to be loaded:\n\n```php\n$cfg = $lib->getConfig()\n\/\/ {\n\/\/     \"libraries\": {\n\/\/         \"axios\": \"v0.19.2\",\n\/\/         \"animate-css\": \"3.7.2\",\n\/\/         \"moment\": \"2.12.0\",\n\/\/         \"bbnjs\": \"1.0.1\",\n\/\/         \"vuejs\": \"v2.6.10\",\n\/\/         \"bbn-vue\": \"2.0.2\",\n\/\/     },\n\/\/     \"prepend\": {\n\/\/         \"lib\/bbnjs\/1.0.1\/src\/css\/01-basic.less\": [\n\/\/             \"lib\/bbnjs\/1.0.1\/src\/css\/themes\/default.less\",\n\/\/             \"lib\/bbnjs\/1.0.1\/src\/css\/themes\/dark.less\",\n\/\/         ],\n\/\/         \"lib\/bbnjs\/1.0.1\/src\/css\/02-background.less\": [\n\/\/             \"lib\/bbnjs\/1.0.1\/src\/css\/themes\/default.less\",\n\/\/             \"lib\/bbnjs\/1.0.1\/src\/css\/themes\/dark.less\",\n\/\/         ],\n\/\/         \"lib\/bbnjs\/1.0.1\/src\/css\/03-text.less\": [\n\/\/             \"lib\/bbnjs\/1.0.1\/src\/css\/themes\/default.less\",\n\/\/             \"lib\/bbnjs\/1.0.1\/src\/css\/themes\/dark.less\",\n\/\/         ],\n\/\/         \"lib\/bbnjs\/1.0.1\/src\/css\/04-border.less\": [\n\/\/             \"lib\/bbnjs\/1.0.1\/src\/css\/themes\/default.less\",\n\/\/             \"lib\/bbnjs\/1.0.1\/src\/css\/themes\/dark.less\",\n\/\/         ],\n\/\/         \"lib\/bbnjs\/1.0.1\/src\/css\/05-padding.less\": [\n\/\/             \"lib\/bbnjs\/1.0.1\/src\/css\/themes\/default.less\",\n\/\/             \"lib\/bbnjs\/1.0.1\/src\/css\/themes\/dark.less\",\n\/\/         ],\n\/\/         \"lib\/bbnjs\/1.0.1\/src\/css\/06-margin.less\": [\n\/\/             \"lib\/bbnjs\/1.0.1\/src\/css\/themes\/default.less\",\n\/\/             \"lib\/bbnjs\/1.0.1\/src\/css\/themes\/dark.less\",\n\/\/         ],\n\/\/         \"lib\/bbnjs\/1.0.1\/src\/css\/07-align.less\": [\n\/\/             \"lib\/bbnjs\/1.0.1\/src\/css\/themes\/default.less\",\n\/\/             \"lib\/bbnjs\/1.0.1\/src\/css\/themes\/dark.less\",\n\/\/         ],\n\/\/         \"lib\/bbnjs\/1.0.1\/src\/css\/08-radius.less\": [\n\/\/             \"lib\/bbnjs\/1.0.1\/src\/css\/themes\/default.less\",\n\/\/             \"lib\/bbnjs\/1.0.1\/src\/css\/themes\/dark.less\",\n\/\/         ],\n\/\/         \"lib\/bbnjs\/1.0.1\/src\/css\/09-dimension.less\": [\n\/\/             \"lib\/bbnjs\/1.0.1\/src\/css\/themes\/default.less\",\n\/\/             \"lib\/bbnjs\/1.0.1\/src\/css\/themes\/dark.less\",\n\/\/         ],\n\/\/         \"lib\/bbnjs\/1.0.1\/src\/css\/10-position.less\": [\n\/\/             \"lib\/bbnjs\/1.0.1\/src\/css\/themes\/default.less\",\n\/\/             \"lib\/bbnjs\/1.0.1\/src\/css\/themes\/dark.less\",\n\/\/         ],\n\/\/         \"lib\/bbnjs\/1.0.1\/src\/css\/11-align.less\": [\n\/\/             \"lib\/bbnjs\/1.0.1\/src\/css\/themes\/default.less\",\n\/\/             \"lib\/bbnjs\/1.0.1\/src\/css\/themes\/dark.less\",\n\/\/         ],\n\/\/         \"lib\/bbnjs\/1.0.1\/src\/css\/11-containers.less\": [\n\/\/             \"lib\/bbnjs\/1.0.1\/src\/css\/themes\/default.less\",\n\/\/             \"lib\/bbnjs\/1.0.1\/src\/css\/themes\/dark.less\",\n\/\/         ],\n\/\/         \"lib\/bbnjs\/1.0.1\/src\/css\/12-state.less\": [\n\/\/             \"lib\/bbnjs\/1.0.1\/src\/css\/themes\/default.less\",\n\/\/             \"lib\/bbnjs\/1.0.1\/src\/css\/themes\/dark.less\",\n\/\/         ],\n\/\/         \"lib\/bbnjs\/1.0.1\/src\/css\/13-components.less\": [\n\/\/             \"lib\/bbnjs\/1.0.1\/src\/css\/themes\/default.less\",\n\/\/             \"lib\/bbnjs\/1.0.1\/src\/css\/themes\/dark.less\",\n\/\/         ],\n\/\/     },\n\/\/     \"js\": [\n\/\/         \"lib\/axios\/v0.19.2\/dist\/axios.min.js\",\n\/\/         \"lib\/moment\/2.12.0\/moment-with-locales.min.js\",\n\/\/         \"lib\/bbnjs\/1.0.1\/src\/bbn.js\",\n\/\/         \"lib\/bbnjs\/1.0.1\/src\/functions.js\",\n\/\/         \"lib\/bbnjs\/1.0.1\/src\/env\/_def.js\",\n\/\/         \"lib\/bbnjs\/1.0.1\/src\/var\/_def.js\",\n\/\/         \"lib\/bbnjs\/1.0.1\/src\/var\/diacritic.js\",\n\/\/         \"lib\/bbnjs\/1.0.1\/src\/fn\/_def.js\",\n\/\/         \"lib\/bbnjs\/1.0.1\/src\/fn\/ajax.js\",\n\/\/         \"lib\/bbnjs\/1.0.1\/src\/fn\/form.js\",\n\/\/         \"lib\/bbnjs\/1.0.1\/src\/fn\/history.js\",\n\/\/         \"lib\/bbnjs\/1.0.1\/src\/fn\/init.js\",\n\/\/         \"lib\/bbnjs\/1.0.1\/src\/fn\/locale.js\",\n\/\/         \"lib\/bbnjs\/1.0.1\/src\/fn\/misc.js\",\n\/\/         \"lib\/bbnjs\/1.0.1\/src\/fn\/object.js\",\n\/\/         \"lib\/bbnjs\/1.0.1\/src\/fn\/size.js\",\n\/\/         \"lib\/bbnjs\/1.0.1\/src\/fn\/string.js\",\n\/\/         \"lib\/bbnjs\/1.0.1\/src\/fn\/style.js\",\n\/\/         \"lib\/bbnjs\/1.0.1\/src\/fn\/type.js\",\n\/\/         \"lib\/vuejs\/v2.6.10\/dist\/vue.min.js\",\n\/\/         \"lib\/bbn-vue\/2.0.2\/src\/vars.js\",\n\/\/         \"lib\/bbn-vue\/2.0.2\/src\/methods.js\",\n\/\/         \"lib\/bbn-vue\/2.0.2\/src\/mixins\/basic.js\",\n\/\/         \"lib\/bbn-vue\/2.0.2\/src\/mixins\/empty.js\",\n\/\/         \"lib\/bbn-vue\/2.0.2\/src\/mixins\/dimensions.js\",\n\/\/         \"lib\/bbn-vue\/2.0.2\/src\/mixins\/position.js\",\n\/\/         \"lib\/bbn-vue\/2.0.2\/src\/mixins\/dropdown.js\",\n\/\/         \"lib\/bbn-vue\/2.0.2\/src\/mixins\/keynav.js\",\n\/\/         \"lib\/bbn-vue\/2.0.2\/src\/mixins\/toggle.js\",\n\/\/         \"lib\/bbn-vue\/2.0.2\/src\/mixins\/localStorage.js\",\n\/\/         \"lib\/bbn-vue\/2.0.2\/src\/mixins\/data.js\",\n\/\/         \"lib\/bbn-vue\/2.0.2\/src\/mixins\/dataEditor.js\",\n\/\/         \"lib\/bbn-vue\/2.0.2\/src\/mixins\/events.js\",\n\/\/         \"lib\/bbn-vue\/2.0.2\/src\/mixins\/list.js\",\n\/\/         \"lib\/bbn-vue\/2.0.2\/src\/mixins\/memory.js\",\n\/\/         \"lib\/bbn-vue\/2.0.2\/src\/mixins\/input.js\",\n\/\/         \"lib\/bbn-vue\/2.0.2\/src\/mixins\/resizer.js\",\n\/\/         \"lib\/bbn-vue\/2.0.2\/src\/mixins\/close.js\",\n\/\/         \"lib\/bbn-vue\/2.0.2\/src\/mixins\/field.js\",\n\/\/         \"lib\/bbn-vue\/2.0.2\/src\/mixins\/view.js\",\n\/\/         \"lib\/bbn-vue\/2.0.2\/src\/mixins\/observer.js\",\n\/\/         \"lib\/bbn-vue\/2.0.2\/src\/mixins\/keepCool.js\",\n\/\/         \"lib\/bbn-vue\/2.0.2\/src\/mixins\/url.js\",\n\/\/         \"lib\/bbn-vue\/2.0.2\/src\/mixins.js\",\n\/\/         \"lib\/bbn-vue\/2.0.2\/src\/defaults.js\",\n\/\/         \"lib\/bbn-vue\/2.0.2\/src\/init.js\",\n\/\/     ],\n\/\/     \"css\": [\n\/\/         \"lib\/animate-css\/3.7.2\/animate.min.css\",\n\/\/         \"lib\/bbnjs\/1.0.1\/src\/css\/01-basic.less\",\n\/\/         \"lib\/bbnjs\/1.0.1\/src\/css\/02-background.less\",\n\/\/         \"lib\/bbnjs\/1.0.1\/src\/css\/03-text.less\",\n\/\/         \"lib\/bbnjs\/1.0.1\/src\/css\/04-border.less\",\n\/\/         \"lib\/bbnjs\/1.0.1\/src\/css\/05-padding.less\",\n\/\/         \"lib\/bbnjs\/1.0.1\/src\/css\/06-margin.less\",\n\/\/         \"lib\/bbnjs\/1.0.1\/src\/css\/07-align.less\",\n\/\/         \"lib\/bbnjs\/1.0.1\/src\/css\/08-radius.less\",\n\/\/         \"lib\/bbnjs\/1.0.1\/src\/css\/09-dimension.less\",\n\/\/         \"lib\/bbnjs\/1.0.1\/src\/css\/10-position.less\",\n\/\/         \"lib\/bbnjs\/1.0.1\/src\/css\/11-align.less\",\n\/\/         \"lib\/bbnjs\/1.0.1\/src\/css\/11-containers.less\",\n\/\/         \"lib\/bbnjs\/1.0.1\/src\/css\/12-state.less\",\n\/\/         \"lib\/bbnjs\/1.0.1\/src\/css\/13-components.less\",\n\/\/     ],\n\/\/ }\n```",
    "description_parts": [
        {
            "type": "text",
            "content": "<p>Allows to create a whole configuratiuon based on libraries names and versions.<\/p>\n<p>You first create the object with a database connection to the CDN database:<\/p>"
        },
        {
            "type": "code",
            "content": "$db = new \\bbn\\Db([\n  'engine' => 'sqlite',\n  'db' => BBN_CDN_DB\n]);\n$lib = new \\bbn\\Cdn\\Library($db, 'fr');\n```\n\nIt can give you information about the given library:\n\n```php\n$info = $lib->info('moment|2.12.0')\n\/\/ {\n\/\/     \"name\": \"moment\",\n\/\/     \"fname\": \"moment\",\n\/\/     \"title\": \"Moment\",\n\/\/     \"latest\": \"2.12.0\",\n\/\/     \"website\": \"http:\/\/momentjs.com\/\",\n\/\/     \"last_update\": \"2016-04-17 19:24:33\",\n\/\/     \"last_check\": \"2016-04-17 19:24:33\",\n\/\/     \"id\": 146,\n\/\/     \"version\": \"2.12.0\",\n\/\/     \"content\": {\n\/\/         \"files\": [\n\/\/             \"moment-with-locales.min.js\",\n\/\/         ],\n\/\/         \"lang\": [\n\/\/         ],\n\/\/         \"theme_files\": [\n\/\/         ],\n\/\/     },\n\/\/     \"internal\": 0,\n\/\/     \"prepend\": [\n\/\/     ],\n\/\/ }\n```\n\nOr you can add all the libraries you want:\n\n```php\n$lib->add('jquery-ui') \/\/ jQuery will also be added\n    ->add('axios', false); \/\/ no dependency will be added here\n```\n\nThen get an array of all the files needed to be loaded:\n\n```php\n$cfg = $lib->getConfig()\n\/\/ {\n\/\/     \"libraries\": {\n\/\/         \"axios\": \"v0.19.2\",\n\/\/         \"animate-css\": \"3.7.2\",\n\/\/         \"moment\": \"2.12.0\",\n\/\/         \"bbnjs\": \"1.0.1\",\n\/\/         \"vuejs\": \"v2.6.10\",\n\/\/         \"bbn-vue\": \"2.0.2\",\n\/\/     },\n\/\/     \"prepend\": {\n\/\/         \"lib\/bbnjs\/1.0.1\/src\/css\/01-basic.less\": [\n\/\/             \"lib\/bbnjs\/1.0.1\/src\/css\/themes\/default.less\",\n\/\/             \"lib\/bbnjs\/1.0.1\/src\/css\/themes\/dark.less\",\n\/\/         ],\n\/\/         \"lib\/bbnjs\/1.0.1\/src\/css\/02-background.less\": [\n\/\/             \"lib\/bbnjs\/1.0.1\/src\/css\/themes\/default.less\",\n\/\/             \"lib\/bbnjs\/1.0.1\/src\/css\/themes\/dark.less\",\n\/\/         ],\n\/\/         \"lib\/bbnjs\/1.0.1\/src\/css\/03-text.less\": [\n\/\/             \"lib\/bbnjs\/1.0.1\/src\/css\/themes\/default.less\",\n\/\/             \"lib\/bbnjs\/1.0.1\/src\/css\/themes\/dark.less\",\n\/\/         ],\n\/\/         \"lib\/bbnjs\/1.0.1\/src\/css\/04-border.less\": [\n\/\/             \"lib\/bbnjs\/1.0.1\/src\/css\/themes\/default.less\",\n\/\/             \"lib\/bbnjs\/1.0.1\/src\/css\/themes\/dark.less\",\n\/\/         ],\n\/\/         \"lib\/bbnjs\/1.0.1\/src\/css\/05-padding.less\": [\n\/\/             \"lib\/bbnjs\/1.0.1\/src\/css\/themes\/default.less\",\n\/\/             \"lib\/bbnjs\/1.0.1\/src\/css\/themes\/dark.less\",\n\/\/         ],\n\/\/         \"lib\/bbnjs\/1.0.1\/src\/css\/06-margin.less\": [\n\/\/             \"lib\/bbnjs\/1.0.1\/src\/css\/themes\/default.less\",\n\/\/             \"lib\/bbnjs\/1.0.1\/src\/css\/themes\/dark.less\",\n\/\/         ],\n\/\/         \"lib\/bbnjs\/1.0.1\/src\/css\/07-align.less\": [\n\/\/             \"lib\/bbnjs\/1.0.1\/src\/css\/themes\/default.less\",\n\/\/             \"lib\/bbnjs\/1.0.1\/src\/css\/themes\/dark.less\",\n\/\/         ],\n\/\/         \"lib\/bbnjs\/1.0.1\/src\/css\/08-radius.less\": [\n\/\/             \"lib\/bbnjs\/1.0.1\/src\/css\/themes\/default.less\",\n\/\/             \"lib\/bbnjs\/1.0.1\/src\/css\/themes\/dark.less\",\n\/\/         ],\n\/\/         \"lib\/bbnjs\/1.0.1\/src\/css\/09-dimension.less\": [\n\/\/             \"lib\/bbnjs\/1.0.1\/src\/css\/themes\/default.less\",\n\/\/             \"lib\/bbnjs\/1.0.1\/src\/css\/themes\/dark.less\",\n\/\/         ],\n\/\/         \"lib\/bbnjs\/1.0.1\/src\/css\/10-position.less\": [\n\/\/             \"lib\/bbnjs\/1.0.1\/src\/css\/themes\/default.less\",\n\/\/             \"lib\/bbnjs\/1.0.1\/src\/css\/themes\/dark.less\",\n\/\/         ],\n\/\/         \"lib\/bbnjs\/1.0.1\/src\/css\/11-align.less\": [\n\/\/             \"lib\/bbnjs\/1.0.1\/src\/css\/themes\/default.less\",\n\/\/             \"lib\/bbnjs\/1.0.1\/src\/css\/themes\/dark.less\",\n\/\/         ],\n\/\/         \"lib\/bbnjs\/1.0.1\/src\/css\/11-containers.less\": [\n\/\/             \"lib\/bbnjs\/1.0.1\/src\/css\/themes\/default.less\",\n\/\/             \"lib\/bbnjs\/1.0.1\/src\/css\/themes\/dark.less\",\n\/\/         ],\n\/\/         \"lib\/bbnjs\/1.0.1\/src\/css\/12-state.less\": [\n\/\/             \"lib\/bbnjs\/1.0.1\/src\/css\/themes\/default.less\",\n\/\/             \"lib\/bbnjs\/1.0.1\/src\/css\/themes\/dark.less\",\n\/\/         ],\n\/\/         \"lib\/bbnjs\/1.0.1\/src\/css\/13-components.less\": [\n\/\/             \"lib\/bbnjs\/1.0.1\/src\/css\/themes\/default.less\",\n\/\/             \"lib\/bbnjs\/1.0.1\/src\/css\/themes\/dark.less\",\n\/\/         ],\n\/\/     },\n\/\/     \"js\": [\n\/\/         \"lib\/axios\/v0.19.2\/dist\/axios.min.js\",\n\/\/         \"lib\/moment\/2.12.0\/moment-with-locales.min.js\",\n\/\/         \"lib\/bbnjs\/1.0.1\/src\/bbn.js\",\n\/\/         \"lib\/bbnjs\/1.0.1\/src\/functions.js\",\n\/\/         \"lib\/bbnjs\/1.0.1\/src\/env\/_def.js\",\n\/\/         \"lib\/bbnjs\/1.0.1\/src\/var\/_def.js\",\n\/\/         \"lib\/bbnjs\/1.0.1\/src\/var\/diacritic.js\",\n\/\/         \"lib\/bbnjs\/1.0.1\/src\/fn\/_def.js\",\n\/\/         \"lib\/bbnjs\/1.0.1\/src\/fn\/ajax.js\",\n\/\/         \"lib\/bbnjs\/1.0.1\/src\/fn\/form.js\",\n\/\/         \"lib\/bbnjs\/1.0.1\/src\/fn\/history.js\",\n\/\/         \"lib\/bbnjs\/1.0.1\/src\/fn\/init.js\",\n\/\/         \"lib\/bbnjs\/1.0.1\/src\/fn\/locale.js\",\n\/\/         \"lib\/bbnjs\/1.0.1\/src\/fn\/misc.js\",\n\/\/         \"lib\/bbnjs\/1.0.1\/src\/fn\/object.js\",\n\/\/         \"lib\/bbnjs\/1.0.1\/src\/fn\/size.js\",\n\/\/         \"lib\/bbnjs\/1.0.1\/src\/fn\/string.js\",\n\/\/         \"lib\/bbnjs\/1.0.1\/src\/fn\/style.js\",\n\/\/         \"lib\/bbnjs\/1.0.1\/src\/fn\/type.js\",\n\/\/         \"lib\/vuejs\/v2.6.10\/dist\/vue.min.js\",\n\/\/         \"lib\/bbn-vue\/2.0.2\/src\/vars.js\",\n\/\/         \"lib\/bbn-vue\/2.0.2\/src\/methods.js\",\n\/\/         \"lib\/bbn-vue\/2.0.2\/src\/mixins\/basic.js\",\n\/\/         \"lib\/bbn-vue\/2.0.2\/src\/mixins\/empty.js\",\n\/\/         \"lib\/bbn-vue\/2.0.2\/src\/mixins\/dimensions.js\",\n\/\/         \"lib\/bbn-vue\/2.0.2\/src\/mixins\/position.js\",\n\/\/         \"lib\/bbn-vue\/2.0.2\/src\/mixins\/dropdown.js\",\n\/\/         \"lib\/bbn-vue\/2.0.2\/src\/mixins\/keynav.js\",\n\/\/         \"lib\/bbn-vue\/2.0.2\/src\/mixins\/toggle.js\",\n\/\/         \"lib\/bbn-vue\/2.0.2\/src\/mixins\/localStorage.js\",\n\/\/         \"lib\/bbn-vue\/2.0.2\/src\/mixins\/data.js\",\n\/\/         \"lib\/bbn-vue\/2.0.2\/src\/mixins\/dataEditor.js\",\n\/\/         \"lib\/bbn-vue\/2.0.2\/src\/mixins\/events.js\",\n\/\/         \"lib\/bbn-vue\/2.0.2\/src\/mixins\/list.js\",\n\/\/         \"lib\/bbn-vue\/2.0.2\/src\/mixins\/memory.js\",\n\/\/         \"lib\/bbn-vue\/2.0.2\/src\/mixins\/input.js\",\n\/\/         \"lib\/bbn-vue\/2.0.2\/src\/mixins\/resizer.js\",\n\/\/         \"lib\/bbn-vue\/2.0.2\/src\/mixins\/close.js\",\n\/\/         \"lib\/bbn-vue\/2.0.2\/src\/mixins\/field.js\",\n\/\/         \"lib\/bbn-vue\/2.0.2\/src\/mixins\/view.js\",\n\/\/         \"lib\/bbn-vue\/2.0.2\/src\/mixins\/observer.js\",\n\/\/         \"lib\/bbn-vue\/2.0.2\/src\/mixins\/keepCool.js\",\n\/\/         \"lib\/bbn-vue\/2.0.2\/src\/mixins\/url.js\",\n\/\/         \"lib\/bbn-vue\/2.0.2\/src\/mixins.js\",\n\/\/         \"lib\/bbn-vue\/2.0.2\/src\/defaults.js\",\n\/\/         \"lib\/bbn-vue\/2.0.2\/src\/init.js\",\n\/\/     ],\n\/\/     \"css\": [\n\/\/         \"lib\/animate-css\/3.7.2\/animate.min.css\",\n\/\/         \"lib\/bbnjs\/1.0.1\/src\/css\/01-basic.less\",\n\/\/         \"lib\/bbnjs\/1.0.1\/src\/css\/02-background.less\",\n\/\/         \"lib\/bbnjs\/1.0.1\/src\/css\/03-text.less\",\n\/\/         \"lib\/bbnjs\/1.0.1\/src\/css\/04-border.less\",\n\/\/         \"lib\/bbnjs\/1.0.1\/src\/css\/05-padding.less\",\n\/\/         \"lib\/bbnjs\/1.0.1\/src\/css\/06-margin.less\",\n\/\/         \"lib\/bbnjs\/1.0.1\/src\/css\/07-align.less\",\n\/\/         \"lib\/bbnjs\/1.0.1\/src\/css\/08-radius.less\",\n\/\/         \"lib\/bbnjs\/1.0.1\/src\/css\/09-dimension.less\",\n\/\/         \"lib\/bbnjs\/1.0.1\/src\/css\/10-position.less\",\n\/\/         \"lib\/bbnjs\/1.0.1\/src\/css\/11-align.less\",\n\/\/         \"lib\/bbnjs\/1.0.1\/src\/css\/11-containers.less\",\n\/\/         \"lib\/bbnjs\/1.0.1\/src\/css\/12-state.less\",\n\/\/         \"lib\/bbnjs\/1.0.1\/src\/css\/13-components.less\",\n\/\/     ],\n\/\/ }"
        }
    ]
}