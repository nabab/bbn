{
    "doc": {
        "description": "",
        "tags": []
    },
    "name": "bbn\\Appui\\Mailbox",
    "namespace": true,
    "traits": [],
    "interfaces": [],
    "fileName": "\/Appui\/Mailbox.php",
    "startLine": 29,
    "endLine": 1658,
    "numMethods": 68,
    "numProperties": 0,
    "numConstants": 0,
    "numStaticProperties": 2,
    "interfaceNames": [],
    "isInterface": false,
    "traitNames": [],
    "traitAliases": [],
    "isTrait": false,
    "isAbstract": false,
    "isFinal": false,
    "modifiers": 0,
    "parentClass": "bbn\\Models\\Cls\\Basic",
    "isSubclassOf": false,
    "defaultProperties": {
        "_default_ping_interval": 2,
        "_dest_fields": [
            "to",
            "from",
            "cc",
            "bcc",
            "reply_to"
        ],
        "_last_ping": 0,
        "_htmlmsg": "",
        "_htmlmsg_noimg": "",
        "_plainmsg": "",
        "_charset": "",
        "_attachments": [],
        "_inline_files": [],
        "_ping_interval": null,
        "host": null,
        "type": "imap",
        "login": null,
        "pass": null,
        "folder": "",
        "port": null,
        "mbParam": null,
        "status": "",
        "last_uid": null,
        "num_msg": null,
        "stream": null,
        "folders": [],
        "mailer": null,
        "errors": [],
        "error": false,
        "debug": false,
        "log": []
    },
    "isIterable": false,
    "extensionName": false,
    "namespaceName": "bbn\\Appui",
    "shortName": "Mailbox",
    "contentConstructor": {
        "file": "bbn\\Appui\\Mailbox",
        "returns": []
    },
    "methods": {
        "setDefaultPingInterval": {
            "name": "setDefaultPingInterval",
            "summary": "",
            "description": "",
            "description_parts": [],
            "file": "bbn\\Appui\\Mailbox",
            "static": true,
            "visibility": "public",
            "final": false,
            "code": "function(int $val)\n  {\n    self::$_default_ping_interval = $val;\r\n  }",
            "startLine": 127,
            "endLine": 130,
            "isDeprecated": false,
            "isGenerator": false,
            "isInternal": false,
            "isUserDefined": true,
            "isVariadic": false,
            "returnsReference": false,
            "numberOfParameters": 1,
            "numberOfRequiredParameters": 1,
            "returns": [
                "void"
            ],
            "parent": false,
            "arguments": [
                {
                    "name": "val",
                    "position": 0,
                    "type": "int",
                    "required": true,
                    "has_default": false,
                    "default": "",
                    "default_name": ""
                }
            ]
        },
        "getDefaultPingInterval": {
            "name": "getDefaultPingInterval",
            "summary": "",
            "description": "",
            "description_parts": [],
            "file": "bbn\\Appui\\Mailbox",
            "static": true,
            "visibility": "public",
            "final": false,
            "code": "function(int $val)\n  {\n    return self::$_default_ping_interval;\r\n  }",
            "startLine": 133,
            "endLine": 136,
            "isDeprecated": false,
            "isGenerator": false,
            "isInternal": false,
            "isUserDefined": true,
            "isVariadic": false,
            "returnsReference": false,
            "numberOfParameters": 1,
            "numberOfRequiredParameters": 1,
            "returns": [
                "int"
            ],
            "parent": false,
            "arguments": [
                {
                    "name": "val",
                    "position": 0,
                    "type": "int",
                    "required": true,
                    "has_default": false,
                    "default": "",
                    "default_name": ""
                }
            ]
        },
        "getDestFields": {
            "name": "getDestFields",
            "summary": "",
            "description": "",
            "description_parts": [],
            "file": "bbn\\Appui\\Mailbox",
            "static": true,
            "visibility": "public",
            "final": false,
            "code": "function()\n  {\n    return self::$_dest_fields;\r\n  }",
            "startLine": 139,
            "endLine": 142,
            "isDeprecated": false,
            "isGenerator": false,
            "isInternal": false,
            "isUserDefined": true,
            "isVariadic": false,
            "returnsReference": false,
            "numberOfParameters": 0,
            "numberOfRequiredParameters": 0,
            "returns": [
                "array"
            ],
            "parent": false,
            "arguments": []
        },
        "__construct": {
            "name": "__construct",
            "summary": "",
            "description": "",
            "description_parts": [],
            "file": "bbn\\Appui\\Mailbox",
            "static": false,
            "visibility": "public",
            "final": false,
            "code": "function($cfg)\n  {\n    if (\\is_array($cfg)) {\r\n      if (!empty($cfg['type'])) {\r\n        $this->type = $cfg['type'];\r\n      }\r\n\r\n      $this->host           = $cfg['host'] ?? null;\r\n      $this->login          = $cfg['login'];\r\n      $this->pass           = $cfg['pass'];\r\n      $this->folder         = $cfg['dir'] ?? 'INBOX';\r\n      $this->_ping_interval = self::$_default_ping_interval;\r\n\r\n      switch ($this->type){\r\n        case 'hotmail':\r\n          $this->port    = 993;\r\n          $this->mbParam = '{imap-mail.outlook.com:' . $this->port . '\/pop3\/ssl}';\r\n          break;\r\n        case 'gmail':\r\n          $this->port    = 993;\r\n          $this->mbParam = '{imap.googlemail.com:' . $this->port . '\/imap\/ssl}';\r\n          break;\r\n        \/*\r\n        case 'pop':\r\n          $this->port    = 110;\r\n          $this->mbParam = '{' . $this->host . ':' . $this->port . '\/pop3}';\r\n          break;\r\n        *\/\r\n        case 'imap':\r\n          if (empty($cfg['ssl'])) {\r\n            $this->port    = 143;\r\n            $this->mbParam = '{' . $this->host . ':' . $this->port . '\/imap\/tls\/novalidate-cert}';\r\n          }\r\n          else {\r\n            $this->port    = 993;\r\n            $this->mbParam = '{' . $this->host . ':' . $this->port . '\/imap\/ssl}';\r\n          }\r\n          break;\r\n        case 'local':\r\n          $this->host = 'localhost';\r\n          $this->port = 143;\r\n          \/\/$this->mbParam = '{' . $this->host . ':' . $this->port . '\/imap\/tls\/novalidate-cert}';\r\n          $this->mbParam = '{' . $this->host . ':' . $this->port . '\/imap\/notls}';\r\n          break;\r\n      }\r\n\r\n      if (isset($this->mbParam)) {\r\n        $this->stream = imap_open($this->mbParam . $this->folder, $this->login, $this->pass);\r\n\r\n        if ($this->stream) {\r\n          $this->folders[$this->folder] = [\r\n            'last_uid' => null,\r\n            'num_msg'  => null,\r\n            'last_check' => null\r\n          ];\r\n          $this->status                 = 'ok';\r\n        }\r\n        else {\r\n          $this->status = imap_last_error();\r\n        }\r\n      }\r\n    }\r\n  }",
            "startLine": 145,
            "endLine": 207,
            "isDeprecated": false,
            "isGenerator": false,
            "isInternal": false,
            "isUserDefined": true,
            "isVariadic": false,
            "returnsReference": false,
            "numberOfParameters": 1,
            "numberOfRequiredParameters": 1,
            "returns": [],
            "parent": false,
            "arguments": [
                {
                    "name": "cfg",
                    "position": 0,
                    "type": "",
                    "required": true,
                    "has_default": false,
                    "default": "",
                    "default_name": ""
                }
            ]
        },
        "__destruct": {
            "name": "__destruct",
            "summary": "Closes the imap stream.",
            "description": "",
            "description_parts": [],
            "file": "bbn\\Appui\\Mailbox",
            "static": false,
            "visibility": "public",
            "final": false,
            "code": "function()\n  {\n    if ($this->stream) {\r\n      imap_close($this->stream);\r\n    }\r\n  }",
            "startLine": 215,
            "endLine": 220,
            "isDeprecated": false,
            "isGenerator": false,
            "isInternal": false,
            "isUserDefined": true,
            "isVariadic": false,
            "returnsReference": false,
            "numberOfParameters": 0,
            "numberOfRequiredParameters": 0,
            "returns": [],
            "parent": false,
            "arguments": []
        },
        "getError": {
            "name": "getError",
            "summary": "",
            "description": "",
            "description_parts": [],
            "file": "bbn\\Appui\\Mailbox",
            "static": false,
            "visibility": "public",
            "final": false,
            "code": "function()\n  {\n    return imap_last_error() ?: null;\r\n  }",
            "startLine": 223,
            "endLine": 226,
            "isDeprecated": false,
            "isGenerator": false,
            "isInternal": false,
            "isUserDefined": true,
            "isVariadic": false,
            "returnsReference": false,
            "numberOfParameters": 0,
            "numberOfRequiredParameters": 0,
            "returns": [
                null,
                "string"
            ],
            "parent": {
                "name": "getError",
                "summary": "",
                "description": "",
                "description_parts": [],
                "file": "bbn\\Models\\Cls\\Basic",
                "static": false,
                "visibility": "public",
                "final": false,
                "code": "function()\n  {\n    return $this->error;\n  }",
                "startLine": 85,
                "endLine": 88,
                "isDeprecated": false,
                "isGenerator": false,
                "isInternal": false,
                "isUserDefined": true,
                "isVariadic": false,
                "returnsReference": false,
                "numberOfParameters": 0,
                "numberOfRequiredParameters": 0,
                "returns": [],
                "parent": false,
                "arguments": []
            },
            "arguments": []
        },
        "getMailer": {
            "name": "getMailer",
            "summary": "",
            "description": "",
            "description_parts": [],
            "file": "bbn\\Appui\\Mailbox",
            "static": false,
            "visibility": "public",
            "final": false,
            "code": "function()\n  {\n    if (!$this->mailer) {\r\n      $this->mailer = new Mail([\r\n        'host'  => $this->host,\r\n        'login' => $this->login,\r\n        'pass'  => $this->pass,\r\n        'type'  => $this->type\r\n      ]);\r\n    }\r\n\r\n    return $this->mailer;\r\n  }",
            "startLine": 228,
            "endLine": 240,
            "isDeprecated": false,
            "isGenerator": false,
            "isInternal": false,
            "isUserDefined": true,
            "isVariadic": false,
            "returnsReference": false,
            "numberOfParameters": 0,
            "numberOfRequiredParameters": 0,
            "returns": [
                "bbn\\Mail"
            ],
            "parent": false,
            "arguments": []
        },
        "setPingInterval": {
            "name": "setPingInterval",
            "summary": "",
            "description": "",
            "description_parts": [],
            "file": "bbn\\Appui\\Mailbox",
            "static": false,
            "visibility": "public",
            "final": false,
            "code": "function(int $val)\n  {\n    $this->_ping_interval = $val;\r\n    return $this;\r\n  }",
            "startLine": 243,
            "endLine": 247,
            "isDeprecated": false,
            "isGenerator": false,
            "isInternal": false,
            "isUserDefined": true,
            "isVariadic": false,
            "returnsReference": false,
            "numberOfParameters": 1,
            "numberOfRequiredParameters": 1,
            "returns": [
                "self"
            ],
            "parent": false,
            "arguments": [
                {
                    "name": "val",
                    "position": 0,
                    "type": "int",
                    "required": true,
                    "has_default": false,
                    "default": "",
                    "default_name": ""
                }
            ]
        },
        "getStatus": {
            "name": "getStatus",
            "summary": "",
            "description": "",
            "description_parts": [],
            "file": "bbn\\Appui\\Mailbox",
            "static": false,
            "visibility": "public",
            "final": false,
            "code": "function()\n  {\n    return $this->status;\r\n  }",
            "startLine": 250,
            "endLine": 253,
            "isDeprecated": false,
            "isGenerator": false,
            "isInternal": false,
            "isUserDefined": true,
            "isVariadic": false,
            "returnsReference": false,
            "numberOfParameters": 0,
            "numberOfRequiredParameters": 0,
            "returns": [
                "string"
            ],
            "parent": false,
            "arguments": []
        },
        "getHost": {
            "name": "getHost",
            "summary": "",
            "description": "",
            "description_parts": [],
            "file": "bbn\\Appui\\Mailbox",
            "static": false,
            "visibility": "public",
            "final": false,
            "code": "function()\n  {\n    return $this->host;\r\n  }",
            "startLine": 256,
            "endLine": 259,
            "isDeprecated": false,
            "isGenerator": false,
            "isInternal": false,
            "isUserDefined": true,
            "isVariadic": false,
            "returnsReference": false,
            "numberOfParameters": 0,
            "numberOfRequiredParameters": 0,
            "returns": [
                "string"
            ],
            "parent": false,
            "arguments": []
        },
        "getFolder": {
            "name": "getFolder",
            "summary": "",
            "description": "",
            "description_parts": [],
            "file": "bbn\\Appui\\Mailbox",
            "static": false,
            "visibility": "public",
            "final": false,
            "code": "function()\n  {\n    return $this->folder;\r\n  }",
            "startLine": 262,
            "endLine": 265,
            "isDeprecated": false,
            "isGenerator": false,
            "isInternal": false,
            "isUserDefined": true,
            "isVariadic": false,
            "returnsReference": false,
            "numberOfParameters": 0,
            "numberOfRequiredParameters": 0,
            "returns": [
                "string"
            ],
            "parent": false,
            "arguments": []
        },
        "getFolders": {
            "name": "getFolders",
            "summary": "",
            "description": "",
            "description_parts": [],
            "file": "bbn\\Appui\\Mailbox",
            "static": false,
            "visibility": "public",
            "final": false,
            "code": "function()\n  {\n    return $this->folders;\r\n  }",
            "startLine": 268,
            "endLine": 271,
            "isDeprecated": false,
            "isGenerator": false,
            "isInternal": false,
            "isUserDefined": true,
            "isVariadic": false,
            "returnsReference": false,
            "numberOfParameters": 0,
            "numberOfRequiredParameters": 0,
            "returns": [
                "array"
            ],
            "parent": false,
            "arguments": []
        },
        "getLogin": {
            "name": "getLogin",
            "summary": "",
            "description": "",
            "description_parts": [],
            "file": "bbn\\Appui\\Mailbox",
            "static": false,
            "visibility": "public",
            "final": false,
            "code": "function()\n  {\n    return $this->login;\r\n  }",
            "startLine": 274,
            "endLine": 277,
            "isDeprecated": false,
            "isGenerator": false,
            "isInternal": false,
            "isUserDefined": true,
            "isVariadic": false,
            "returnsReference": false,
            "numberOfParameters": 0,
            "numberOfRequiredParameters": 0,
            "returns": [
                "string"
            ],
            "parent": false,
            "arguments": []
        },
        "getPort": {
            "name": "getPort",
            "summary": "",
            "description": "",
            "description_parts": [],
            "file": "bbn\\Appui\\Mailbox",
            "static": false,
            "visibility": "public",
            "final": false,
            "code": "function()\n  {\n    return $this->port;\r\n  }",
            "startLine": 280,
            "endLine": 283,
            "isDeprecated": false,
            "isGenerator": false,
            "isInternal": false,
            "isUserDefined": true,
            "isVariadic": false,
            "returnsReference": false,
            "numberOfParameters": 0,
            "numberOfRequiredParameters": 0,
            "returns": [
                "int"
            ],
            "parent": false,
            "arguments": []
        },
        "getParams": {
            "name": "getParams",
            "summary": "",
            "description": "",
            "description_parts": [],
            "file": "bbn\\Appui\\Mailbox",
            "static": false,
            "visibility": "public",
            "final": false,
            "code": "function()\n  {\n    return $this->mbParam;\r\n  }",
            "startLine": 286,
            "endLine": 289,
            "isDeprecated": false,
            "isGenerator": false,
            "isInternal": false,
            "isUserDefined": true,
            "isVariadic": false,
            "returnsReference": false,
            "numberOfParameters": 0,
            "numberOfRequiredParameters": 0,
            "returns": [
                "string"
            ],
            "parent": false,
            "arguments": []
        },
        "getLastUid": {
            "name": "getLastUid",
            "summary": "",
            "description": "",
            "description_parts": [],
            "file": "bbn\\Appui\\Mailbox",
            "static": false,
            "visibility": "public",
            "final": false,
            "code": "function()\n  {\n    if (!$this->stream)\r\n      return null;\r\n    $msg_nums = imap_search($this->stream, 'ALL');\r\n\r\n    if ($msg_nums) {\r\n      $last_msg_num = max($msg_nums);\r\n      return imap_uid($this->stream, $last_msg_num);\r\n    }\r\n\r\n    return null;\r\n  }",
            "startLine": 292,
            "endLine": 304,
            "isDeprecated": false,
            "isGenerator": false,
            "isInternal": false,
            "isUserDefined": true,
            "isVariadic": false,
            "returnsReference": false,
            "numberOfParameters": 0,
            "numberOfRequiredParameters": 0,
            "returns": [
                null,
                "int"
            ],
            "parent": false,
            "arguments": []
        },
        "getFirstUid": {
            "name": "getFirstUid",
            "summary": "",
            "description": "",
            "description_parts": [],
            "file": "bbn\\Appui\\Mailbox",
            "static": false,
            "visibility": "public",
            "final": false,
            "code": "function()\n  {\n    if (!$this->stream)\r\n      return null;\r\n    $msg_nums = imap_search($this->stream, 'ALL');\r\n\r\n    if ($msg_nums) {\r\n      $first_msg_num = min($msg_nums);\r\n      return imap_uid($this->stream, $first_msg_num);\r\n    }\r\n\r\n    return null;\r\n  }",
            "startLine": 306,
            "endLine": 318,
            "isDeprecated": false,
            "isGenerator": false,
            "isInternal": false,
            "isUserDefined": true,
            "isVariadic": false,
            "returnsReference": false,
            "numberOfParameters": 0,
            "numberOfRequiredParameters": 0,
            "returns": [
                null,
                "int"
            ],
            "parent": false,
            "arguments": []
        },
        "getNextUid": {
            "name": "getNextUid",
            "summary": "",
            "description": "",
            "description_parts": [],
            "file": "bbn\\Appui\\Mailbox",
            "static": false,
            "visibility": "public",
            "final": false,
            "code": "function(int $uid)\n  {\n    if (!$this->stream)\r\n      return null;\r\n    $emails = imap_search($this->stream, 'ALL');\r\n\r\n    if ($emails) {\r\n      $emails = array_filter($emails, function($val) use ($uid){\r\n        return $val > $uid;\r\n      });\r\n      if ($emails) {\r\n        return min($emails);\r\n      } else {\r\n        return $uid;\r\n      }\r\n    }\r\n\r\n    return null;\r\n  }",
            "startLine": 320,
            "endLine": 338,
            "isDeprecated": false,
            "isGenerator": false,
            "isInternal": false,
            "isUserDefined": true,
            "isVariadic": false,
            "returnsReference": false,
            "numberOfParameters": 1,
            "numberOfRequiredParameters": 1,
            "returns": [
                null,
                "int"
            ],
            "parent": false,
            "arguments": [
                {
                    "name": "uid",
                    "position": 0,
                    "type": "int",
                    "required": true,
                    "has_default": false,
                    "default": "",
                    "default_name": ""
                }
            ]
        },
        "getNumMsg": {
            "name": "getNumMsg",
            "summary": "",
            "description": "",
            "description_parts": [],
            "file": "bbn\\Appui\\Mailbox",
            "static": false,
            "visibility": "public",
            "final": false,
            "code": "function()\n  {\n    return $this->num_msg;\r\n  }",
            "startLine": 340,
            "endLine": 343,
            "isDeprecated": false,
            "isGenerator": false,
            "isInternal": false,
            "isUserDefined": true,
            "isVariadic": false,
            "returnsReference": false,
            "numberOfParameters": 0,
            "numberOfRequiredParameters": 0,
            "returns": [
                "int"
            ],
            "parent": false,
            "arguments": []
        },
        "getStream": {
            "name": "getStream",
            "summary": "",
            "description": "",
            "description_parts": [],
            "file": "bbn\\Appui\\Mailbox",
            "static": false,
            "visibility": "public",
            "final": false,
            "code": "function()\n  {\n    return $this->stream;\r\n  }",
            "startLine": 346,
            "endLine": 349,
            "isDeprecated": false,
            "isGenerator": false,
            "isInternal": false,
            "isUserDefined": true,
            "isVariadic": false,
            "returnsReference": false,
            "numberOfParameters": 0,
            "numberOfRequiredParameters": 0,
            "returns": [],
            "parent": false,
            "arguments": []
        },
        "check": {
            "name": "check",
            "summary": "",
            "description": "",
            "description_parts": [],
            "file": "bbn\\Appui\\Mailbox",
            "static": false,
            "visibility": "public",
            "final": false,
            "code": "function()\n  {\n    return $this->_is_connected();\r\n  }",
            "startLine": 352,
            "endLine": 355,
            "isDeprecated": false,
            "isGenerator": false,
            "isInternal": false,
            "isUserDefined": true,
            "isVariadic": false,
            "returnsReference": false,
            "numberOfParameters": 0,
            "numberOfRequiredParameters": 0,
            "returns": [
                "bool"
            ],
            "parent": {
                "name": "check",
                "summary": "Checks whether the error property has been set (so an error happened).",
                "description": "",
                "description_parts": [],
                "file": "bbn\\Models\\Cls\\Basic",
                "static": false,
                "visibility": "public",
                "final": false,
                "code": "function()\n  {\n    if ($this->error) {\n      return false;\n    }\n\n    return true;\n  }",
                "startLine": 64,
                "endLine": 71,
                "isDeprecated": false,
                "isGenerator": false,
                "isInternal": false,
                "isUserDefined": true,
                "isVariadic": false,
                "returnsReference": false,
                "numberOfParameters": 0,
                "numberOfRequiredParameters": 0,
                "returns": [],
                "parent": false,
                "arguments": []
            },
            "arguments": []
        },
        "getImap": {
            "name": "getImap",
            "summary": "Gets IMAP essential info (Test: ok)",
            "description": "",
            "description_parts": [],
            "file": "bbn\\Appui\\Mailbox",
            "static": false,
            "visibility": "public",
            "final": false,
            "code": "function()\n  {\n    return $this->update();\r\n  }",
            "startLine": 363,
            "endLine": 366,
            "isDeprecated": false,
            "isGenerator": false,
            "isInternal": false,
            "isUserDefined": true,
            "isVariadic": false,
            "returnsReference": false,
            "numberOfParameters": 0,
            "numberOfRequiredParameters": 0,
            "returns": [],
            "parent": false,
            "arguments": []
        },
        "update": {
            "name": "update",
            "summary": "Gets IMAP essential info (Test: ok)",
            "description": "",
            "description_parts": [],
            "file": "bbn\\Appui\\Mailbox",
            "static": false,
            "visibility": "public",
            "final": false,
            "code": "function(string $dir = NULL)\n  {\n    if (($dir = $this->selectFolder($dir))\r\n      && ($imap = imap_check($this->stream))\r\n    ) {\r\n      if ($imap->Nmsgs > 0) {\r\n        $this->folders[$dir]['last_uid']   = $this->getMsgUid($imap->Nmsgs);\r\n        $this->folders[$dir]['num_msg']    = $imap->Nmsgs;\r\n        $this->folders[$dir]['last_check'] = microtime(true);\r\n      }\r\n      else {\r\n        $this->folders[$dir]['last_uid']   = 0;\r\n        $this->folders[$dir]['num_msg']    = 0;\r\n        $this->folders[$dir]['last_check'] = microtime(true);\r\n      }\r\n\r\n      return $imap;\r\n    }\r\n\r\n    return false;\r\n  }",
            "startLine": 374,
            "endLine": 394,
            "isDeprecated": false,
            "isGenerator": false,
            "isInternal": false,
            "isUserDefined": true,
            "isVariadic": false,
            "returnsReference": false,
            "numberOfParameters": 1,
            "numberOfRequiredParameters": 0,
            "returns": [],
            "parent": false,
            "arguments": [
                {
                    "name": "dir",
                    "position": 0,
                    "type": "string",
                    "required": false,
                    "has_default": true,
                    "default": null,
                    "default_name": ""
                }
            ]
        },
        "createMbox": {
            "name": "createMbox",
            "summary": "Creates a mailbox (Test: ok)",
            "description": "",
            "description_parts": [],
            "file": "bbn\\Appui\\Mailbox",
            "static": false,
            "visibility": "public",
            "final": false,
            "code": "function($mbox)\n  {\n    if ($this->_is_connected()) {\r\n      if(imap_createmailbox($this->stream, $this->mbParam. $mbox)) {\r\n        return true;\r\n      }\r\n      X::log(imap_errors(), \"imap\");\r\n    }\r\n\r\n    return false;\r\n  }",
            "startLine": 403,
            "endLine": 413,
            "isDeprecated": false,
            "isGenerator": false,
            "isInternal": false,
            "isUserDefined": true,
            "isVariadic": false,
            "returnsReference": false,
            "numberOfParameters": 1,
            "numberOfRequiredParameters": 1,
            "returns": [],
            "parent": false,
            "arguments": [
                {
                    "name": "mbox",
                    "position": 0,
                    "type": "",
                    "required": true,
                    "has_default": false,
                    "default": "",
                    "default_name": "",
                    "description": "Mailbox name"
                }
            ]
        },
        "deleteMbox": {
            "name": "deleteMbox",
            "summary": "Deletes a mailbox (Test: ok)",
            "description": "",
            "description_parts": [],
            "file": "bbn\\Appui\\Mailbox",
            "static": false,
            "visibility": "public",
            "final": false,
            "code": "function($mbox)\n  {\n    if ($this->_is_connected()) {\r\n      if (imap_deletemailbox($this->stream, $this->mbParam . $mbox)) {\r\n        return true;\r\n      }\r\n      X::ddump($this->getError());\r\n    }\r\n    return false;\r\n  }",
            "startLine": 422,
            "endLine": 431,
            "isDeprecated": false,
            "isGenerator": false,
            "isInternal": false,
            "isUserDefined": true,
            "isVariadic": false,
            "returnsReference": false,
            "numberOfParameters": 1,
            "numberOfRequiredParameters": 1,
            "returns": [],
            "parent": false,
            "arguments": [
                {
                    "name": "mbox",
                    "position": 0,
                    "type": "",
                    "required": true,
                    "has_default": false,
                    "default": "",
                    "default_name": "",
                    "description": "Mailbox"
                }
            ]
        },
        "renameMbox": {
            "name": "renameMbox",
            "summary": "Renames a mailbox (Test: ok)",
            "description": "",
            "description_parts": [],
            "file": "bbn\\Appui\\Mailbox",
            "static": false,
            "visibility": "public",
            "final": false,
            "code": "function($old, $new)\n  {\n    if ($this->_is_connected()) {\r\n      if (imap_renamemailbox($this->stream, $this->mbParam. $old, $this->mbParam. $new)) {\r\n        return true;\r\n      } else {\r\n        X::ddump(imap_last_error());\r\n      }\r\n    } else {\r\n      X::ddump(\"Not connected\");\r\n    }\r\n\r\n    return false;\r\n  }",
            "startLine": 441,
            "endLine": 454,
            "isDeprecated": false,
            "isGenerator": false,
            "isInternal": false,
            "isUserDefined": true,
            "isVariadic": false,
            "returnsReference": false,
            "numberOfParameters": 2,
            "numberOfRequiredParameters": 2,
            "returns": [],
            "parent": false,
            "arguments": [
                {
                    "name": "old",
                    "position": 0,
                    "type": "",
                    "required": true,
                    "has_default": false,
                    "default": "",
                    "default_name": "",
                    "description": "Old mailbox name"
                },
                {
                    "name": "new",
                    "position": 1,
                    "type": "",
                    "required": true,
                    "has_default": false,
                    "default": "",
                    "default_name": "",
                    "description": "New mailbox name"
                }
            ]
        },
        "listAllSubscribed": {
            "name": "listAllSubscribed",
            "summary": "Returns an array of all the mailboxes that you have subscribed. (Test: ok)",
            "description": "",
            "description_parts": [],
            "file": "bbn\\Appui\\Mailbox",
            "static": false,
            "visibility": "public",
            "final": false,
            "code": "function()\n  {\n    return $this->_list_subscribed('*');\r\n  }",
            "startLine": 462,
            "endLine": 465,
            "isDeprecated": false,
            "isGenerator": false,
            "isInternal": false,
            "isUserDefined": true,
            "isVariadic": false,
            "returnsReference": false,
            "numberOfParameters": 0,
            "numberOfRequiredParameters": 0,
            "returns": [],
            "parent": false,
            "arguments": []
        },
        "listCurlevSubscribed": {
            "name": "listCurlevSubscribed",
            "summary": "Returns an array containing the names of the current level mailboxes that you have subscribed. (Test: ok)",
            "description": "",
            "description_parts": [],
            "file": "bbn\\Appui\\Mailbox",
            "static": false,
            "visibility": "public",
            "final": false,
            "code": "function($dir = '')\n  {\n    return $this->_list_subscribed($dir . '%');\r\n  }",
            "startLine": 474,
            "endLine": 477,
            "isDeprecated": false,
            "isGenerator": false,
            "isInternal": false,
            "isUserDefined": true,
            "isVariadic": false,
            "returnsReference": false,
            "numberOfParameters": 1,
            "numberOfRequiredParameters": 0,
            "returns": [],
            "parent": false,
            "arguments": [
                {
                    "name": "dir",
                    "position": 0,
                    "type": "",
                    "required": false,
                    "has_default": true,
                    "default": "",
                    "default_name": "",
                    "description": "Current mailbox folder"
                }
            ]
        },
        "listAllFolders": {
            "name": "listAllFolders",
            "summary": "Returns an array containing the full names of the all mailboxes.  (Test: ok)",
            "description": "",
            "description_parts": [],
            "file": "bbn\\Appui\\Mailbox",
            "static": false,
            "visibility": "public",
            "final": false,
            "code": "function()\n  {\n    return $this->_list_folders('*');\r\n  }",
            "startLine": 485,
            "endLine": 488,
            "isDeprecated": false,
            "isGenerator": false,
            "isInternal": false,
            "isUserDefined": true,
            "isVariadic": false,
            "returnsReference": false,
            "numberOfParameters": 0,
            "numberOfRequiredParameters": 0,
            "returns": [],
            "parent": false,
            "arguments": []
        },
        "listCurlevFolders": {
            "name": "listCurlevFolders",
            "summary": "Returns an array containing the full names of the current level mailboxes.  (Test: ok)",
            "description": "",
            "description_parts": [],
            "file": "bbn\\Appui\\Mailbox",
            "static": false,
            "visibility": "public",
            "final": false,
            "code": "function($dir = '')\n  {\n    return $this->_list_folders($dir . '%');\r\n  }",
            "startLine": 497,
            "endLine": 500,
            "isDeprecated": false,
            "isGenerator": false,
            "isInternal": false,
            "isUserDefined": true,
            "isVariadic": false,
            "returnsReference": false,
            "numberOfParameters": 1,
            "numberOfRequiredParameters": 0,
            "returns": [],
            "parent": false,
            "arguments": [
                {
                    "name": "dir",
                    "position": 0,
                    "type": "",
                    "required": false,
                    "has_default": true,
                    "default": "",
                    "default_name": "",
                    "description": "Current mailbox folder"
                }
            ]
        },
        "getAllFolders": {
            "name": "getAllFolders",
            "summary": "Returns an array of objects for all mailboxes containing detailed mailbox information. (Test: ok)",
            "description": "",
            "description_parts": [],
            "file": "bbn\\Appui\\Mailbox",
            "static": false,
            "visibility": "public",
            "final": false,
            "code": "function()\n  {\n    return $this->_get_folders('*');\r\n  }",
            "startLine": 508,
            "endLine": 511,
            "isDeprecated": false,
            "isGenerator": false,
            "isInternal": false,
            "isUserDefined": true,
            "isVariadic": false,
            "returnsReference": false,
            "numberOfParameters": 0,
            "numberOfRequiredParameters": 0,
            "returns": [],
            "parent": false,
            "arguments": []
        },
        "getCurlevFolders": {
            "name": "getCurlevFolders",
            "summary": "Returns an array of objects for each current level mailboxes containing detailed mailbox information. (Test: ok)",
            "description": "",
            "description_parts": [],
            "file": "bbn\\Appui\\Mailbox",
            "static": false,
            "visibility": "public",
            "final": false,
            "code": "function($dir = '')\n  {\n    return $this->_get_folders($dir . '%');\r\n  }",
            "startLine": 520,
            "endLine": 523,
            "isDeprecated": false,
            "isGenerator": false,
            "isInternal": false,
            "isUserDefined": true,
            "isVariadic": false,
            "returnsReference": false,
            "numberOfParameters": 1,
            "numberOfRequiredParameters": 0,
            "returns": [],
            "parent": false,
            "arguments": [
                {
                    "name": "dir",
                    "position": 0,
                    "type": "",
                    "required": false,
                    "has_default": true,
                    "default": "",
                    "default_name": "",
                    "description": "Mailbox folder"
                }
            ]
        },
        "getAllNamesFolders": {
            "name": "getAllNamesFolders",
            "summary": "Returns a sorted array containing the simple names of the all mailboxes. (Test: ok)",
            "description": "",
            "description_parts": [],
            "file": "bbn\\Appui\\Mailbox",
            "static": false,
            "visibility": "public",
            "final": false,
            "code": "function()\n  {\n    return $this->_get_names_folders('*');\r\n  }",
            "startLine": 531,
            "endLine": 534,
            "isDeprecated": false,
            "isGenerator": false,
            "isInternal": false,
            "isUserDefined": true,
            "isVariadic": false,
            "returnsReference": false,
            "numberOfParameters": 0,
            "numberOfRequiredParameters": 0,
            "returns": [],
            "parent": false,
            "arguments": []
        },
        "getCurlevNamesFolders": {
            "name": "getCurlevNamesFolders",
            "summary": "Returns a sorted array containing the simple names of the current level mailboxes. (Test: ok)",
            "description": "",
            "description_parts": [],
            "file": "bbn\\Appui\\Mailbox",
            "static": false,
            "visibility": "public",
            "final": false,
            "code": "function($dir = '')\n  {\n    return $this->_get_names_folders($dir . '%');\r\n  }",
            "startLine": 543,
            "endLine": 546,
            "isDeprecated": false,
            "isGenerator": false,
            "isInternal": false,
            "isUserDefined": true,
            "isVariadic": false,
            "returnsReference": false,
            "numberOfParameters": 1,
            "numberOfRequiredParameters": 0,
            "returns": [],
            "parent": false,
            "arguments": [
                {
                    "name": "dir",
                    "position": 0,
                    "type": "",
                    "required": false,
                    "has_default": true,
                    "default": "",
                    "default_name": "",
                    "description": "Current mailbox folder"
                }
            ]
        },
        "selectFolder": {
            "name": "selectFolder",
            "summary": "Reopens the desired mailbox (you can give it the simple name or the full name). (Test: ok)",
            "description": "If the given name is not existing it opens the default inbox.",
            "description_parts": [
                {
                    "type": "text",
                    "content": "<p>If the given name is not existing it opens the default inbox.<\/p>"
                }
            ],
            "file": "bbn\\Appui\\Mailbox",
            "static": false,
            "visibility": "public",
            "final": false,
            "code": "function(string $folder = NULL)\n  {\n    if ($this->_is_connected()) {\r\n      if (!$folder || ($this->folder === $folder)) {\r\n        return $folder ?: $this->folder;\r\n      }\r\n\r\n      if (\\in_array($folder, $this->getAllNamesFolders())) {\r\n        $res = imap_reopen($this->stream, $this->mbParam . $folder);\r\n      }\r\n      else {\r\n        $res = imap_reopen($this->stream, $folder);\r\n      }\r\n\r\n      if ($res) {\r\n        if (!isset($this->folders[$folder])) {\r\n          $this->folders[$folder] = [\r\n            'last_uid' => null,\r\n            'num_msg'  => null,\r\n            'last_check' => null\r\n          ];\r\n        }\r\n\r\n        $this->folder = $folder;\r\n        return $folder;\r\n      }\r\n    }\r\n\r\n    return null;\r\n  }",
            "startLine": 556,
            "endLine": 585,
            "isDeprecated": false,
            "isGenerator": false,
            "isInternal": false,
            "isUserDefined": true,
            "isVariadic": false,
            "returnsReference": false,
            "numberOfParameters": 1,
            "numberOfRequiredParameters": 0,
            "returns": [
                null,
                "string"
            ],
            "parent": false,
            "arguments": [
                {
                    "name": "folder",
                    "position": 0,
                    "type": "string",
                    "required": false,
                    "has_default": true,
                    "default": null,
                    "default_name": "",
                    "description": "Simple\/full mailbox name"
                }
            ]
        },
        "getInfoFolder": {
            "name": "getInfoFolder",
            "summary": "Returns an object containing the current mailbox info. (Test: ok)",
            "description": "",
            "description_parts": [],
            "file": "bbn\\Appui\\Mailbox",
            "static": false,
            "visibility": "public",
            "final": false,
            "code": "function(string $dir = NULL)\n  {\n    if ($this->_is_connected()) {\r\n      if (!$dir || $this->selectFolder($dir)) {\r\n        return imap_mailboxmsginfo($this->stream);\r\n      }\r\n    }\r\n\r\n    return false;\r\n  }",
            "startLine": 593,
            "endLine": 602,
            "isDeprecated": false,
            "isGenerator": false,
            "isInternal": false,
            "isUserDefined": true,
            "isVariadic": false,
            "returnsReference": false,
            "numberOfParameters": 1,
            "numberOfRequiredParameters": 0,
            "returns": [],
            "parent": false,
            "arguments": [
                {
                    "name": "dir",
                    "position": 0,
                    "type": "string",
                    "required": false,
                    "has_default": true,
                    "default": null,
                    "default_name": ""
                }
            ]
        },
        "getEmailsList": {
            "name": "getEmailsList",
            "summary": "",
            "description": "",
            "description_parts": [],
            "file": "bbn\\Appui\\Mailbox",
            "static": false,
            "visibility": "public",
            "final": false,
            "code": "function(array $folder, int $start, int $end)\n  {\n    $current = $this->folders[$folder['uid']];\r\n    \/\/$folder_last = $this->getMsgNo((int)$current['last_uid']);\r\n    $folder_num = $current['num_msg'];\r\n\r\n    $tmp = [];\r\n    if (isset($this->folders[$folder['uid']])\r\n      && $this->selectFolder($folder['uid'])\r\n    ) {\r\n      $res = [];\r\n      while ($start >= $end) {\r\n        try {\r\n          $tmp = (array)$this->decode_encoded_words_deep($this->getMsgHeaderinfo($start));\r\n\r\n          \/\/ imap decode the subject\r\n          if (isset($tmp['subject']) && is_string($tmp['subject'])) {\r\n            $tmp['subject'] = imap_mime_header_decode($tmp['subject'])[0]->text;\r\n          }\r\n\r\n          \/\/ for each string in the array decode quoted printable\r\n          foreach ($tmp as $key => $value) {\r\n            if (is_string($value)) {\r\n              $tmp[$key] = quoted_printable_decode($value);\r\n            }\r\n          }\r\n\r\n          \/\/ to fetch the message priority\r\n          $msg_header = $this->getMsgHeader($start);\r\n          preg_match('\/X-Priority: ([0-9])\/', $msg_header, $matches);\r\n          $priority = $matches[1] ?? 3;\r\n\r\n          $structure = $this->getMsgStructure($start);\r\n          if (!$tmp || !$structure) {\r\n            continue;\r\n          }\r\n\r\n          $tmp['date_sent'] = date('Y-m-d H:i:s', strtotime($tmp['Date']));\r\n          $tmp['date_server'] = date('Y-m-d H:i:s', strtotime($tmp['MailDate']));\r\n          $tmp['uid'] = $this->getMsgUid($start);\r\n          $tmp['priority'] = $priority;\r\n          unset(\r\n            $tmp['Date'],\r\n            $tmp['MailDate'],\r\n            $tmp['Subject'],\r\n            $tmp['sender'],\r\n            $tmp['toaddress'],\r\n            $tmp['fromaddress'],\r\n            $tmp['senderaddress'],\r\n            $tmp['reply_toaddress']\r\n          );\r\n          foreach ($tmp as $k => $v) {\r\n            if (is_string($v)) {\r\n              $tmp[$k] = trim($v);\r\n              if (empty($v)) {\r\n                $tmp[$k] = false;\r\n              } elseif (Str::isNumber($v)) {\r\n                $tmp[$k] = (int)$v;\r\n              } elseif ($k === 'subject') {\r\n                $tmp[$k] = $this->decode_encoded_words_deep($v);\r\n                if (mb_detect_encoding($v) !== 'UTF-8') {\r\n                  $tmp[$k] = mb_convert_encoding(iconv_mime_decode($v, ICONV_MIME_DECODE_CONTINUE_ON_ERROR, \"UTF-8\"), \"UTF-8\");\r\n                }\r\n                if (strlen($tmp[$k]) > 1000) {\r\n                  $tmp[$k] = Str::cut($tmp[$k], 1000);\r\n                }\r\n              }\r\n            }\r\n          }\r\n\r\n          foreach (self::getDestFields() as $df) {\r\n            if (!empty($tmp[$df])) {\r\n              $ads = [];\r\n              foreach ($tmp[$df] as $a) {\r\n                if (isset($a->host)) {\r\n                  $ads[] = [\r\n                    'name' => empty($a->personal) ? null : mb_convert_encoding(iconv_mime_decode($a->personal, ICONV_MIME_DECODE_CONTINUE_ON_ERROR, \"UTF-8\"), \"UTF-8\"),\r\n                    'email' => strtolower($a->mailbox . '@' . $a->host),\r\n                    'host' => $a->host\r\n                  ];\r\n                } else {\r\n                  $this->log((array)$a);\r\n                }\r\n              }\r\n\r\n              $tmp[$df] = $ads;\r\n            }\r\n          }\r\n          $tmp['references'] = empty($tmp['references']) ? [] : X::split(substr($tmp['references'], 1, -1), '> <');\r\n          if (!isset($tmp['subject'])) {\r\n            $tmp['subject'] = '';\r\n          }\r\n          $tmp['message_id'] = isset($tmp['message_id']) ? substr($tmp['message_id'], 1, -1) : $this->transformString($tmp['uid'] ?? \"\" . $tmp['date_sent'] ?? \"\" . $tmp['subject'] ?? \"\") . '@bbn.so';\r\n\r\n          $tmp['in_reply_to'] = empty($tmp['in_reply_to']) ? false : substr($tmp['in_reply_to'], 1, -1);\r\n          $tmp['attachments'] = [];\r\n          $tmp['is_html'] = false;\r\n          if (empty($structure->parts)) {\r\n            $tmp['is_html'] = $structure->subtype === 'HTML';\r\n          } else {\r\n            foreach ($structure->parts as $part) {\r\n\r\n              if ($part->ifdisposition\r\n                && (strtolower($part->disposition) === 'attachment')\r\n                && $part->ifparameters\r\n                && ($name_row = X::getRow($part->parameters, ['attribute' => 'name']))\r\n              ) {\r\n                $tmp['attachments'][] = [\r\n                  'name' => $name_row->value,\r\n                  'size' => $part->bytes,\r\n                  'type' => Str::fileExt($name_row->value)\r\n                ];\r\n              } elseif (!empty($part->parts)) {\r\n                foreach ($part->parts as $p) {\r\n                  if ($p->subtype === 'HTML') {\r\n                    $tmp['is_html'] = true;\r\n                    break;\r\n                  }\r\n                }\r\n              } elseif ($part->subtype === 'HTML') {\r\n                $tmp['is_html'] = true;\r\n              }\r\n            }\r\n          }\r\n\r\n          $res[] = $tmp;\r\n          $start--;\r\n        } catch (\\Exception $e) {\r\n          X::log([\r\n            'error' => \"An error occured when trying to get the message $start \" . $e->getMessage(),\r\n            'tmp' => $tmp,\r\n            'start' => $start,\r\n            'header' => $this->getMsgHeader($start),\r\n          ], 'poller_email_error');\r\n          $start--;\r\n        }\r\n      }\r\n\r\n      return $res;\r\n    }\r\n  }",
            "startLine": 667,
            "endLine": 807,
            "isDeprecated": false,
            "isGenerator": false,
            "isInternal": false,
            "isUserDefined": true,
            "isVariadic": false,
            "returnsReference": false,
            "numberOfParameters": 3,
            "numberOfRequiredParameters": 3,
            "returns": [],
            "parent": false,
            "arguments": [
                {
                    "name": "folder",
                    "position": 0,
                    "type": "array",
                    "required": true,
                    "has_default": false,
                    "default": "",
                    "default_name": ""
                },
                {
                    "name": "start",
                    "position": 1,
                    "type": "int",
                    "required": true,
                    "has_default": false,
                    "default": "",
                    "default_name": ""
                },
                {
                    "name": "end",
                    "position": 2,
                    "type": "int",
                    "required": true,
                    "has_default": false,
                    "default": "",
                    "default_name": ""
                }
            ]
        },
        "getMsg": {
            "name": "getMsg",
            "summary": "",
            "description": "",
            "description_parts": [],
            "file": "bbn\\Appui\\Mailbox",
            "static": false,
            "visibility": "public",
            "final": false,
            "code": "function($msgno, $id, $id_account)\n  {\n    \/\/ input $mbox = IMAP stream, $msgno = message id\r\n    \/\/ output all the following:\r\n    $this->_htmlmsg     = '';\r\n    $this->_plainmsg    = '';\r\n    $this->_charset     = '';\r\n    $this->_attachments = [];\r\n\r\n\r\n\r\n    \/\/ check if \"BBN_USER_PATH . 'tmp_mail'\" directory exists\r\n\r\n\r\n    \/\/ HEADER\r\n    $res = (array)$this->decode_encoded_words_deep($this->getMsgHeaderinfo($msgno));\r\n    \/\/ add code here to get date, from, to, cc, subject...\r\n    \/\/ BODY STRUCTURE\r\n\r\n    if (isset($res['subject']) && is_string($res['subject'])) {\r\n      $res['subject'] = imap_mime_header_decode($res['subject'])[0]->text;\r\n    }\r\n\r\n    foreach ($res as $key => $value) {\r\n      if (is_string($value)) {\r\n        $res[$key] = quoted_printable_decode($value);\r\n      }\r\n    }\r\n\r\n\r\n    $structure = $this->decode_encoded_words_deep($this->getMsgStructure($msgno));\r\n    if (empty($structure->parts)) {  \/\/ simple\r\n      $this->_get_msg_part($msgno, $structure, 0, $id, $id_account);  \/\/ pass 0 as part-number\r\n    }\r\n    else {  \/\/ multipart: cycle through each part\r\n      foreach ($structure->parts as $partno0 => $p){\r\n        $this->_get_msg_part($msgno, $p, $partno0 + 1, $id, $id_account);\r\n        \/\/ check if the part have fdisposition and if disposition its inline\r\n        if (!empty($p->parts)) {\r\n          foreach ($p->parts as $p2) {\r\n            if (isset($p2->ifdisposition) && isset($p2->disposition) && (strtolower($p2->disposition) === 'inline')) {\r\n              if (isset($p2->dparameters) && is_array($p2->dparameters)) {\r\n                \/\/ search in dparameters when attribute is filename\r\n                foreach ($p2->dparameters as $dparam) {\r\n                  if (!empty($p2->id) && isset($dparam->attribute) && strtolower($dparam->attribute) === 'filename') {\r\n                    $this->_inline_files[] = [\r\n                      'name' => $dparam->value,\r\n                      'id' => substr($p2->id, 1, -1)\r\n                    ];\r\n                  }\r\n                }\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n    if ($res['html'] = $this->_htmlmsg) {\r\n\r\n      \/\/ replace cid links by name\r\n      $attachments_path = BBN_USER_PATH . 'tmp_mail' . DIRECTORY_SEPARATOR . $id_account . DIRECTORY_SEPARATOR . $id . DIRECTORY_SEPARATOR;\r\n      $res['html'] = preg_replace_callback(\r\n        '\/src=\"cid:(.*?)\"\/',\r\n        function ($m) use ($attachments_path) {\r\n          $res = $m[0];\r\n          $cid = $m[1];\r\n          \/\/ get the name of the file with the cid in inline array\r\n          $att = null;\r\n          foreach ($this->_inline_files as $a) {\r\n            if ($a['id'] === $cid) {\r\n              $att = $a['name'];\r\n              break;\r\n            }\r\n          }\r\n          \/\/ encode this file BBN_USER_PATH . 'tmp_mail\/' . $att in base64\r\n\r\n          $file = $attachments_path. $att;\r\n\r\n          \/\/ check if the file in an image and get the extension\r\n          $ext = strtolower(pathinfo($file, PATHINFO_EXTENSION));\r\n          if (in_array($ext, ['jpg', 'jpeg', 'png', 'gif'])) {\r\n            $type = 'image\/' . $ext;\r\n            if (file_exists($file)) {\r\n              $base64 = 'src=\"data:' . $type . ';base64,' . base64_encode(file_get_contents($file)) . '\"';\r\n              if ($att) {\r\n                \/\/ set src to base64 decode for html\r\n                $res = $base64;\r\n              }\r\n            }\r\n          }\r\n\r\n          return $res;\r\n        },\r\n        $res['html']\r\n      );\r\n\r\n\r\n      $config = HTMLPurifier_HTML5Config::createDefault();\r\n\r\n      $config->set('URI.AllowedSchemes', [\r\n        'http' => true,\r\n        'https' => true,\r\n        'mailto' => true,\r\n        'ftp' => true,\r\n        'nntp' => true,\r\n        'news' => true,\r\n        'tel' => true,\r\n      ]);\r\n\r\n      \/\/\\HTMLPurifier_URISchemeRegistry::instance()->register(\"data\", new HTMLPurifier_URIScheme_data());\r\n      $purifier    = new HTMLPurifier($config);\r\n\/\/        X::ddump($config, $this->_htmlmsg);\r\n\r\n      if ($res['html']) {\r\n        $save = $res['html'];\r\n        try {\r\n          $res['html'] = $purifier->purify(quoted_printable_decode($res['html']));\r\n        } catch (\\Exception $e) {\r\n          X::log([\r\n            'error' => $e->getMessage(),\r\n            'html' => $save\r\n          ], 'htmlpurifier');\r\n          $res['html'] = '';\r\n        }\r\n      }\r\n    }\r\n\r\n    $res['plain']      = $this->_plainmsg;\r\n    $res['charset']    = $this->_charset;\r\n    $res['attachment'] = $this->_attachments;\r\n    $res['inline']     = $this->_inline_files;\r\n\r\n    \/\/ set res to string and quoted printable decode\r\n    foreach ($res as $k => $v) {\r\n      if (is_string($v)) {\r\n        $res[$k] = quoted_printable_decode($v);\r\n      }\r\n    }\r\n\r\n    return $res;\r\n  }",
            "startLine": 815,
            "endLine": 955,
            "isDeprecated": false,
            "isGenerator": false,
            "isInternal": false,
            "isUserDefined": true,
            "isVariadic": false,
            "returnsReference": false,
            "numberOfParameters": 3,
            "numberOfRequiredParameters": 3,
            "returns": [],
            "parent": false,
            "arguments": [
                {
                    "name": "msgno",
                    "position": 0,
                    "type": "",
                    "required": true,
                    "has_default": false,
                    "default": "",
                    "default_name": ""
                },
                {
                    "name": "id",
                    "position": 1,
                    "type": "",
                    "required": true,
                    "has_default": false,
                    "default": "",
                    "default_name": ""
                },
                {
                    "name": "id_account",
                    "position": 2,
                    "type": "",
                    "required": true,
                    "has_default": false,
                    "default": "",
                    "default_name": ""
                }
            ]
        },
        "sortFolder": {
            "name": "sortFolder",
            "summary": "Sorts the mailbox. (Test: ok)",
            "description": "Criteria can be one (and only one) of the following:\nSORTDATE - message Date\nSORTARRIVAL - arrival date\nSORTFROM - mailbox in first From address\nSORTSUBJECT - message subject\nSORTTO - mailbox in first To address\nSORTCC - mailbox in first cc address\nSORTSIZE - size of message in octets",
            "description_parts": [
                {
                    "type": "text",
                    "content": "<p>Criteria can be one (and only one) of the following:\nSORTDATE - message Date\nSORTARRIVAL - arrival date\nSORTFROM - mailbox in first From address\nSORTSUBJECT - message subject\nSORTTO - mailbox in first To address\nSORTCC - mailbox in first cc address\nSORTSIZE - size of message in octets<\/p>"
                }
            ],
            "file": "bbn\\Appui\\Mailbox",
            "static": false,
            "visibility": "public",
            "final": false,
            "code": "function($criteria, $reverse = 0)\n  {\n    if ($this->_is_connected() && !empty($criteria)) {\r\n      return imap_sort($this->stream, constant(strtoupper($criteria)), $reverse, SE_NOPREFETCH);\r\n    }\r\n\r\n    return false;\r\n  }",
            "startLine": 973,
            "endLine": 980,
            "isDeprecated": false,
            "isGenerator": false,
            "isInternal": false,
            "isUserDefined": true,
            "isVariadic": false,
            "returnsReference": false,
            "numberOfParameters": 2,
            "numberOfRequiredParameters": 1,
            "returns": [],
            "parent": false,
            "arguments": [
                {
                    "name": "criteria",
                    "position": 0,
                    "type": "",
                    "required": true,
                    "has_default": false,
                    "default": "",
                    "default_name": "",
                    "description": "Pass it without quote or double quote"
                },
                {
                    "name": "reverse",
                    "position": 1,
                    "type": "",
                    "required": false,
                    "has_default": true,
                    "default": 0,
                    "default_name": "",
                    "description": "Set this to 1 for reverse sorting"
                }
            ]
        },
        "getThreads": {
            "name": "getThreads",
            "summary": "",
            "description": "",
            "description_parts": [],
            "file": "bbn\\Appui\\Mailbox",
            "static": false,
            "visibility": "public",
            "final": false,
            "code": "function()\n  {\n    if ($this->_is_connected()) {\r\n      return imap_thread($this->stream);\r\n    }\r\n\r\n    return false;\r\n  }",
            "startLine": 982,
            "endLine": 989,
            "isDeprecated": false,
            "isGenerator": false,
            "isInternal": false,
            "isUserDefined": true,
            "isVariadic": false,
            "returnsReference": false,
            "numberOfParameters": 0,
            "numberOfRequiredParameters": 0,
            "returns": [],
            "parent": false,
            "arguments": []
        },
        "listAllMboxes": {
            "name": "listAllMboxes",
            "summary": "Returns an array containing the full names of the all mailboxes.  (Test: ok)",
            "description": "",
            "description_parts": [],
            "file": "bbn\\Appui\\Mailbox",
            "static": false,
            "visibility": "public",
            "final": false,
            "code": "function()\n  {\n    return $this->_list_mboxes('*');\r\n  }",
            "startLine": 997,
            "endLine": 1000,
            "isDeprecated": false,
            "isGenerator": false,
            "isInternal": false,
            "isUserDefined": true,
            "isVariadic": false,
            "returnsReference": false,
            "numberOfParameters": 0,
            "numberOfRequiredParameters": 0,
            "returns": [],
            "parent": false,
            "arguments": []
        },
        "listCurlevMboxes": {
            "name": "listCurlevMboxes",
            "summary": "Returns an array containing the full names of the current level mailboxes.  (Test: ok)",
            "description": "",
            "description_parts": [],
            "file": "bbn\\Appui\\Mailbox",
            "static": false,
            "visibility": "public",
            "final": false,
            "code": "function($dir = '')\n  {\n    return $this->_list_mboxes($dir . '%');\r\n  }",
            "startLine": 1010,
            "endLine": 1013,
            "isDeprecated": false,
            "isGenerator": false,
            "isInternal": false,
            "isUserDefined": true,
            "isVariadic": false,
            "returnsReference": false,
            "numberOfParameters": 1,
            "numberOfRequiredParameters": 0,
            "returns": [],
            "parent": false,
            "arguments": [
                {
                    "name": "dir",
                    "position": 0,
                    "type": "",
                    "required": false,
                    "has_default": true,
                    "default": "",
                    "default_name": "",
                    "description": "Current mailbox folder"
                }
            ]
        },
        "getAllMboxes": {
            "name": "getAllMboxes",
            "summary": "Returns an array of objects for all mailboxes containing detailed mailbox information. (Test: ok)",
            "description": "",
            "description_parts": [],
            "file": "bbn\\Appui\\Mailbox",
            "static": false,
            "visibility": "public",
            "final": false,
            "code": "function()\n  {\n    return $this->_get_mboxes('*');\r\n  }",
            "startLine": 1022,
            "endLine": 1025,
            "isDeprecated": false,
            "isGenerator": false,
            "isInternal": false,
            "isUserDefined": true,
            "isVariadic": false,
            "returnsReference": false,
            "numberOfParameters": 0,
            "numberOfRequiredParameters": 0,
            "returns": [],
            "parent": false,
            "arguments": []
        },
        "getCurlevMboxes": {
            "name": "getCurlevMboxes",
            "summary": "Returns an array of objects for each current level mailboxes containing detailed mailbox information. (Test: ok)",
            "description": "",
            "description_parts": [],
            "file": "bbn\\Appui\\Mailbox",
            "static": false,
            "visibility": "public",
            "final": false,
            "code": "function($dir = '')\n  {\n    return $this->_get_mboxes($dir . '%');\r\n  }",
            "startLine": 1035,
            "endLine": 1038,
            "isDeprecated": false,
            "isGenerator": false,
            "isInternal": false,
            "isUserDefined": true,
            "isVariadic": false,
            "returnsReference": false,
            "numberOfParameters": 1,
            "numberOfRequiredParameters": 0,
            "returns": [],
            "parent": false,
            "arguments": [
                {
                    "name": "dir",
                    "position": 0,
                    "type": "",
                    "required": false,
                    "has_default": true,
                    "default": "",
                    "default_name": "",
                    "description": "Mailbox folder"
                }
            ]
        },
        "getAllNamesMboxes": {
            "name": "getAllNamesMboxes",
            "summary": "Returns a sorted array containing the simple names of the all mailboxes. (Test: ok)",
            "description": "",
            "description_parts": [],
            "file": "bbn\\Appui\\Mailbox",
            "static": false,
            "visibility": "public",
            "final": false,
            "code": "function()\n  {\n    return $this->_get_names_mboxes('*');\r\n  }",
            "startLine": 1047,
            "endLine": 1050,
            "isDeprecated": false,
            "isGenerator": false,
            "isInternal": false,
            "isUserDefined": true,
            "isVariadic": false,
            "returnsReference": false,
            "numberOfParameters": 0,
            "numberOfRequiredParameters": 0,
            "returns": [],
            "parent": false,
            "arguments": []
        },
        "getCurlevNamesMboxes": {
            "name": "getCurlevNamesMboxes",
            "summary": "Returns a sorted array containing the simple names of the current level mailboxes. (Test: ok)",
            "description": "",
            "description_parts": [],
            "file": "bbn\\Appui\\Mailbox",
            "static": false,
            "visibility": "public",
            "final": false,
            "code": "function($dir = '')\n  {\n    return $this->_get_names_mboxes($dir . '%');\r\n  }",
            "startLine": 1060,
            "endLine": 1063,
            "isDeprecated": false,
            "isGenerator": false,
            "isInternal": false,
            "isUserDefined": true,
            "isVariadic": false,
            "returnsReference": false,
            "numberOfParameters": 1,
            "numberOfRequiredParameters": 0,
            "returns": [],
            "parent": false,
            "arguments": [
                {
                    "name": "dir",
                    "position": 0,
                    "type": "",
                    "required": false,
                    "has_default": true,
                    "default": "",
                    "default_name": "",
                    "description": "Current mailbox folder"
                }
            ]
        },
        "reopenMbox": {
            "name": "reopenMbox",
            "summary": "Reopens the desired mailbox (you can give it the simple name or the full name). (Test: ok)",
            "description": "If the given name is not existing it opens the default inbox.",
            "description_parts": [
                {
                    "type": "text",
                    "content": "<p>If the given name is not existing it opens the default inbox.<\/p>"
                }
            ],
            "file": "bbn\\Appui\\Mailbox",
            "static": false,
            "visibility": "public",
            "final": false,
            "code": "function(string $mbox)\n  {\n    return $this->selectFolder($mbox);\r\n  }",
            "startLine": 1074,
            "endLine": 1077,
            "isDeprecated": false,
            "isGenerator": false,
            "isInternal": false,
            "isUserDefined": true,
            "isVariadic": false,
            "returnsReference": false,
            "numberOfParameters": 1,
            "numberOfRequiredParameters": 1,
            "returns": [
                "bool"
            ],
            "parent": false,
            "arguments": [
                {
                    "name": "mbox",
                    "position": 0,
                    "type": "string",
                    "required": true,
                    "has_default": false,
                    "default": "",
                    "default_name": "",
                    "description": "Simple\/full mailbox name"
                }
            ]
        },
        "getInfoMbox": {
            "name": "getInfoMbox",
            "summary": "Returns an object containing the current mailbox info. (Test: ok)",
            "description": "",
            "description_parts": [],
            "file": "bbn\\Appui\\Mailbox",
            "static": false,
            "visibility": "public",
            "final": false,
            "code": "function()\n  {\n    if ($this->_is_connected()) {\r\n      return imap_mailboxmsginfo($this->stream);\r\n    }\r\n\r\n    return false;\r\n  }",
            "startLine": 1085,
            "endLine": 1092,
            "isDeprecated": false,
            "isGenerator": false,
            "isInternal": false,
            "isUserDefined": true,
            "isVariadic": false,
            "returnsReference": false,
            "numberOfParameters": 0,
            "numberOfRequiredParameters": 0,
            "returns": [],
            "parent": false,
            "arguments": []
        },
        "sortMbox": {
            "name": "sortMbox",
            "summary": "Sorts the mailbox. (Test: ok)",
            "description": "Criteria can be one (and only one) of the following:\nSORTDATE - message Date\nSORTARRIVAL - arrival date\nSORTFROM - mailbox in first From address\nSORTSUBJECT - message subject\nSORTTO - mailbox in first To address\nSORTCC - mailbox in first cc address\nSORTSIZE - size of message in octets",
            "description_parts": [
                {
                    "type": "text",
                    "content": "<p>Criteria can be one (and only one) of the following:\nSORTDATE - message Date\nSORTARRIVAL - arrival date\nSORTFROM - mailbox in first From address\nSORTSUBJECT - message subject\nSORTTO - mailbox in first To address\nSORTCC - mailbox in first cc address\nSORTSIZE - size of message in octets<\/p>"
                }
            ],
            "file": "bbn\\Appui\\Mailbox",
            "static": false,
            "visibility": "public",
            "final": false,
            "code": "function($criteria, $reverse = 0)\n  {\n    if ($this->_is_connected() && !empty($criteria)) {\r\n      return imap_sort($this->stream, constant(strtoupper($criteria)), $reverse, SE_NOPREFETCH);\r\n    }\r\n\r\n    return false;\r\n  }",
            "startLine": 1110,
            "endLine": 1117,
            "isDeprecated": false,
            "isGenerator": false,
            "isInternal": false,
            "isUserDefined": true,
            "isVariadic": false,
            "returnsReference": false,
            "numberOfParameters": 2,
            "numberOfRequiredParameters": 1,
            "returns": [],
            "parent": false,
            "arguments": [
                {
                    "name": "criteria",
                    "position": 0,
                    "type": "",
                    "required": true,
                    "has_default": false,
                    "default": "",
                    "default_name": "",
                    "description": "Pass it without quote or double quote"
                },
                {
                    "name": "reverse",
                    "position": 1,
                    "type": "",
                    "required": false,
                    "has_default": true,
                    "default": 0,
                    "default_name": "",
                    "description": "Set this to 1 for reverse sorting"
                }
            ]
        },
        "getMsgHeaderinfo": {
            "name": "getMsgHeaderinfo",
            "summary": "Retrieves the header's message info. (Test: ok)",
            "description": "",
            "description_parts": [],
            "file": "bbn\\Appui\\Mailbox",
            "static": false,
            "visibility": "public",
            "final": false,
            "code": "function(int $msgnum)\n  {\n    if ($msgnum && $this->_is_connected()) {\r\n      try {\r\n        $res = imap_headerinfo($this->stream, $msgnum);\r\n      }\r\n      catch (\\Exception $e) {\r\n        $this->log($e->getMessage().' '.(string)$msgnum);\r\n      }\r\n\r\n      if (!$res) {\r\n        X::log($msgnum, 'bad_numbers');\r\n      }\r\n    }\r\n\r\n    return $res ?? null;\r\n  }",
            "startLine": 1126,
            "endLine": 1142,
            "isDeprecated": false,
            "isGenerator": false,
            "isInternal": false,
            "isUserDefined": true,
            "isVariadic": false,
            "returnsReference": false,
            "numberOfParameters": 1,
            "numberOfRequiredParameters": 1,
            "returns": [],
            "parent": false,
            "arguments": [
                {
                    "name": "msgnum",
                    "position": 0,
                    "type": "int",
                    "required": true,
                    "has_default": false,
                    "default": "",
                    "default_name": ""
                }
            ]
        },
        "getMsgUid": {
            "name": "getMsgUid",
            "summary": "Gets the UID of the message. (Test: ok)",
            "description": "",
            "description_parts": [],
            "file": "bbn\\Appui\\Mailbox",
            "static": false,
            "visibility": "public",
            "final": false,
            "code": "function($msgnum)\n  {\n    if ($msgnum && $this->_is_connected()) {\r\n      return imap_uid($this->stream, $msgnum);\r\n    }\r\n\r\n    return false;\r\n  }",
            "startLine": 1151,
            "endLine": 1158,
            "isDeprecated": false,
            "isGenerator": false,
            "isInternal": false,
            "isUserDefined": true,
            "isVariadic": false,
            "returnsReference": false,
            "numberOfParameters": 1,
            "numberOfRequiredParameters": 1,
            "returns": [],
            "parent": false,
            "arguments": [
                {
                    "name": "msgnum",
                    "position": 0,
                    "type": "",
                    "required": true,
                    "has_default": false,
                    "default": "",
                    "default_name": ""
                }
            ]
        },
        "getMsgNo": {
            "name": "getMsgNo",
            "summary": "Gets the NO of the message. (Test: ok)",
            "description": "",
            "description_parts": [],
            "file": "bbn\\Appui\\Mailbox",
            "static": false,
            "visibility": "public",
            "final": false,
            "code": "function($msguid)\n  {\n    if ($this->_is_connected()) {\r\n      return imap_msgno($this->stream, $msguid);\r\n    }\r\n\r\n    return false;\r\n  }",
            "startLine": 1167,
            "endLine": 1174,
            "isDeprecated": false,
            "isGenerator": false,
            "isInternal": false,
            "isUserDefined": true,
            "isVariadic": false,
            "returnsReference": false,
            "numberOfParameters": 1,
            "numberOfRequiredParameters": 1,
            "returns": [],
            "parent": false,
            "arguments": [
                {
                    "name": "msguid",
                    "position": 0,
                    "type": "",
                    "required": true,
                    "has_default": false,
                    "default": "",
                    "default_name": "",
                    "description": "UID of the message"
                }
            ]
        },
        "getMsgStructure": {
            "name": "getMsgStructure",
            "summary": "Fetches the message structure. (Test: ok)",
            "description": "",
            "description_parts": [],
            "file": "bbn\\Appui\\Mailbox",
            "static": false,
            "visibility": "public",
            "final": false,
            "code": "function(int $msgnum)\n  {\n    if ($this->_is_connected()) {\r\n      try {\r\n        $res = imap_fetchstructure($this->stream, $msgnum);\r\n      }\r\n      catch (Exception $e) {\r\n        $this->log($e->getMessage().' '.(string)$msgnum);\r\n      }\r\n\r\n      return $res ?: null;\r\n    }\r\n\r\n    return null;\r\n  }",
            "startLine": 1183,
            "endLine": 1197,
            "isDeprecated": false,
            "isGenerator": false,
            "isInternal": false,
            "isUserDefined": true,
            "isVariadic": false,
            "returnsReference": false,
            "numberOfParameters": 1,
            "numberOfRequiredParameters": 1,
            "returns": [],
            "parent": false,
            "arguments": [
                {
                    "name": "msgnum",
                    "position": 0,
                    "type": "int",
                    "required": true,
                    "has_default": false,
                    "default": "",
                    "default_name": "",
                    "description": "No of the message"
                }
            ]
        },
        "getMsgHeader": {
            "name": "getMsgHeader",
            "summary": "Fetches the header of the message. (Test: ok)",
            "description": "",
            "description_parts": [],
            "file": "bbn\\Appui\\Mailbox",
            "static": false,
            "visibility": "public",
            "final": false,
            "code": "function($msgnum, $uid = false)\n  {\n    if ($this->_is_connected()) {\r\n      try {\r\n        if ($uid) {\r\n          $res = imap_fetchheader($this->stream, $msgnum, FT_UID);\r\n        }\r\n\r\n        $res = imap_fetchheader($this->stream, $msgnum);\r\n      }\r\n      catch (Exception $e) {\r\n        $this->log($e->getMessage().' '.(string)$msgnum);\r\n      }\r\n\r\n      return $res ?: null;\r\n    }\r\n\r\n    return null;\r\n  }",
            "startLine": 1207,
            "endLine": 1225,
            "isDeprecated": false,
            "isGenerator": false,
            "isInternal": false,
            "isUserDefined": true,
            "isVariadic": false,
            "returnsReference": false,
            "numberOfParameters": 2,
            "numberOfRequiredParameters": 1,
            "returns": [],
            "parent": false,
            "arguments": [
                {
                    "name": "msgnum",
                    "position": 0,
                    "type": "",
                    "required": true,
                    "has_default": false,
                    "default": "",
                    "default_name": "",
                    "description": "No of the message"
                },
                {
                    "name": "uid",
                    "position": 1,
                    "type": "",
                    "required": false,
                    "has_default": true,
                    "default": false,
                    "default_name": "",
                    "description": "Set true f the msgnum is a UID"
                }
            ]
        },
        "deleteMsg": {
            "name": "deleteMsg",
            "summary": "Mark the specified message for deletion from current mailbox. (Text: ok)",
            "description": "",
            "description_parts": [],
            "file": "bbn\\Appui\\Mailbox",
            "static": false,
            "visibility": "public",
            "final": false,
            "code": "function($uid)\n  {\n    if ($this->_is_connected()) {\r\n      return imap_delete($this->stream, $this->getMsgNo($uid));\r\n    }\r\n\r\n    return false;\r\n  }",
            "startLine": 1234,
            "endLine": 1241,
            "isDeprecated": false,
            "isGenerator": false,
            "isInternal": false,
            "isUserDefined": true,
            "isVariadic": false,
            "returnsReference": false,
            "numberOfParameters": 1,
            "numberOfRequiredParameters": 1,
            "returns": [],
            "parent": false,
            "arguments": [
                {
                    "name": "uid",
                    "position": 0,
                    "type": "",
                    "required": true,
                    "has_default": false,
                    "default": "",
                    "default_name": "",
                    "description": "UID of the message"
                }
            ]
        },
        "moveMsg": {
            "name": "moveMsg",
            "summary": "Move the specified message to specified mailbox. (Test: ok)",
            "description": "",
            "description_parts": [],
            "file": "bbn\\Appui\\Mailbox",
            "static": false,
            "visibility": "public",
            "final": false,
            "code": "function($uid, $tombox)\n  {\n    if ($this->_is_connected()) {\r\n      return imap_mail_move($this->stream, $uid, $tombox, CP_UID);\r\n    }\r\n\r\n    return false;\r\n  }",
            "startLine": 1251,
            "endLine": 1258,
            "isDeprecated": false,
            "isGenerator": false,
            "isInternal": false,
            "isUserDefined": true,
            "isVariadic": false,
            "returnsReference": false,
            "numberOfParameters": 2,
            "numberOfRequiredParameters": 2,
            "returns": [],
            "parent": false,
            "arguments": [
                {
                    "name": "uid",
                    "position": 0,
                    "type": "",
                    "required": true,
                    "has_default": false,
                    "default": "",
                    "default_name": "",
                    "description": "UID of the message"
                },
                {
                    "name": "tombox",
                    "position": 1,
                    "type": "",
                    "required": true,
                    "has_default": false,
                    "default": "",
                    "default_name": "",
                    "description": "Destination mailbox name"
                }
            ]
        },
        "expunge": {
            "name": "expunge",
            "summary": "Deletes all messages marked for deletion by delete_msg(), move_msg() or set_flag().  (Test: ok)",
            "description": "",
            "description_parts": [],
            "file": "bbn\\Appui\\Mailbox",
            "static": false,
            "visibility": "public",
            "final": false,
            "code": "function()\n  {\n    if ($this->_is_connected()) {\r\n      return imap_expunge($this->stream);\r\n    }\r\n\r\n    return false;\r\n  }",
            "startLine": 1266,
            "endLine": 1273,
            "isDeprecated": false,
            "isGenerator": false,
            "isInternal": false,
            "isUserDefined": true,
            "isVariadic": false,
            "returnsReference": false,
            "numberOfParameters": 0,
            "numberOfRequiredParameters": 0,
            "returns": [],
            "parent": false,
            "arguments": []
        },
        "getMsgBody": {
            "name": "getMsgBody",
            "summary": "Fetches the body of the message. (Test: ok)",
            "description": "",
            "description_parts": [],
            "file": "bbn\\Appui\\Mailbox",
            "static": false,
            "visibility": "public",
            "final": false,
            "code": "function($msgno, $part)\n  {\n    if ($this->_is_connected()) {\r\n      if (empty($part)) {\r\n        return imap_body($this->stream, $msgno);\r\n      }\r\n\r\n      return imap_fetchbody($this->stream, $msgno, $part);\r\n    }\r\n\r\n    return false;\r\n  }",
            "startLine": 1283,
            "endLine": 1294,
            "isDeprecated": false,
            "isGenerator": false,
            "isInternal": false,
            "isUserDefined": true,
            "isVariadic": false,
            "returnsReference": false,
            "numberOfParameters": 2,
            "numberOfRequiredParameters": 2,
            "returns": [],
            "parent": false,
            "arguments": [
                {
                    "name": "msgno",
                    "position": 0,
                    "type": "",
                    "required": true,
                    "has_default": false,
                    "default": "",
                    "default_name": "",
                    "description": "No of the message"
                },
                {
                    "name": "part",
                    "position": 1,
                    "type": "",
                    "required": true,
                    "has_default": false,
                    "default": "",
                    "default_name": "",
                    "description": "The part number"
                }
            ]
        },
        "setMsgFlag": {
            "name": "setMsgFlag",
            "summary": "Sets or removes flag\/s on message\/s. (Test: ok)",
            "description": "The flags which you can set are \\\\Seen, \\\\Answered, \\\\Flagged, \\\\Deleted, and \\\\Draft. (Test: ok)",
            "description_parts": [
                {
                    "type": "text",
                    "content": "<p>The flags which you can set are \\Seen, \\Answered, \\Flagged, \\Deleted, and \\Draft. (Test: ok)<\/p>"
                }
            ],
            "file": "bbn\\Appui\\Mailbox",
            "static": false,
            "visibility": "public",
            "final": false,
            "code": "function($seq, $flg, $remove = false)\n  {\n    if ($this->_is_connected()) {\r\n      return $remove ? imap_clearflag_full($this->stream, $seq, $flg) : imap_setflag_full($this->stream, $seq, $flg);\r\n    }\r\n\r\n    return false;\r\n  }",
            "startLine": 1306,
            "endLine": 1313,
            "isDeprecated": false,
            "isGenerator": false,
            "isInternal": false,
            "isUserDefined": true,
            "isVariadic": false,
            "returnsReference": false,
            "numberOfParameters": 3,
            "numberOfRequiredParameters": 2,
            "returns": [],
            "parent": false,
            "arguments": [
                {
                    "name": "seq",
                    "position": 0,
                    "type": "",
                    "required": true,
                    "has_default": false,
                    "default": "",
                    "default_name": "",
                    "description": "A sequence of message numbers. Ex. \"2,5,6\" or \"2:5:6\""
                },
                {
                    "name": "flg",
                    "position": 1,
                    "type": "",
                    "required": true,
                    "has_default": false,
                    "default": "",
                    "default_name": "",
                    "description": "The flag\/s. Ex. \"\\\\Seen \\\\Flagged\""
                },
                {
                    "name": "remove",
                    "position": 2,
                    "type": "",
                    "required": false,
                    "has_default": true,
                    "default": false,
                    "default_name": "",
                    "description": "Set this to true to remove flag\/s"
                }
            ]
        },
        "search": {
            "name": "search",
            "summary": "Search messages. (Test: ok)",
            "description": "Returns an array of UIDs.\n\nArguments:\nALL - return all messages matching the rest of the criteria\nANSWERED - match messages with the \\\\ANSWERED flag set\nBCC \"string\" - match messages with \"string\" in the Bcc: field\nBEFORE \"date\" - match messages with Date: before \"date\"\nBODY \"string\" - match messages with \"string\" in the body of the message\nCC \"string\" - match messages with \"string\" in the Cc: field\nDELETED - match deleted messages\nFLAGGED - match messages with the \\\\FLAGGED (sometimes referred to as Important or Urgent) flag set\nFROM \"string\" - match messages with \"string\" in the From: field\nKEYWORD \"string\" - match messages with \"string\" as a keyword\nNEW - match new messages\nOLD - match old messages\nON \"date\" - match messages with Date: matching \"date\"\nRECENT - match messages with the \\\\RECENT flag set\nSEEN - match messages that have been read (the \\\\SEEN flag is set)\nSINCE \"date\" - match messages with Date: after \"date\"\nSUBJECT \"string\" - match messages with \"string\" in the Subject:\nTEXT \"string\" - match messages with text \"string\"\nTO \"string\" - match messages with \"string\" in the To:\nUNANSWERED - match messages that have not been answered\nUNDELETED - match messages that are not deleted\nUNFLAGGED - match messages that are not flagged\nUNKEYWORD \"string\" - match messages that do not have the keyword \"string\"\nUNSEEN - match messages which have not been read yet",
            "description_parts": [
                {
                    "type": "text",
                    "content": "<p>Returns an array of UIDs.<\/p>\n<p>Arguments:\nALL - return all messages matching the rest of the criteria\nANSWERED - match messages with the \\ANSWERED flag set\nBCC &quot;string&quot; - match messages with &quot;string&quot; in the Bcc: field\nBEFORE &quot;date&quot; - match messages with Date: before &quot;date&quot;\nBODY &quot;string&quot; - match messages with &quot;string&quot; in the body of the message\nCC &quot;string&quot; - match messages with &quot;string&quot; in the Cc: field\nDELETED - match deleted messages\nFLAGGED - match messages with the \\FLAGGED (sometimes referred to as Important or Urgent) flag set\nFROM &quot;string&quot; - match messages with &quot;string&quot; in the From: field\nKEYWORD &quot;string&quot; - match messages with &quot;string&quot; as a keyword\nNEW - match new messages\nOLD - match old messages\nON &quot;date&quot; - match messages with Date: matching &quot;date&quot;\nRECENT - match messages with the \\RECENT flag set\nSEEN - match messages that have been read (the \\SEEN flag is set)\nSINCE &quot;date&quot; - match messages with Date: after &quot;date&quot;\nSUBJECT &quot;string&quot; - match messages with &quot;string&quot; in the Subject:\nTEXT &quot;string&quot; - match messages with text &quot;string&quot;\nTO &quot;string&quot; - match messages with &quot;string&quot; in the To:\nUNANSWERED - match messages that have not been answered\nUNDELETED - match messages that are not deleted\nUNFLAGGED - match messages that are not flagged\nUNKEYWORD &quot;string&quot; - match messages that do not have the keyword &quot;string&quot;\nUNSEEN - match messages which have not been read yet<\/p>"
                }
            ],
            "file": "bbn\\Appui\\Mailbox",
            "static": false,
            "visibility": "public",
            "final": false,
            "code": "function($criteria)\n  {\n    if ($this->_is_connected()) {\r\n      return imap_search($this->stream, $criteria, SE_UID);\r\n    }\r\n\r\n    return false;\r\n  }",
            "startLine": 1349,
            "endLine": 1356,
            "isDeprecated": false,
            "isGenerator": false,
            "isInternal": false,
            "isUserDefined": true,
            "isVariadic": false,
            "returnsReference": false,
            "numberOfParameters": 1,
            "numberOfRequiredParameters": 1,
            "returns": [],
            "parent": false,
            "arguments": [
                {
                    "name": "criteria",
                    "position": 0,
                    "type": "",
                    "required": true,
                    "has_default": false,
                    "default": "",
                    "default_name": ""
                }
            ]
        },
        "append": {
            "name": "append",
            "summary": "Appends a string message to a specified mailbox. (Test: ok)",
            "description": "",
            "description_parts": [],
            "file": "bbn\\Appui\\Mailbox",
            "static": false,
            "visibility": "public",
            "final": false,
            "code": "function($mbox, $msg)\n  {\n    if ($this->_is_connected()) {\r\n      return @imap_append($this->stream, $this->mbParam. $mbox, $msg);\r\n    }\r\n\r\n    return false;\r\n  }",
            "startLine": 1366,
            "endLine": 1373,
            "isDeprecated": false,
            "isGenerator": false,
            "isInternal": false,
            "isUserDefined": true,
            "isVariadic": false,
            "returnsReference": false,
            "numberOfParameters": 2,
            "numberOfRequiredParameters": 2,
            "returns": [],
            "parent": false,
            "arguments": [
                {
                    "name": "mbox",
                    "position": 0,
                    "type": "",
                    "required": true,
                    "has_default": false,
                    "default": "",
                    "default_name": "",
                    "description": "Destination mailbox name"
                },
                {
                    "name": "msg",
                    "position": 1,
                    "type": "",
                    "required": true,
                    "has_default": false,
                    "default": "",
                    "default_name": "",
                    "description": "Message"
                }
            ]
        },
        "mboxExists": {
            "name": "mboxExists",
            "summary": "Check if a mailbox exists",
            "description": "",
            "description_parts": [],
            "file": "bbn\\Appui\\Mailbox",
            "static": false,
            "visibility": "public",
            "final": false,
            "code": "function($name)\n  {\n    if ($this->_is_connected() && !empty($name)) {\r\n      $names = $this->getAllNamesFolders();\r\n      if (!empty($names) && \\in_array($name, $names)) {\r\n        return true;\r\n      }\r\n    }\r\n\r\n    return false;\r\n  }",
            "startLine": 1382,
            "endLine": 1392,
            "isDeprecated": false,
            "isGenerator": false,
            "isInternal": false,
            "isUserDefined": true,
            "isVariadic": false,
            "returnsReference": false,
            "numberOfParameters": 1,
            "numberOfRequiredParameters": 1,
            "returns": [],
            "parent": false,
            "arguments": [
                {
                    "name": "name",
                    "position": 0,
                    "type": "",
                    "required": true,
                    "has_default": false,
                    "default": "",
                    "default_name": "",
                    "description": "The mailbox name"
                }
            ]
        },
        "test": {
            "name": "test",
            "summary": "Checks whether the error property has been set (so an error happened).",
            "description": "",
            "description_parts": [],
            "file": "bbn\\Models\\Cls\\Basic",
            "static": false,
            "visibility": "public",
            "final": false,
            "code": "function()\n  {\n    if ($this->error) {\n      return false;\n    }\n\n    return true;\n  }",
            "startLine": 50,
            "endLine": 57,
            "isDeprecated": false,
            "isGenerator": false,
            "isInternal": false,
            "isUserDefined": true,
            "isVariadic": false,
            "returnsReference": false,
            "numberOfParameters": 0,
            "numberOfRequiredParameters": 0,
            "returns": [],
            "parent": {
                "name": "test",
                "summary": "Checks whether the error property has been set (so an error happened).",
                "description": "",
                "description_parts": [],
                "file": "bbn\\Models\\Cls\\Basic",
                "static": false,
                "visibility": "public",
                "final": false,
                "code": "function()\n  {\n    if ($this->error) {\n      return false;\n    }\n\n    return true;\n  }",
                "startLine": 50,
                "endLine": 57,
                "isDeprecated": false,
                "isGenerator": false,
                "isInternal": false,
                "isUserDefined": true,
                "isVariadic": false,
                "returnsReference": false,
                "numberOfParameters": 0,
                "numberOfRequiredParameters": 0,
                "returns": [],
                "parent": false,
                "arguments": []
            },
            "arguments": []
        },
        "getErrors": {
            "name": "getErrors",
            "summary": "",
            "description": "",
            "description_parts": [],
            "file": "bbn\\Models\\Cls\\Basic",
            "static": false,
            "visibility": "public",
            "final": false,
            "code": "function()\n  {\n\n  }",
            "startLine": 91,
            "endLine": 94,
            "isDeprecated": false,
            "isGenerator": false,
            "isInternal": false,
            "isUserDefined": true,
            "isVariadic": false,
            "returnsReference": false,
            "numberOfParameters": 0,
            "numberOfRequiredParameters": 0,
            "returns": [],
            "parent": {
                "name": "getErrors",
                "summary": "",
                "description": "",
                "description_parts": [],
                "file": "bbn\\Models\\Cls\\Basic",
                "static": false,
                "visibility": "public",
                "final": false,
                "code": "function()\n  {\n\n  }",
                "startLine": 91,
                "endLine": 94,
                "isDeprecated": false,
                "isGenerator": false,
                "isInternal": false,
                "isUserDefined": true,
                "isVariadic": false,
                "returnsReference": false,
                "numberOfParameters": 0,
                "numberOfRequiredParameters": 0,
                "returns": [],
                "parent": false,
                "arguments": []
            },
            "arguments": []
        },
        "log": {
            "name": "log",
            "summary": "",
            "description": "",
            "description_parts": [],
            "file": "bbn\\Models\\Cls\\Basic",
            "static": false,
            "visibility": "public",
            "final": false,
            "code": "function()\n  {\n    if ($this->isDebug()) {\n        $ar = \\func_get_args();\n        $cn = bbn\\Str::encodeFilename(str_replace('\\\\', '_', \\get_class($this)));\n      foreach ($ar as $a){\n            X::log($a, $cn);\n      }\n    }\n  }",
            "startLine": 97,
            "endLine": 106,
            "isDeprecated": false,
            "isGenerator": false,
            "isInternal": false,
            "isUserDefined": true,
            "isVariadic": false,
            "returnsReference": false,
            "numberOfParameters": 0,
            "numberOfRequiredParameters": 0,
            "returns": [],
            "parent": {
                "name": "log",
                "summary": "",
                "description": "",
                "description_parts": [],
                "file": "bbn\\Models\\Cls\\Basic",
                "static": false,
                "visibility": "public",
                "final": false,
                "code": "function()\n  {\n    if ($this->isDebug()) {\n        $ar = \\func_get_args();\n        $cn = bbn\\Str::encodeFilename(str_replace('\\\\', '_', \\get_class($this)));\n      foreach ($ar as $a){\n            X::log($a, $cn);\n      }\n    }\n  }",
                "startLine": 97,
                "endLine": 106,
                "isDeprecated": false,
                "isGenerator": false,
                "isInternal": false,
                "isUserDefined": true,
                "isVariadic": false,
                "returnsReference": false,
                "numberOfParameters": 0,
                "numberOfRequiredParameters": 0,
                "returns": [],
                "parent": false,
                "arguments": []
            },
            "arguments": []
        },
        "__call": {
            "name": "__call",
            "summary": "",
            "description": "",
            "description_parts": [],
            "file": "bbn\\Models\\Cls\\Basic",
            "static": false,
            "visibility": "public",
            "final": false,
            "code": "function($name, $arguments)\n  {\n    $class = \\get_class($this);\n    throw new \\Exception(\n      sprintf(\n        X::_(\"Wrong method used for the class %s: %s with the following arguments:\"),\n        $class,\n        $name,\n        implode(', ', $arguments)\n      )\n    );\n  }",
            "startLine": 114,
            "endLine": 125,
            "isDeprecated": false,
            "isGenerator": false,
            "isInternal": false,
            "isUserDefined": true,
            "isVariadic": false,
            "returnsReference": false,
            "numberOfParameters": 2,
            "numberOfRequiredParameters": 2,
            "returns": [],
            "parent": {
                "name": "__call",
                "summary": "",
                "description": "",
                "description_parts": [],
                "file": "bbn\\Models\\Cls\\Basic",
                "static": false,
                "visibility": "public",
                "final": false,
                "code": "function($name, $arguments)\n  {\n    $class = \\get_class($this);\n    throw new \\Exception(\n      sprintf(\n        X::_(\"Wrong method used for the class %s: %s with the following arguments:\"),\n        $class,\n        $name,\n        implode(', ', $arguments)\n      )\n    );\n  }",
                "startLine": 114,
                "endLine": 125,
                "isDeprecated": false,
                "isGenerator": false,
                "isInternal": false,
                "isUserDefined": true,
                "isVariadic": false,
                "returnsReference": false,
                "numberOfParameters": 2,
                "numberOfRequiredParameters": 2,
                "returns": [],
                "parent": false,
                "arguments": [
                    {
                        "name": "name",
                        "position": 0,
                        "type": "",
                        "required": true,
                        "has_default": false,
                        "default": "",
                        "default_name": ""
                    },
                    {
                        "name": "arguments",
                        "position": 1,
                        "type": "",
                        "required": true,
                        "has_default": false,
                        "default": "",
                        "default_name": ""
                    }
                ]
            },
            "arguments": [
                {
                    "name": "name",
                    "position": 0,
                    "type": "",
                    "required": true,
                    "has_default": false,
                    "default": "",
                    "default_name": ""
                },
                {
                    "name": "arguments",
                    "position": 1,
                    "type": "",
                    "required": true,
                    "has_default": false,
                    "default": "",
                    "default_name": ""
                }
            ]
        },
        "isDebug": {
            "name": "isDebug",
            "summary": "",
            "description": "",
            "description_parts": [],
            "file": "bbn\\Models\\Cls\\Basic",
            "static": false,
            "visibility": "public",
            "final": false,
            "code": "function()\n  {\n    return $this->debug || (defined(\"BBN_IS_DEV\") && BBN_IS_DEV);\n  }",
            "startLine": 131,
            "endLine": 134,
            "isDeprecated": false,
            "isGenerator": false,
            "isInternal": false,
            "isUserDefined": true,
            "isVariadic": false,
            "returnsReference": false,
            "numberOfParameters": 0,
            "numberOfRequiredParameters": 0,
            "returns": [],
            "parent": {
                "name": "isDebug",
                "summary": "",
                "description": "",
                "description_parts": [],
                "file": "bbn\\Models\\Cls\\Basic",
                "static": false,
                "visibility": "public",
                "final": false,
                "code": "function()\n  {\n    return $this->debug || (defined(\"BBN_IS_DEV\") && BBN_IS_DEV);\n  }",
                "startLine": 131,
                "endLine": 134,
                "isDeprecated": false,
                "isGenerator": false,
                "isInternal": false,
                "isUserDefined": true,
                "isVariadic": false,
                "returnsReference": false,
                "numberOfParameters": 0,
                "numberOfRequiredParameters": 0,
                "returns": [],
                "parent": false,
                "arguments": []
            },
            "arguments": []
        },
        "setDebug": {
            "name": "setDebug",
            "summary": "",
            "description": "",
            "description_parts": [],
            "file": "bbn\\Models\\Cls\\Basic",
            "static": false,
            "visibility": "public",
            "final": false,
            "code": "function(bool $debug)\n  {\n    $this->debug = $debug;\n  }",
            "startLine": 141,
            "endLine": 144,
            "isDeprecated": false,
            "isGenerator": false,
            "isInternal": false,
            "isUserDefined": true,
            "isVariadic": false,
            "returnsReference": false,
            "numberOfParameters": 1,
            "numberOfRequiredParameters": 1,
            "returns": [],
            "parent": {
                "name": "setDebug",
                "summary": "",
                "description": "",
                "description_parts": [],
                "file": "bbn\\Models\\Cls\\Basic",
                "static": false,
                "visibility": "public",
                "final": false,
                "code": "function(bool $debug)\n  {\n    $this->debug = $debug;\n  }",
                "startLine": 141,
                "endLine": 144,
                "isDeprecated": false,
                "isGenerator": false,
                "isInternal": false,
                "isUserDefined": true,
                "isVariadic": false,
                "returnsReference": false,
                "numberOfParameters": 1,
                "numberOfRequiredParameters": 1,
                "returns": [],
                "parent": false,
                "arguments": [
                    {
                        "name": "debug",
                        "position": 0,
                        "type": "bool",
                        "required": true,
                        "has_default": false,
                        "default": "",
                        "default_name": ""
                    }
                ]
            },
            "arguments": [
                {
                    "name": "debug",
                    "position": 0,
                    "type": "bool",
                    "required": true,
                    "has_default": false,
                    "default": "",
                    "default_name": ""
                }
            ]
        }
    },
    "properties": null,
    "staticProperties": {
        "_default_ping_interval": 2,
        "_dest_fields": [
            "to",
            "from",
            "cc",
            "bcc",
            "reply_to"
        ]
    },
    "constants": null,
    "summary": "",
    "description": "",
    "description_parts": []
}