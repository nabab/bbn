{
    "doc": {
        "description": "An all-in-one hierarchical options management system\n *\nThis class allows to:\n---------------------\n* manage a **hierarchical** table of options\n* retrieve, edit, add, remove options\n* grab a whole tree\n* apply functions on group of options\n* add user-defined properties\n* set option configuration and applies it to all its children\n* And many more...",
        "tags": {
            "copyright": "BBN Solutions",
            "since": "Oct 28, 2015, 10:23:55 +0000",
            "category": "Appui x",
            "license": "http:\/\/opensource.org\/licenses\/MIT MIT",
            "version": "0.2"
        }
    },
    "name": "bbn\\Appui\\Option",
    "namespace": true,
    "traits": [
        "bbn\\Models\\Tts\\Retriever",
        "bbn\\Models\\Tts\\Cache",
        "bbn\\Models\\Tts\\Dbconfig"
    ],
    "interfaces": [],
    "fileName": "\/home\/thomas\/domains\/apstapp.thomas.lan\/_appui\/vendor\/bbn\/bbn\/src\/bbn\/Appui\/Option.php",
    "startLine": 34,
    "endLine": 4371,
    "contentConstructor": {
        "file": "bbn\\Appui\\Option",
        "returns": null
    },
    "methods": {
        "getOptions": {
            "name": "getOptions",
            "summary": "Returns the existing instance if there is",
            "description": "```php\n$opt = bbn\\Appui\\Option::getOptions();\nX::dump($opt);\n\/\/ (options)\n```",
            "description_parts": [
                {
                    "type": "code",
                    "content": "$opt = bbn\\Appui\\Option::getOptions();\nX::dump($opt);\n\/\/ (options)"
                }
            ],
            "file": "bbn\\Appui\\Option",
            "static": true,
            "visibility": "public",
            "final": false,
            "code": "function()\n  {\n    return self::getInstance();\n  }",
            "startLine": 92,
            "endLine": 95,
            "isDeprecated": false,
            "isGenerator": false,
            "isInternal": false,
            "isUserDefined": true,
            "isVariadic": false,
            "returnsReference": false,
            "numberOfParameters": 0,
            "numberOfRequiredParameters": 0,
            "returns": [
                "self"
            ],
            "parent": false,
            "arguments": []
        },
        "__construct": {
            "name": "__construct",
            "summary": "Constructor",
            "description": "*\n```php\n$db = new bbn\\Db();\n$opt = new bbn\\Appui\\Options($db);\n```",
            "description_parts": [
                {
                    "type": "text",
                    "content": "<p>*<\/p>"
                },
                {
                    "type": "code",
                    "content": "$db = new bbn\\Db();\n$opt = new bbn\\Appui\\Options($db);"
                }
            ],
            "file": "bbn\\Appui\\Option",
            "static": false,
            "visibility": "public",
            "final": false,
            "code": "function(bbn\\Db $db, array $cfg = [])\n  {\n    parent::__construct($db);\n    $this->_init_class_cfg($cfg);\n    self::retrieverInit($this);\n  }",
            "startLine": 110,
            "endLine": 115,
            "isDeprecated": false,
            "isGenerator": false,
            "isInternal": false,
            "isUserDefined": true,
            "isVariadic": false,
            "returnsReference": false,
            "numberOfParameters": 2,
            "numberOfRequiredParameters": 1,
            "returns": null,
            "parent": {
                "name": "__construct",
                "summary": "Constructor.",
                "description": "",
                "description_parts": [],
                "file": "bbn\\Models\\Cls\\Db",
                "static": false,
                "visibility": "public",
                "final": false,
                "code": "function(bbn\\Db $db)\n  {\n    $this->db = $db;\n  }",
                "startLine": 37,
                "endLine": 40,
                "isDeprecated": false,
                "isGenerator": false,
                "isInternal": false,
                "isUserDefined": true,
                "isVariadic": false,
                "returnsReference": false,
                "numberOfParameters": 1,
                "numberOfRequiredParameters": 1,
                "returns": null,
                "parent": false,
                "arguments": [
                    {
                        "name": "db",
                        "position": 0,
                        "type": "bbn\\Db",
                        "required": true,
                        "has_default": false,
                        "default": "",
                        "default_name": ""
                    }
                ]
            },
            "arguments": [
                {
                    "name": "db",
                    "position": 0,
                    "type": "bbn\\Db",
                    "required": true,
                    "has_default": false,
                    "default": "",
                    "default_name": "",
                    "description": "configuration array"
                },
                {
                    "name": "cfg",
                    "position": 1,
                    "type": "array",
                    "required": false,
                    "has_default": true,
                    "default": [],
                    "default_name": ""
                }
            ]
        },
        "check": {
            "name": "check",
            "summary": "",
            "description": "",
            "description_parts": [],
            "file": "bbn\\Appui\\Option",
            "static": false,
            "visibility": "public",
            "final": false,
            "code": "function()\n  {\n    return $this->init() && $this->db->check();\n  }",
            "startLine": 118,
            "endLine": 121,
            "isDeprecated": false,
            "isGenerator": false,
            "isInternal": false,
            "isUserDefined": true,
            "isVariadic": false,
            "returnsReference": false,
            "numberOfParameters": 0,
            "numberOfRequiredParameters": 0,
            "returns": [
                "bool"
            ],
            "parent": {
                "name": "check",
                "summary": "Checks whether the error property has been set (so an error happened).",
                "description": "",
                "description_parts": [],
                "file": "bbn\\Models\\Cls\\Basic",
                "static": false,
                "visibility": "public",
                "final": false,
                "code": "function()\n  {\n    if ($this->error) {\n      return false;\n    }\n\n    return true;\n  }",
                "startLine": 65,
                "endLine": 72,
                "isDeprecated": false,
                "isGenerator": false,
                "isInternal": false,
                "isUserDefined": true,
                "isVariadic": false,
                "returnsReference": false,
                "numberOfParameters": 0,
                "numberOfRequiredParameters": 0,
                "returns": null,
                "parent": false,
                "arguments": []
            },
            "arguments": []
        },
        "init": {
            "name": "init",
            "summary": "",
            "description": "",
            "description_parts": [],
            "file": "bbn\\Appui\\Option",
            "static": false,
            "visibility": "public",
            "final": false,
            "code": "function()\n  {\n    if (!$this->is_init) {\n      $this->cacheInit();\n      $t          =& $this;\n      $this->root = $this->cacheGetSet(\n        function () use (&$t) {\n          return $t->db->selectOne($t->class_cfg['table'], $t->fields['id'], [\n            $t->fields['id_parent'] => null, $t->fields['code'] => 'root']);\n        },\n        'root',\n        'root',\n        60\n      );\n      if (!$this->root) {\n        return false;\n      }\n\n      if (\\defined('BBN_APP_NAME')) {\n        $this->default = $this->cacheGetSet(\n          function () use (&$t) {\n            $res = $t->db->selectOne(\n              $t->class_cfg['table'],\n              $t->fields['id'],\n              [\n                $t->fields['id_parent'] => $this->root,\n                $t->fields['code'] => BBN_APP_NAME\n              ]\n            );\n            if (!$res) {\n              $res = $t->root;\n            }\n\n            return $res;\n          },\n          BBN_APP_NAME,\n          BBN_APP_NAME,\n          60\n        );\n      }\n      else {\n        $this->default = $this->root;\n      }\n\n      $this->is_init = true;\n    }\n\n    return true;\n  }",
            "startLine": 124,
            "endLine": 172,
            "isDeprecated": false,
            "isGenerator": false,
            "isInternal": false,
            "isUserDefined": true,
            "isVariadic": false,
            "returnsReference": false,
            "numberOfParameters": 0,
            "numberOfRequiredParameters": 0,
            "returns": [
                "bool"
            ],
            "parent": false,
            "arguments": []
        },
        "deleteCache": {
            "name": "deleteCache",
            "summary": "Deletes the options' cache, specifically for an ID or globally",
            "description": "If specific, it will also destroy the cache of the parent\n   *\n```php\n$opt->option->deleteCache(25)\n\/\/ This is chainable\n\/\/ ->...\n```",
            "description_parts": [
                {
                    "type": "text",
                    "content": "<p>If specific, it will also destroy the cache of the parent\n*<\/p>"
                },
                {
                    "type": "code",
                    "content": "$opt->option->deleteCache(25)\n\/\/ This is chainable\n\/\/ ->..."
                }
            ],
            "file": "bbn\\Appui\\Option",
            "static": false,
            "visibility": "public",
            "final": false,
            "code": "function($id = NULL, $deep = false, $subs = false)\n  {\n    if ($this->check()) {\n      if (bbn\\Str::isUid($id)) {\n        if (($deep || !$subs) && ($items = $this->items($id))) {\n          foreach ($items as $it){\n            $this->deleteCache($it, $deep, true);\n          }\n        }\n\n        if (!$subs && ($id_alias = $this->alias($id))) {\n          $this->deleteCache($id_alias, false, true);\n        }\n\n        $this->cacheDelete($id);\n        if (!$subs) {\n          $this->cacheDelete($this->getIdParent($id));\n        }\n      }\n      elseif (is_null($id)) {\n        $this->cacheDeleteAll();\n      }\n    }\n\n    return $this;\n  }",
            "startLine": 189,
            "endLine": 214,
            "isDeprecated": false,
            "isGenerator": false,
            "isInternal": false,
            "isUserDefined": true,
            "isVariadic": false,
            "returnsReference": false,
            "numberOfParameters": 3,
            "numberOfRequiredParameters": 0,
            "returns": [
                "self"
            ],
            "parent": false,
            "arguments": [
                {
                    "name": "id",
                    "position": 0,
                    "type": "string",
                    "required": false,
                    "has_default": true,
                    "default": null,
                    "default_name": "",
                    "description": "The option's ID"
                },
                {
                    "name": "deep",
                    "position": 1,
                    "type": "",
                    "required": false,
                    "has_default": true,
                    "default": false,
                    "default_name": "",
                    "description": "If sets to true, children's cache will also be deleted"
                },
                {
                    "name": "subs",
                    "position": 2,
                    "type": "",
                    "required": false,
                    "has_default": true,
                    "default": false,
                    "default_name": "",
                    "description": "Used internally only for deleting children's cache without their parent"
                }
            ]
        },
        "getClassCfg": {
            "name": "getClassCfg",
            "summary": "Returns the configuration array of the class with the table structure",
            "description": "*\n```php\nX::dump($opt->getClassCfg());\n\/*\narray [\n  'errors' => [\n  ],\n  'table' => 'bbn_options',\n  'cols' => [\n    'id' => 'id',\n    'id_parent' => 'id_parent',\n    'id_alias' => 'id_alias',\n    'text' => 'text',\n    'code' => 'code',\n    'value' => 'value',\n    'cfg' => 'cfg'\n  ]\n]\n```",
            "description_parts": [
                {
                    "type": "text",
                    "content": "<p>*<\/p>"
                },
                {
                    "type": "code",
                    "content": "X::dump($opt->getClassCfg());\n\/*\narray [\n  'errors' => [\n  ],\n  'table' => 'bbn_options',\n  'cols' => [\n    'id' => 'id',\n    'id_parent' => 'id_parent',\n    'id_alias' => 'id_alias',\n    'text' => 'text',\n    'code' => 'code',\n    'value' => 'value',\n    'cfg' => 'cfg'\n  ]\n]"
                }
            ],
            "file": "bbn\\Appui\\Option",
            "static": false,
            "visibility": "public",
            "final": false,
            "code": "function()\n  {\n    return $this->class_cfg;\n  }",
            "startLine": 241,
            "endLine": 244,
            "isDeprecated": false,
            "isGenerator": false,
            "isInternal": false,
            "isUserDefined": true,
            "isVariadic": false,
            "returnsReference": false,
            "numberOfParameters": 0,
            "numberOfRequiredParameters": 0,
            "returns": [
                "array"
            ],
            "parent": false,
            "arguments": []
        },
        "fromCode": {
            "name": "fromCode",
            "summary": "Gets an option ID from diverse combinations of elements:",
            "description": "- A code or a serie of codes from the most specific to a child of the root\n- A code or a serie of codes and an id_parent where to find the last code\n- A code alone having $this->default as parent\n   *\n```php\nX::dump($opt->fromCode(25));\n\/\/ (int) 25\nX::dump($opt->fromCode('bbn_ide'));\n\/\/ (int) 25\nX::dump($opt->fromCode('test', 58));\n\/\/ (int) 42\nX::dump($opt->fromCode('test', 'users', 'bbn_ide'));\n\/\/ (int) 42\n```",
            "description_parts": [
                {
                    "type": "text",
                    "content": "<ul>\n<li>A code or a serie of codes from the most specific to a child of the root<\/li>\n<li>A code or a serie of codes and an id_parent where to find the last code<\/li>\n<li>A code alone having $this-&gt;default as parent\n*<\/li>\n<\/ul>"
                },
                {
                    "type": "code",
                    "content": "X::dump($opt->fromCode(25));\n\/\/ (int) 25\nX::dump($opt->fromCode('bbn_ide'));\n\/\/ (int) 25\nX::dump($opt->fromCode('test', 58));\n\/\/ (int) 42\nX::dump($opt->fromCode('test', 'users', 'bbn_ide'));\n\/\/ (int) 42"
                }
            ],
            "file": "bbn\\Appui\\Option",
            "static": false,
            "visibility": "public",
            "final": false,
            "code": "function($code = NULL)\n  {\n    if ($this->check()) {\n      $args = \\func_get_args();\n      \/\/ An array can be used as parameters too\n      while (isset($args[0]) && \\is_array($args[0])){\n        $args = $args[0];\n      }\n\n      \/\/ If we get an option array as param\n      if (isset($args['id'])) {\n        return $args['id'];\n      }\n\n      $num = \\count($args);\n      if (!$num) {\n        return null;\n      }\n\n      \/\/ False is accepted as id_parent for root\n      if (($num === 1) && ($args[0] === false)) {\n        return $this->default;\n      }\n\n      if (bbn\\Str::isUid($args[0])) {\n        if ($num === 1) {\n          return $args[0];\n        }\n\n        \/\/ If there are extra arguments with the ID we check that they correspond to its parent (that would be an extra check)\n        if ($this->getIdParent($args[0]) === $this->fromCode(...\\array_slice($args, 1))) {\n          return $args[0];\n        }\n      }\n\n      \/\/ We can use whatever alphanumeric value for code\n      if (empty($args) || (!\\is_string($args[0]) && !is_numeric($args[0]))) {\n        return null;\n      }\n\n      \/\/ They must all have the same form at start with an id_parent as last argument\n      if (!bbn\\Str::isUid(end($args))) {\n        $args[] = $this->default;\n        $num++;\n      }\n\n      \/\/ At this stage we need at least one code and one id\n      if ($num < 2) {\n        return null;\n      }\n\n      \/\/ So the target has always the same name\n      \/\/ This is the full name with all the arguments plus the root\n      \/\/ eg ['c1', 'c2', 'c3', UID]\n      \/\/ UID-c3-c4-c5\n      \/\/ UID-c3-c4\n      \/\/ UID-c3\n      \/\/ Using the code(s) as argument(s) from now\n      $id_parent = array_pop($args);\n      $true_code = array_pop($args);\n      $enc_code  = base64_encode($true_code);\n      \/\/ This is the cache name\n      \/\/ get_codeX::_(base64(first_code))\n      $cache_name = 'get_code_'.$enc_code;\n      \/\/ UID-get_codeX::_(base64(first_code))\n      if (($tmp = $this->cacheGet($id_parent, $cache_name))) {\n        if (!count($args)) {\n          return $tmp;\n        }\n\n        $args[] = $tmp;\n        return $this->fromCode(...$args);\n      }\n\n      $c =& $this->class_cfg;\n      \/** @var int|false $tmp *\/\n      if (!$tmp && ($tmp = $this->db->selectOne(\n        $c['table'], $c['arch']['options']['id'], [\n          [$c['arch']['options']['id_parent'], '=', $id_parent],\n          [$c['arch']['options']['code'], '=', $true_code]\n        ]\n      ))\n      ) {\n        $this->cacheSet($id_parent, $cache_name, $tmp);\n      }\n\n      if ($tmp) {\n        if (\\count($args)) {\n          $args[] = $tmp;\n          return $this->fromCode(...$args);\n        }\n\n        return $tmp;\n      }\n    }\n\n    return null;\n  }",
            "startLine": 267,
            "endLine": 364,
            "isDeprecated": false,
            "isGenerator": false,
            "isInternal": false,
            "isUserDefined": true,
            "isVariadic": false,
            "returnsReference": false,
            "numberOfParameters": 1,
            "numberOfRequiredParameters": 0,
            "returns": [
                "string",
                null
            ],
            "parent": false,
            "arguments": [
                {
                    "name": "code",
                    "position": 0,
                    "type": "",
                    "required": false,
                    "has_default": true,
                    "default": null,
                    "default_name": ""
                }
            ]
        },
        "fromRootCode": {
            "name": "fromRootCode",
            "summary": "",
            "description": "",
            "description_parts": [],
            "file": "bbn\\Appui\\Option",
            "static": false,
            "visibility": "public",
            "final": false,
            "code": "function()\n  {\n    if ($this->check()) {\n      $def = $this->default;\n      $this->setDefault($this->root);\n      $res = $this->fromCode(...func_get_args());\n      $this->setDefault($def);\n      return $res;\n    }\n\n    return null;\n  }",
            "startLine": 367,
            "endLine": 378,
            "isDeprecated": false,
            "isGenerator": false,
            "isInternal": false,
            "isUserDefined": true,
            "isVariadic": false,
            "returnsReference": false,
            "numberOfParameters": 0,
            "numberOfRequiredParameters": 0,
            "returns": [
                "string",
                null
            ],
            "parent": false,
            "arguments": []
        },
        "setValue": {
            "name": "setValue",
            "summary": "",
            "description": "",
            "description_parts": [],
            "file": "bbn\\Appui\\Option",
            "static": false,
            "visibility": "public",
            "final": false,
            "code": "function(array $value, $id)\n  {\n    if ($this->check() && $this->exists($id)) {\n      $c =& $this->class_cfg;\n      $this->cacheDelete($id);\n      return $this->db->update(\n        $c['table'],\n        [$c['arch']['options']['value'] => json_encode($value)],\n        [$c['arch']['options']['id'] => $id]\n      );\n    }\n\n    return null;\n  }",
            "startLine": 381,
            "endLine": 394,
            "isDeprecated": false,
            "isGenerator": false,
            "isInternal": false,
            "isUserDefined": true,
            "isVariadic": false,
            "returnsReference": false,
            "numberOfParameters": 2,
            "numberOfRequiredParameters": 2,
            "returns": [
                "int",
                null
            ],
            "parent": false,
            "arguments": [
                {
                    "name": "value",
                    "position": 0,
                    "type": "array",
                    "required": true,
                    "has_default": false,
                    "default": "",
                    "default_name": ""
                },
                {
                    "name": "id",
                    "position": 1,
                    "type": "",
                    "required": true,
                    "has_default": false,
                    "default": "",
                    "default_name": ""
                }
            ]
        },
        "getRoot": {
            "name": "getRoot",
            "summary": "Returns the ID of the root option - mother of all",
            "description": "*\n```php\nX::dump($opt->getRoot());\n\/\/ (int)0\n```",
            "description_parts": [
                {
                    "type": "text",
                    "content": "<p>*<\/p>"
                },
                {
                    "type": "code",
                    "content": "X::dump($opt->getRoot());\n\/\/ (int)0"
                }
            ],
            "file": "bbn\\Appui\\Option",
            "static": false,
            "visibility": "public",
            "final": false,
            "code": "function()\n  {\n    if ($this->check()) {\n      return $this->root;\n    }\n\n    return null;\n  }",
            "startLine": 407,
            "endLine": 414,
            "isDeprecated": false,
            "isGenerator": false,
            "isInternal": false,
            "isUserDefined": true,
            "isVariadic": false,
            "returnsReference": false,
            "numberOfParameters": 0,
            "numberOfRequiredParameters": 0,
            "returns": [
                "string",
                null
            ],
            "parent": false,
            "arguments": []
        },
        "getDefault": {
            "name": "getDefault",
            "summary": "Returns the ID of the default option ($id_parent used when not provided)",
            "description": "*\n```php\nX::dump($opt->getDefault());\n\/\/ (int) 0\n$opt->setDefault(5);\nX::dump($opt->getDefault());\n\/\/ (int) 5\n$opt->setDefault();\nX::dump($opt->getDefault());\n\/\/ (int) 0\n```",
            "description_parts": [
                {
                    "type": "text",
                    "content": "<p>*<\/p>"
                },
                {
                    "type": "code",
                    "content": "X::dump($opt->getDefault());\n\/\/ (int) 0\n$opt->setDefault(5);\nX::dump($opt->getDefault());\n\/\/ (int) 5\n$opt->setDefault();\nX::dump($opt->getDefault());\n\/\/ (int) 0"
                }
            ],
            "file": "bbn\\Appui\\Option",
            "static": false,
            "visibility": "public",
            "final": false,
            "code": "function()\n  {\n    if ($this->check()) {\n      return $this->default;\n    }\n\n    return null;\n  }",
            "startLine": 433,
            "endLine": 440,
            "isDeprecated": false,
            "isGenerator": false,
            "isInternal": false,
            "isUserDefined": true,
            "isVariadic": false,
            "returnsReference": false,
            "numberOfParameters": 0,
            "numberOfRequiredParameters": 0,
            "returns": [
                "string",
                null
            ],
            "parent": false,
            "arguments": []
        },
        "setDefault": {
            "name": "setDefault",
            "summary": "Makes an option act as if it was the root option",
            "description": "It will be the default $id_parent for options requested by code\n   *\n```php\nX::dump($opt->getDefault());\n\/\/ (int) 0\n\/\/ Default root option\n$new = $opt->fromCode('test');\n\/\/ false\n\/\/ Option not found\n$opt->setDefault($new);\n\/\/ Default is now 5\nX::dump($opt->getDefault());\n\/\/ (int) 5\nX::dump($opt->fromCode('test));\n\/\/ (int) 24\n\/\/ Returns the ID (24) of a child of option 5 with code 'test'\n$opt->setDefault();\n\/\/ Default is back to root\nX::dump($opt->getDefault());\n\/\/ (int) 0\n```",
            "description_parts": [
                {
                    "type": "text",
                    "content": "<p>It will be the default $id_parent for options requested by code\n*<\/p>"
                },
                {
                    "type": "code",
                    "content": "X::dump($opt->getDefault());\n\/\/ (int) 0\n\/\/ Default root option\n$new = $opt->fromCode('test');\n\/\/ false\n\/\/ Option not found\n$opt->setDefault($new);\n\/\/ Default is now 5\nX::dump($opt->getDefault());\n\/\/ (int) 5\nX::dump($opt->fromCode('test));\n\/\/ (int) 24\n\/\/ Returns the ID (24) of a child of option 5 with code 'test'\n$opt->setDefault();\n\/\/ Default is back to root\nX::dump($opt->getDefault());\n\/\/ (int) 0"
                }
            ],
            "file": "bbn\\Appui\\Option",
            "static": false,
            "visibility": "public",
            "final": false,
            "code": "function($uid)\n  {\n    if ($this->check() && $this->exists($uid)) {\n      $this->default = $uid;\n    }\n\n    return $this;\n  }",
            "startLine": 470,
            "endLine": 477,
            "isDeprecated": false,
            "isGenerator": false,
            "isInternal": false,
            "isUserDefined": true,
            "isVariadic": false,
            "returnsReference": false,
            "numberOfParameters": 1,
            "numberOfRequiredParameters": 1,
            "returns": [
                "self"
            ],
            "parent": false,
            "arguments": [
                {
                    "name": "uid",
                    "position": 0,
                    "type": "",
                    "required": true,
                    "has_default": false,
                    "default": "",
                    "default_name": ""
                }
            ]
        },
        "items": {
            "name": "items",
            "summary": "Returns an array of the children's IDs of the given option sorted by order or text",
            "description": "*\n```php\nX::dump($opt->treeIds(12));\n\/\/ array [40, 41, 42, 44, 45, 43, 46, 47]\n```",
            "description_parts": [
                {
                    "type": "text",
                    "content": "<p>*<\/p>"
                },
                {
                    "type": "code",
                    "content": "X::dump($opt->treeIds(12));\n\/\/ array [40, 41, 42, 44, 45, 43, 46, 47]"
                }
            ],
            "file": "bbn\\Appui\\Option",
            "static": false,
            "visibility": "public",
            "final": false,
            "code": "function($code = NULL)\n  {\n    if (bbn\\Str::isUid($id = $this->fromCode(\\func_get_args()))) {\n      if (($res = $this->cacheGet($id, __FUNCTION__)) !== false) {\n        return $res;\n      }\n\n      $cfg = $this->getCfg($id) ?: [];\n      if ($cfg || $this->exists($id)) {\n        \/\/ If not sortable returning an array ordered by text\n        $order = empty($cfg['sortable']) ? [\n            $this->class_cfg['arch']['options']['text'] => 'ASC',\n            $this->class_cfg['arch']['options']['code'] => 'ASC',\n            $this->class_cfg['arch']['options']['id'] => 'ASC',\n          ] : [\n            $this->class_cfg['arch']['options']['num'] => 'ASC',\n            $this->class_cfg['arch']['options']['text'] => 'ASC',\n            $this->class_cfg['arch']['options']['code'] => 'ASC',\n            $this->class_cfg['arch']['options']['id'] => 'ASC',\n          ];\n        $res   = $this->db->getColumnValues(\n          $this->class_cfg['table'],\n          $this->class_cfg['arch']['options']['id'], [\n          $this->class_cfg['arch']['options']['id_parent'] => $id,\n          ], $order\n        );\n        $this->cacheSet($id, __FUNCTION__, $res);\n        return $res;\n      }\n    }\n\n    return null;\n  }",
            "startLine": 491,
            "endLine": 523,
            "isDeprecated": false,
            "isGenerator": false,
            "isInternal": false,
            "isUserDefined": true,
            "isVariadic": false,
            "returnsReference": false,
            "numberOfParameters": 1,
            "numberOfRequiredParameters": 0,
            "returns": [
                "array",
                null
            ],
            "parent": false,
            "arguments": [
                {
                    "name": "code",
                    "position": 0,
                    "type": "",
                    "required": false,
                    "has_default": true,
                    "default": null,
                    "default_name": ""
                }
            ]
        },
        "nativeOption": {
            "name": "nativeOption",
            "summary": "Returns an option's row as stored in its original form in the database",
            "description": "*\n```php\nX::dump($opt->nativeOption(25));\n\/*\narray [\n  'id' => 25,\n  'code' => \"bbn_ide\",\n  'text' => \"BBN's own IDE\",\n  'id_alias' => null,\n  'value' => \"{\\\"myProperty\\\":\\\"My property's value\\\"}\"\n]\n```",
            "description_parts": [
                {
                    "type": "text",
                    "content": "<p>*<\/p>"
                },
                {
                    "type": "code",
                    "content": "X::dump($opt->nativeOption(25));\n\/*\narray [\n  'id' => 25,\n  'code' => \"bbn_ide\",\n  'text' => \"BBN's own IDE\",\n  'id_alias' => null,\n  'value' => \"{\\\"myProperty\\\":\\\"My property's value\\\"}\"\n]"
                }
            ],
            "file": "bbn\\Appui\\Option",
            "static": false,
            "visibility": "public",
            "final": false,
            "code": "function($code = NULL)\n  {\n    if (bbn\\Str::isUid($id = $this->fromCode(\\func_get_args()))) {\n      if ($opt = $this->cacheGet($id, __FUNCTION__)) {\n        return $opt;\n      }\n\n      $tab = $this->db->tsn($this->class_cfg['table']);\n      $cfn = $this->db->cfn($this->class_cfg['arch']['options']['id'], $tab);\n      $opt = $this->getRow([$cfn => $id]);\n      if ($opt) {\n        $this->cacheSet($id, __FUNCTION__, $opt);\n        return $opt;\n      }\n    }\n\n    return null;\n  }",
            "startLine": 544,
            "endLine": 561,
            "isDeprecated": false,
            "isGenerator": false,
            "isInternal": false,
            "isUserDefined": true,
            "isVariadic": false,
            "returnsReference": false,
            "numberOfParameters": 1,
            "numberOfRequiredParameters": 0,
            "returns": [
                "array",
                null
            ],
            "parent": false,
            "arguments": [
                {
                    "name": "code",
                    "position": 0,
                    "type": "",
                    "required": false,
                    "has_default": true,
                    "default": null,
                    "default_name": ""
                }
            ]
        },
        "nativeOptions": {
            "name": "nativeOptions",
            "summary": "",
            "description": "",
            "description_parts": [],
            "file": "bbn\\Appui\\Option",
            "static": false,
            "visibility": "public",
            "final": false,
            "code": "function($code = NULL)\n  {\n    if (bbn\\Str::isUid($id = $this->fromCode(\\func_get_args()))) {\n      $res = [];\n      if ($its = $this->items($id)) {\n        foreach ($its as $it){\n          $res[] = $this->nativeOption($it);\n        }\n      }\n\n      return $res;\n    }\n\n    return null;\n  }",
            "startLine": 564,
            "endLine": 578,
            "isDeprecated": false,
            "isGenerator": false,
            "isInternal": false,
            "isUserDefined": true,
            "isVariadic": false,
            "returnsReference": false,
            "numberOfParameters": 1,
            "numberOfRequiredParameters": 0,
            "returns": [
                "array",
                null
            ],
            "parent": false,
            "arguments": [
                {
                    "name": "code",
                    "position": 0,
                    "type": "",
                    "required": false,
                    "has_default": true,
                    "default": null,
                    "default_name": ""
                }
            ]
        },
        "rawOption": {
            "name": "rawOption",
            "summary": "Returns an option's row as stored in its original form in the database, including cfg",
            "description": "*\n```php\nX::dump($opt->rawOption('database', 'appui'));\n\/*\narray [\n  'id' => \"77cea323f0ce11e897fd525400007196\",\n  'code' => \"bbn_ide\",\n  'text' => \"BBN's own IDE\",\n  'cfg' => null,\n  'id_alias' => null,\n  'value' => \"{\\\"num\\\":1}\"\n]\n```",
            "description_parts": [
                {
                    "type": "text",
                    "content": "<p>*<\/p>"
                },
                {
                    "type": "code",
                    "content": "X::dump($opt->rawOption('database', 'appui'));\n\/*\narray [\n  'id' => \"77cea323f0ce11e897fd525400007196\",\n  'code' => \"bbn_ide\",\n  'text' => \"BBN's own IDE\",\n  'cfg' => null,\n  'id_alias' => null,\n  'value' => \"{\\\"num\\\":1}\"\n]"
                }
            ],
            "file": "bbn\\Appui\\Option",
            "static": false,
            "visibility": "public",
            "final": false,
            "code": "function($code = NULL)\n  {\n    if (bbn\\Str::isUid($id = $this->fromCode(\\func_get_args()))) {\n      return $this->db->rselect($this->class_cfg['table'], [], [$this->class_cfg['arch']['options']['id'] => $id]);\n    }\n\n    return null;\n  }",
            "startLine": 600,
            "endLine": 607,
            "isDeprecated": false,
            "isGenerator": false,
            "isInternal": false,
            "isUserDefined": true,
            "isVariadic": false,
            "returnsReference": false,
            "numberOfParameters": 1,
            "numberOfRequiredParameters": 0,
            "returns": [
                "array",
                null
            ],
            "parent": false,
            "arguments": [
                {
                    "name": "code",
                    "position": 0,
                    "type": "",
                    "required": false,
                    "has_default": true,
                    "default": null,
                    "default_name": ""
                }
            ]
        },
        "rawOptions": {
            "name": "rawOptions",
            "summary": "Returns an option's items  as stored in its original form in the database, including cfg",
            "description": "*\n```php\nX::dump($opt->rawOptions('database', 'appui'));\n\/*\n[\n  [\n     'id' => \"77cea323f0ce11e897fd525400007196\",\n     'code' => \"bbn_ide\",\n     'text' => \"BBN's own IDE\",\n     'cfg' => null,\n     'id_alias' => null,\n     'value' => \"{\\\"num\\\":1}\"\n   ], [\n     'id' => \"77cea323f0ce11e897fd525400007196\",\n     'code' => \"bbn_ide\",\n     'text' => \"BBN's own IDE\",\n     'cfg' => null,\n     'id_alias' => null,\n     'value' => \"{\\\"num\\\":1}\"\n   ]\n]\n```",
            "description_parts": [
                {
                    "type": "text",
                    "content": "<p>*<\/p>"
                },
                {
                    "type": "code",
                    "content": "X::dump($opt->rawOptions('database', 'appui'));\n\/*\n[\n  [\n     'id' => \"77cea323f0ce11e897fd525400007196\",\n     'code' => \"bbn_ide\",\n     'text' => \"BBN's own IDE\",\n     'cfg' => null,\n     'id_alias' => null,\n     'value' => \"{\\\"num\\\":1}\"\n   ], [\n     'id' => \"77cea323f0ce11e897fd525400007196\",\n     'code' => \"bbn_ide\",\n     'text' => \"BBN's own IDE\",\n     'cfg' => null,\n     'id_alias' => null,\n     'value' => \"{\\\"num\\\":1}\"\n   ]\n]"
                }
            ],
            "file": "bbn\\Appui\\Option",
            "static": false,
            "visibility": "public",
            "final": false,
            "code": "function($code = NULL)\n  {\n    if (bbn\\Str::isUid($id = $this->fromCode(\\func_get_args()))) {\n      $res = [];\n      if ($its = $this->items($id)) {\n        foreach ($its as $it) {\n          $res[] = $this->db->rselect($this->class_cfg['table'], [], [$this->class_cfg['arch']['options']['id'] => $it]);\n        }\n      }\n\n      return $res;\n    }\n\n    return null;\n  }",
            "startLine": 638,
            "endLine": 652,
            "isDeprecated": false,
            "isGenerator": false,
            "isInternal": false,
            "isUserDefined": true,
            "isVariadic": false,
            "returnsReference": false,
            "numberOfParameters": 1,
            "numberOfRequiredParameters": 0,
            "returns": [
                "array",
                null
            ],
            "parent": false,
            "arguments": [
                {
                    "name": "code",
                    "position": 0,
                    "type": "",
                    "required": false,
                    "has_default": true,
                    "default": null,
                    "default_name": ""
                }
            ]
        },
        "rawTree": {
            "name": "rawTree",
            "summary": "Returns a hierarchical structure as stored in its original form in the database",
            "description": "*\n```php\nX::dump($opt->native_raw_tree('77cea323f0ce11e897fd525400007196'));\n\/*\narray [\n  'id' => 12,\n  'code' => \"bbn_ide\",\n  'text' => \"BBN's own IDE\",\n  'id_alias' => null,\n  'value' => \"{\\\"myProperty\\\":\\\"My property's value\\\"}\",\n  'items' => [\n    [\n      'id' => 25,\n      'code' => \"test\",\n      'text' => \"Test\",\n      'id_alias' => null,\n      'value' => \"{\\\"myProperty\\\":\\\"My property's value\\\"}\",\n    ],\n    [\n      'id' => 26,\n      'code' => \"test2\",\n      'text' => \"Test 2\",\n      'id_alias' => null,\n      'value' => \"{\\\"myProperty\\\":\\\"My property's value\\\"}\",\n      'items' => [\n        [\n          'id' => 42,\n          'code' => \"test8\",\n          'text' => \"Test 8\",\n          'id_alias' => null,\n          'value' => \"{\\\"myProperty\\\":\\\"My property's value\\\"}\",\n        ]\n      ]\n    ],\n  ]\n]\n```",
            "description_parts": [
                {
                    "type": "text",
                    "content": "<p>*<\/p>"
                },
                {
                    "type": "code",
                    "content": "X::dump($opt->native_raw_tree('77cea323f0ce11e897fd525400007196'));\n\/*\narray [\n  'id' => 12,\n  'code' => \"bbn_ide\",\n  'text' => \"BBN's own IDE\",\n  'id_alias' => null,\n  'value' => \"{\\\"myProperty\\\":\\\"My property's value\\\"}\",\n  'items' => [\n    [\n      'id' => 25,\n      'code' => \"test\",\n      'text' => \"Test\",\n      'id_alias' => null,\n      'value' => \"{\\\"myProperty\\\":\\\"My property's value\\\"}\",\n    ],\n    [\n      'id' => 26,\n      'code' => \"test2\",\n      'text' => \"Test 2\",\n      'id_alias' => null,\n      'value' => \"{\\\"myProperty\\\":\\\"My property's value\\\"}\",\n      'items' => [\n        [\n          'id' => 42,\n          'code' => \"test8\",\n          'text' => \"Test 8\",\n          'id_alias' => null,\n          'value' => \"{\\\"myProperty\\\":\\\"My property's value\\\"}\",\n        ]\n      ]\n    ],\n  ]\n]"
                }
            ],
            "file": "bbn\\Appui\\Option",
            "static": false,
            "visibility": "public",
            "final": false,
            "code": "function($code = NULL)\n  {\n    if (bbn\\Str::isUid($id = $this->fromCode(\\func_get_args()))) {\n      if ($res = $this->rawOption($id)) {\n        $its = $this->items($id);\n        if (\\count($its)) {\n          $res['items'] = [];\n          foreach ($its as $it){\n            $res['items'][] = $this->rawTree($it);\n          }\n        }\n\n        return $res;\n      }\n    }\n\n    return null;\n  }",
            "startLine": 698,
            "endLine": 715,
            "isDeprecated": false,
            "isGenerator": false,
            "isInternal": false,
            "isUserDefined": true,
            "isVariadic": false,
            "returnsReference": false,
            "numberOfParameters": 1,
            "numberOfRequiredParameters": 0,
            "returns": [
                "array",
                null
            ],
            "parent": false,
            "arguments": [
                {
                    "name": "code",
                    "position": 0,
                    "type": "",
                    "required": false,
                    "has_default": true,
                    "default": null,
                    "default_name": ""
                }
            ]
        },
        "optionNoAlias": {
            "name": "optionNoAlias",
            "summary": "Returns an option's full content as an array without its values changed by id_alias",
            "description": "*\n```php\nX::dump($opt->option(25));\nX::dump($opt->option('bbn_ide'));\nX::dump($opt->option('TEST', 58));\nX::dump($opt->option('test3', 'users', 'bbn_ide'));\n\/* Each would return an array of this form\narray [\n  'id' => 31,\n  'code' => \"bbn_ide\",\n  'text' => \"This is BBN's IDE\",\n  'id_alias' => 16,\n  'myIntProperty' => 56854,\n  'myTextProperty' => \"<h1>Hello\\nWorld<\/h1>\",\n  'myArrayProperty' => ['value1' => 1, 'value2' => 2]\n]\n```",
            "description_parts": [
                {
                    "type": "text",
                    "content": "<p>*<\/p>"
                },
                {
                    "type": "code",
                    "content": "X::dump($opt->option(25));\nX::dump($opt->option('bbn_ide'));\nX::dump($opt->option('TEST', 58));\nX::dump($opt->option('test3', 'users', 'bbn_ide'));\n\/* Each would return an array of this form\narray [\n  'id' => 31,\n  'code' => \"bbn_ide\",\n  'text' => \"This is BBN's IDE\",\n  'id_alias' => 16,\n  'myIntProperty' => 56854,\n  'myTextProperty' => \"<h1>Hello\\nWorld<\/h1>\",\n  'myArrayProperty' => ['value1' => 1, 'value2' => 2]\n]"
                }
            ],
            "file": "bbn\\Appui\\Option",
            "static": false,
            "visibility": "public",
            "final": false,
            "code": "function($code = NULL)\n  {\n    if (bbn\\Str::isUid($id = $this->fromCode(\\func_get_args()))\n        && ($opt = $this->nativeOption($id))\n    ) {\n      $this->_set_value($opt);\n      return $opt;\n    }\n\n    return null;\n  }",
            "startLine": 741,
            "endLine": 751,
            "isDeprecated": false,
            "isGenerator": false,
            "isInternal": false,
            "isUserDefined": true,
            "isVariadic": false,
            "returnsReference": false,
            "numberOfParameters": 1,
            "numberOfRequiredParameters": 0,
            "returns": [
                "array",
                null
            ],
            "parent": false,
            "arguments": [
                {
                    "name": "code",
                    "position": 0,
                    "type": "",
                    "required": false,
                    "has_default": true,
                    "default": null,
                    "default_name": ""
                }
            ]
        },
        "getValue": {
            "name": "getValue",
            "summary": "",
            "description": "",
            "description_parts": [],
            "file": "bbn\\Appui\\Option",
            "static": false,
            "visibility": "public",
            "final": false,
            "code": "function($code = NULL)\n  {\n    if (bbn\\Str::isUid($id = $this->fromCode(\\func_get_args()))\n        && ($opt = $this->nativeOption($id))\n        && !empty($opt[$this->class_cfg['arch']['options']['value']])\n        && bbn\\Str::isJson($opt[$this->class_cfg['arch']['options']['value']])\n    ) {\n      return json_decode($opt[$this->class_cfg['arch']['options']['value']], true);\n    }\n\n    return null;\n  }",
            "startLine": 754,
            "endLine": 765,
            "isDeprecated": false,
            "isGenerator": false,
            "isInternal": false,
            "isUserDefined": true,
            "isVariadic": false,
            "returnsReference": false,
            "numberOfParameters": 1,
            "numberOfRequiredParameters": 0,
            "returns": [
                "array",
                null
            ],
            "parent": false,
            "arguments": [
                {
                    "name": "code",
                    "position": 0,
                    "type": "",
                    "required": false,
                    "has_default": true,
                    "default": null,
                    "default_name": ""
                }
            ]
        },
        "option": {
            "name": "option",
            "summary": "Returns an option's full content as an array.",
            "description": "*\n```php\nX::dump($opt->option(25));\nX::dump($opt->option('bbn_ide'));\nX::dump($opt->option('TEST', 58));\nX::dump($opt->option('test', 'users', 'bbn_ide'));\n\/* Each would return an array of this form\narray [\n  'id' => 25,\n  'code' => \"bbn_ide\",\n  'text' => \"This is BBN's IDE\",\n  'myIntProperty' => 56854,\n  'myTextProperty' => \"<h1>Hello\\nWorld<\/h1>\",\n  'myArrayProperty' => ['value1' => 1, 'value2' => 2]\n]\n```",
            "description_parts": [
                {
                    "type": "text",
                    "content": "<p>*<\/p>"
                },
                {
                    "type": "code",
                    "content": "X::dump($opt->option(25));\nX::dump($opt->option('bbn_ide'));\nX::dump($opt->option('TEST', 58));\nX::dump($opt->option('test', 'users', 'bbn_ide'));\n\/* Each would return an array of this form\narray [\n  'id' => 25,\n  'code' => \"bbn_ide\",\n  'text' => \"This is BBN's IDE\",\n  'myIntProperty' => 56854,\n  'myTextProperty' => \"<h1>Hello\\nWorld<\/h1>\",\n  'myArrayProperty' => ['value1' => 1, 'value2' => 2]\n]"
                }
            ],
            "file": "bbn\\Appui\\Option",
            "static": false,
            "visibility": "public",
            "final": false,
            "code": "function($code = NULL)\n  {\n    if (bbn\\Str::isUid($id = $this->fromCode(\\func_get_args()))\n        && ($opt = $this->nativeOption($id))\n    ) {\n      $this->_set_value($opt);\n      $c =& $this->class_cfg['arch']['options'];\n      if (bbn\\Str::isUid($opt[$c['id_alias']]) && ($opt['alias'] = $this->nativeOption($opt[$c['id_alias']]))) {\n        if ($opt[$c['id_alias']] === $id) {\n          throw new \\Exception(X::_(\"Impossible to have the same ID as ALIAS, check out ID\").' '.$id);\n        }\n        else {\n          $this->_set_value($opt['alias']);\n        }\n      }\n\n      return $opt;\n    }\n\n    return null;\n  }",
            "startLine": 790,
            "endLine": 810,
            "isDeprecated": false,
            "isGenerator": false,
            "isInternal": false,
            "isUserDefined": true,
            "isVariadic": false,
            "returnsReference": false,
            "numberOfParameters": 1,
            "numberOfRequiredParameters": 0,
            "returns": [
                "array",
                null
            ],
            "parent": false,
            "arguments": [
                {
                    "name": "code",
                    "position": 0,
                    "type": "",
                    "required": false,
                    "has_default": true,
                    "default": null,
                    "default_name": ""
                }
            ]
        },
        "opAlias": {
            "name": "opAlias",
            "summary": "Returns the merge between an option and its alias as an array.",
            "description": "*\n```php\nX::dump($opt->option(25));\nX::dump($opt->option('bbn_ide'));\nX::dump($opt->option('TEST', 58));\nX::dump($opt->option('test', 'users', 'bbn_ide'));\n\/* Each would return an array of this form\narray [\n  'id' => 25,\n  'code' => \"bbn_ide\",\n  'text' => \"This is BBN's IDE\",\n  'myIntProperty' => 56854,\n  'myTextProperty' => \"<h1>Hello\\nWorld<\/h1>\",\n  'myArrayProperty' => ['value1' => 1, 'value2' => 2]\n]\n```",
            "description_parts": [
                {
                    "type": "text",
                    "content": "<p>*<\/p>"
                },
                {
                    "type": "code",
                    "content": "X::dump($opt->option(25));\nX::dump($opt->option('bbn_ide'));\nX::dump($opt->option('TEST', 58));\nX::dump($opt->option('test', 'users', 'bbn_ide'));\n\/* Each would return an array of this form\narray [\n  'id' => 25,\n  'code' => \"bbn_ide\",\n  'text' => \"This is BBN's IDE\",\n  'myIntProperty' => 56854,\n  'myTextProperty' => \"<h1>Hello\\nWorld<\/h1>\",\n  'myArrayProperty' => ['value1' => 1, 'value2' => 2]\n]"
                }
            ],
            "file": "bbn\\Appui\\Option",
            "static": false,
            "visibility": "public",
            "final": false,
            "code": "function($code = NULL)\n  {\n    if (bbn\\Str::isUid($id = $this->fromCode(\\func_get_args()))\n        && ($opt = $this->nativeOption($id))\n    ) {\n      $this->_set_value($opt);\n      $c =& $this->class_cfg['arch']['options'];\n      if (bbn\\Str::isUid($opt[$c['id_alias']]) && ($alias = $this->nativeOption($opt[$c['id_alias']]))) {\n        if ($opt[$c['id_alias']] === $id) {\n          throw new \\Exception(X::_(\"Impossible to have the same ID as ALIAS, check out ID\").' '.$id);\n        }\n        else {\n          $this->_set_value($alias);\n          foreach ($alias as $n => $a) {\n            if (!empty($a)) {\n              $opt[$n] = $a;\n            }\n          }\n\n        }\n      }\n\n      return $opt;\n    }\n\n    return null;\n  }",
            "startLine": 837,
            "endLine": 863,
            "isDeprecated": false,
            "isGenerator": false,
            "isInternal": false,
            "isUserDefined": true,
            "isVariadic": false,
            "returnsReference": false,
            "numberOfParameters": 1,
            "numberOfRequiredParameters": 0,
            "returns": [
                "array",
                null
            ],
            "parent": false,
            "arguments": [
                {
                    "name": "code",
                    "position": 0,
                    "type": "",
                    "required": false,
                    "has_default": true,
                    "default": null,
                    "default_name": ""
                }
            ]
        },
        "options": {
            "name": "options",
            "summary": "Returns an array of options in the form id => text",
            "description": "*\n```php\nX::dump($opt->options(12));\n\/*\n[\n  21 => \"My option 21\",\n  22 => \"My option 22\",\n  25 => \"My option 25\",\n  27 => \"My option 27\"\n]\n```",
            "description_parts": [
                {
                    "type": "text",
                    "content": "<p>*<\/p>"
                },
                {
                    "type": "code",
                    "content": "X::dump($opt->options(12));\n\/*\n[\n  21 => \"My option 21\",\n  22 => \"My option 22\",\n  25 => \"My option 25\",\n  27 => \"My option 27\"\n]"
                }
            ],
            "file": "bbn\\Appui\\Option",
            "static": false,
            "visibility": "public",
            "final": false,
            "code": "function($code = NULL)\n  {\n    if (bbn\\Str::isUid($id = $this->fromCode(\\func_get_args()))) {\n      \/\/var_dump(\"MY ID: $id\");\n      if ($r = $this->cacheGet($id, __FUNCTION__)) {\n        return $r;\n      }\n\n      $cf  =& $this->class_cfg['arch']['options'];\n      $res = $this->db->selectAllByKeys([\n        'tables' => [$this->class_cfg['table']],\n        'fields' => [\n          'id' => $this->class_cfg['table'].'.'.$cf['id'],\n          'text' => 'IFNULL('.\n            $this->db->tfn($this->class_cfg['table'].'.'.$cf['text'], true).', '.\n            $this->db->tfn('alias.'.$cf['text'], true).\n            ')'\n        ],\n        'join' => [\n          [\n            'table' => $this->class_cfg['table'],\n            'alias' => 'alias',\n            'type'  => 'LEFT',\n            'on'    => [\n              [\n                'field' => $this->class_cfg['table'].'.'.$cf['id_alias'],\n                'exp'   => 'alias.'.$cf['id']\n              ]\n            ]\n          ]\n        ],\n        'where' => [$this->class_cfg['table'].'.'.$cf['id_parent'] => $id],\n        'order' => ['text' => 'ASC']\n      ]);\n\n      $this->cacheSet($id, __FUNCTION__, $res);\n      return $res;\n    }\n\n    return null;\n  }",
            "startLine": 883,
            "endLine": 923,
            "isDeprecated": false,
            "isGenerator": false,
            "isInternal": false,
            "isUserDefined": true,
            "isVariadic": false,
            "returnsReference": false,
            "numberOfParameters": 1,
            "numberOfRequiredParameters": 0,
            "returns": [
                "array",
                null
            ],
            "parent": false,
            "arguments": [
                {
                    "name": "code",
                    "position": 0,
                    "type": "",
                    "required": false,
                    "has_default": true,
                    "default": null,
                    "default_name": ""
                }
            ]
        },
        "optionsByCode": {
            "name": "optionsByCode",
            "summary": "Returns an array of children options in the form code => text",
            "description": "*\n```php\nX::dump($opt->optionsByCode(12));\n\/*\narray [\n  'opt21' => \"My option 21\",\n  'opt22' => \"My option 22\",\n  'opt25' => \"My option 25\",\n  'opt27' => \"My option 27\"\n]\n```",
            "description_parts": [
                {
                    "type": "text",
                    "content": "<p>*<\/p>"
                },
                {
                    "type": "code",
                    "content": "X::dump($opt->optionsByCode(12));\n\/*\narray [\n  'opt21' => \"My option 21\",\n  'opt22' => \"My option 22\",\n  'opt25' => \"My option 25\",\n  'opt27' => \"My option 27\"\n]"
                }
            ],
            "file": "bbn\\Appui\\Option",
            "static": false,
            "visibility": "public",
            "final": false,
            "code": "function($code = NULL)\n  {\n    if (bbn\\Str::isUid($id = $this->fromCode(\\func_get_args()))) {\n      if ($r = $this->cacheGet($id, __FUNCTION__)) {\n        return $r;\n      }\n\n      $opt = $this->db->selectAllByKeys(\n        $this->class_cfg['table'],\n        [$this->class_cfg['arch']['options']['code'], $this->class_cfg['arch']['options']['text']],\n        [$this->class_cfg['arch']['options']['id_parent'] => $id],\n        [$this->class_cfg['arch']['options']['text'] => 'ASC']\n      );\n      $this->cacheSet($id, __FUNCTION__, $opt);\n      return $opt;\n    }\n\n    return null;\n  }",
            "startLine": 943,
            "endLine": 961,
            "isDeprecated": false,
            "isGenerator": false,
            "isInternal": false,
            "isUserDefined": true,
            "isVariadic": false,
            "returnsReference": false,
            "numberOfParameters": 1,
            "numberOfRequiredParameters": 0,
            "returns": [
                "array",
                null
            ],
            "parent": false,
            "arguments": [
                {
                    "name": "code",
                    "position": 0,
                    "type": "",
                    "required": false,
                    "has_default": true,
                    "default": null,
                    "default_name": ""
                }
            ]
        },
        "textValueOptions": {
            "name": "textValueOptions",
            "summary": "Returns an option's children array of id and text in a user-defined indexed array",
            "description": "*\n```php\nX::dump($opt->textValueOptions(12, 'title'));\n\/* value comes from the default argument\narray [\n  ['title' => \"My option 21\", 'value' =>  21],\n  ['title' => \"My option 22\", 'value' =>  22],\n  ['title' => \"My option 25\", 'value' =>  25],\n  ['title' => \"My option 27\", 'value' =>  27]\n]\n```",
            "description_parts": [
                {
                    "type": "text",
                    "content": "<p>*<\/p>"
                },
                {
                    "type": "code",
                    "content": "X::dump($opt->textValueOptions(12, 'title'));\n\/* value comes from the default argument\narray [\n  ['title' => \"My option 21\", 'value' =>  21],\n  ['title' => \"My option 22\", 'value' =>  22],\n  ['title' => \"My option 25\", 'value' =>  25],\n  ['title' => \"My option 27\", 'value' =>  27]\n]"
                }
            ],
            "file": "bbn\\Appui\\Option",
            "static": false,
            "visibility": "public",
            "final": false,
            "code": "function($id, $text = 'text', $value = 'value')\n  {\n    $res = [];\n    if ($opts = $this->fullOptions($id)) {\n      $cfg = $this->getCfg($id) ?: [];\n      $i   = 0;\n      foreach ($opts as $k => $o) {\n        if (!isset($is_array)) {\n          $is_array = \\is_array($o);\n        }\n\n        $res[$i] = [\n          'text' => $is_array ? $o['text'] : $o,\n          'value' => $is_array ? $o['id'] : $k\n        ];\n        if (!empty($cfg['show_code'])) {\n          $res[$i]['code'] = $o['code'];\n        }\n\n        \/*\n        if ( !empty($cfg['schema']) ){\n          if ( \\is_string($cfg['schema']) ){\n            $cfg['schema'] = json_decode($cfg['schema'], true);\n          }\n          foreach ( $cfg['schema'] as $s ){\n            if ( !empty($s['field']) ){\n              $res[$i][$s['field']] = $o[$s['field']] ?? null;\n            }\n          }\n        }\n        *\/\n        $i++;\n      }\n    }\n\n    return $res;\n  }",
            "startLine": 983,
            "endLine": 1019,
            "isDeprecated": false,
            "isGenerator": false,
            "isInternal": false,
            "isUserDefined": true,
            "isVariadic": false,
            "returnsReference": false,
            "numberOfParameters": 3,
            "numberOfRequiredParameters": 1,
            "returns": [
                "array",
                null
            ],
            "parent": false,
            "arguments": [
                {
                    "name": "id",
                    "position": 0,
                    "type": "",
                    "required": true,
                    "has_default": false,
                    "default": "",
                    "default_name": "",
                    "description": "The text field name for text column"
                },
                {
                    "name": "text",
                    "position": 1,
                    "type": "string",
                    "required": false,
                    "has_default": true,
                    "default": "text",
                    "default_name": "",
                    "description": "The value field name for id column"
                },
                {
                    "name": "value",
                    "position": 2,
                    "type": "string",
                    "required": false,
                    "has_default": true,
                    "default": "value",
                    "default_name": ""
                }
            ]
        },
        "siblings": {
            "name": "siblings",
            "summary": "",
            "description": "",
            "description_parts": [],
            "file": "bbn\\Appui\\Option",
            "static": false,
            "visibility": "public",
            "final": false,
            "code": "function()\n  {\n    if ($id = $this->fromCode(...func_get_args())) {\n      return array_filter(\n        $this->fullOptions($this->getIdParent($id)), function ($a) use ($id) {\n          return $a['id'] !== $id;\n        }\n      );\n    }\n\n    return null;\n  }",
            "startLine": 1022,
            "endLine": 1033,
            "isDeprecated": false,
            "isGenerator": false,
            "isInternal": false,
            "isUserDefined": true,
            "isVariadic": false,
            "returnsReference": false,
            "numberOfParameters": 0,
            "numberOfRequiredParameters": 0,
            "returns": [
                "array",
                null
            ],
            "parent": false,
            "arguments": []
        },
        "fullOptions": {
            "name": "fullOptions",
            "summary": "Returns an array of full options arrays for a given parent",
            "description": "*\n```php\nX::dump($opt->fullOptions(12));\n\/*\narray [\n  ['id' => 21, 'id_parent' => 12, 'title' => \"My option 21\", 'myProperty' =>  \"78%\"],\n  ['id' => 22, 'id_parent' => 12, 'title' => \"My option 22\", 'myProperty' =>  \"26%\"],\n  ['id' => 25, 'id_parent' => 12, 'title' => \"My option 25\", 'myProperty' =>  \"50%\"],\n  ['id' => 27, 'id_parent' => 12, 'title' => \"My option 27\", 'myProperty' =>  \"40%\"]\n]\n```",
            "description_parts": [
                {
                    "type": "text",
                    "content": "<p>*<\/p>"
                },
                {
                    "type": "code",
                    "content": "X::dump($opt->fullOptions(12));\n\/*\narray [\n  ['id' => 21, 'id_parent' => 12, 'title' => \"My option 21\", 'myProperty' =>  \"78%\"],\n  ['id' => 22, 'id_parent' => 12, 'title' => \"My option 22\", 'myProperty' =>  \"26%\"],\n  ['id' => 25, 'id_parent' => 12, 'title' => \"My option 25\", 'myProperty' =>  \"50%\"],\n  ['id' => 27, 'id_parent' => 12, 'title' => \"My option 27\", 'myProperty' =>  \"40%\"]\n]"
                }
            ],
            "file": "bbn\\Appui\\Option",
            "static": false,
            "visibility": "public",
            "final": false,
            "code": "function($code = NULL)\n  {\n    if (bbn\\Str::isUid($id = $this->fromCode(\\func_get_args()))) {\n      $list = $this->items($id);\n      if (\\is_array($list)) {\n        $res = [];\n        foreach ($list as $i){\n          if ($tmp = $this->option($i)) {\n            $res[] = $tmp;\n          }\n          else {\n            throw new \\Exception(X::_(\"Impossible to find the ID\").' '.$i);\n          }\n        }\n\n        return $res;\n      }\n    }\n\n    return null;\n  }",
            "startLine": 1053,
            "endLine": 1073,
            "isDeprecated": false,
            "isGenerator": false,
            "isInternal": false,
            "isUserDefined": true,
            "isVariadic": false,
            "returnsReference": false,
            "numberOfParameters": 1,
            "numberOfRequiredParameters": 0,
            "returns": [
                "array",
                null
            ],
            "parent": false,
            "arguments": [
                {
                    "name": "code",
                    "position": 0,
                    "type": "",
                    "required": false,
                    "has_default": true,
                    "default": null,
                    "default_name": ""
                }
            ]
        },
        "fullOptionsRef": {
            "name": "fullOptionsRef",
            "summary": "Returns each individual full option plus the children of options having this as alias.",
            "description": "*\n```php\nX::dump($opt->optionsRef('type', 'media', 'note', 'appui'));\n\/*\narray [\n  ['id' => 21, 'id_parent' => 12, 'title' => \"My option 21\", 'myProperty' =>  \"78%\"],\n  ['id' => 22, 'id_parent' => 12, 'title' => \"My option 22\", 'myProperty' =>  \"26%\"],\n  ['id' => 25, 'id_parent' => 12, 'title' => \"My option 25\", 'myProperty' =>  \"50%\"],\n  ['id' => 27, 'id_parent' => 12, 'title' => \"My option 27\", 'myProperty' =>  \"40%\"]\n]\n```",
            "description_parts": [
                {
                    "type": "text",
                    "content": "<p>*<\/p>"
                },
                {
                    "type": "code",
                    "content": "X::dump($opt->optionsRef('type', 'media', 'note', 'appui'));\n\/*\narray [\n  ['id' => 21, 'id_parent' => 12, 'title' => \"My option 21\", 'myProperty' =>  \"78%\"],\n  ['id' => 22, 'id_parent' => 12, 'title' => \"My option 22\", 'myProperty' =>  \"26%\"],\n  ['id' => 25, 'id_parent' => 12, 'title' => \"My option 25\", 'myProperty' =>  \"50%\"],\n  ['id' => 27, 'id_parent' => 12, 'title' => \"My option 27\", 'myProperty' =>  \"40%\"]\n]"
                }
            ],
            "file": "bbn\\Appui\\Option",
            "static": false,
            "visibility": "public",
            "final": false,
            "code": "function($code = NULL)\n  {\n    if (bbn\\Str::isUid($id = $this->fromCode(\\func_get_args()))) {\n      $all = $this->fullOptions($id);\n      $aliases = $this->getAliases($id);\n      foreach ($aliases as $a) {\n        if ($tmp = $this->fullOptions($a['id'])) {\n          array_push($all, ...$tmp);\n        }\n      }\n\n      return $all;\n    }\n\n    return null;\n  }",
            "startLine": 1093,
            "endLine": 1108,
            "isDeprecated": false,
            "isGenerator": false,
            "isInternal": false,
            "isUserDefined": true,
            "isVariadic": false,
            "returnsReference": false,
            "numberOfParameters": 1,
            "numberOfRequiredParameters": 0,
            "returns": [
                "array",
                null
            ],
            "parent": false,
            "arguments": [
                {
                    "name": "code",
                    "position": 0,
                    "type": "",
                    "required": false,
                    "has_default": true,
                    "default": null,
                    "default_name": ""
                }
            ]
        },
        "optionsRef": {
            "name": "optionsRef",
            "summary": "Returns each individual option plus the children of options having this as alias.",
            "description": "*\n```php\nX::dump($opt->fullOptions(12));\n\/*\narray [\n  ['id' => 21, 'id_parent' => 12, 'title' => \"My option 21\", 'myProperty' =>  \"78%\"],\n  ['id' => 22, 'id_parent' => 12, 'title' => \"My option 22\", 'myProperty' =>  \"26%\"],\n  ['id' => 25, 'id_parent' => 12, 'title' => \"My option 25\", 'myProperty' =>  \"50%\"],\n  ['id' => 27, 'id_parent' => 12, 'title' => \"My option 27\", 'myProperty' =>  \"40%\"]\n]\n```",
            "description_parts": [
                {
                    "type": "text",
                    "content": "<p>*<\/p>"
                },
                {
                    "type": "code",
                    "content": "X::dump($opt->fullOptions(12));\n\/*\narray [\n  ['id' => 21, 'id_parent' => 12, 'title' => \"My option 21\", 'myProperty' =>  \"78%\"],\n  ['id' => 22, 'id_parent' => 12, 'title' => \"My option 22\", 'myProperty' =>  \"26%\"],\n  ['id' => 25, 'id_parent' => 12, 'title' => \"My option 25\", 'myProperty' =>  \"50%\"],\n  ['id' => 27, 'id_parent' => 12, 'title' => \"My option 27\", 'myProperty' =>  \"40%\"]\n]"
                }
            ],
            "file": "bbn\\Appui\\Option",
            "static": false,
            "visibility": "public",
            "final": false,
            "code": "function($code = NULL)\n  {\n    if (bbn\\Str::isUid($id = $this->fromCode(\\func_get_args()))) {\n      $all = $this->options($id);\n      $aliases = $this->getAliases($id);\n      foreach ($aliases as $a) {\n        if ($tmp = $this->options($a['id'])) {\n          $all = array_merge($all, $tmp);\n        }\n      }\n\n      return $all;\n    }\n\n    return null;\n  }",
            "startLine": 1128,
            "endLine": 1143,
            "isDeprecated": false,
            "isGenerator": false,
            "isInternal": false,
            "isUserDefined": true,
            "isVariadic": false,
            "returnsReference": false,
            "numberOfParameters": 1,
            "numberOfRequiredParameters": 0,
            "returns": [
                "array",
                null
            ],
            "parent": false,
            "arguments": [
                {
                    "name": "code",
                    "position": 0,
                    "type": "",
                    "required": false,
                    "has_default": true,
                    "default": null,
                    "default_name": ""
                }
            ]
        },
        "itemsRef": {
            "name": "itemsRef",
            "summary": "Returns each individual option plus the children of options having this as alias.",
            "description": "*\n```php\nX::dump($opt->fullOptions(12));\n\/*\narray [\n  ['id' => 21, 'id_parent' => 12, 'title' => \"My option 21\", 'myProperty' =>  \"78%\"],\n  ['id' => 22, 'id_parent' => 12, 'title' => \"My option 22\", 'myProperty' =>  \"26%\"],\n  ['id' => 25, 'id_parent' => 12, 'title' => \"My option 25\", 'myProperty' =>  \"50%\"],\n  ['id' => 27, 'id_parent' => 12, 'title' => \"My option 27\", 'myProperty' =>  \"40%\"]\n]\n```",
            "description_parts": [
                {
                    "type": "text",
                    "content": "<p>*<\/p>"
                },
                {
                    "type": "code",
                    "content": "X::dump($opt->fullOptions(12));\n\/*\narray [\n  ['id' => 21, 'id_parent' => 12, 'title' => \"My option 21\", 'myProperty' =>  \"78%\"],\n  ['id' => 22, 'id_parent' => 12, 'title' => \"My option 22\", 'myProperty' =>  \"26%\"],\n  ['id' => 25, 'id_parent' => 12, 'title' => \"My option 25\", 'myProperty' =>  \"50%\"],\n  ['id' => 27, 'id_parent' => 12, 'title' => \"My option 27\", 'myProperty' =>  \"40%\"]\n]"
                }
            ],
            "file": "bbn\\Appui\\Option",
            "static": false,
            "visibility": "public",
            "final": false,
            "code": "function($code = NULL)\n  {\n    if (bbn\\Str::isUid($id = $this->fromCode(\\func_get_args()))) {\n      $all = $this->items($id);\n      $aliases = $this->getAliases($id);\n      foreach ($aliases as $a) {\n        if ($items = $this->items($a)) {\n          array_push($all, ...$items);\n        }\n      }\n\n      return $all;\n    }\n\n    return null;\n  }",
            "startLine": 1163,
            "endLine": 1178,
            "isDeprecated": false,
            "isGenerator": false,
            "isInternal": false,
            "isUserDefined": true,
            "isVariadic": false,
            "returnsReference": false,
            "numberOfParameters": 1,
            "numberOfRequiredParameters": 0,
            "returns": [
                "array",
                null
            ],
            "parent": false,
            "arguments": [
                {
                    "name": "code",
                    "position": 0,
                    "type": "",
                    "required": false,
                    "has_default": true,
                    "default": null,
                    "default_name": ""
                }
            ]
        },
        "codeOptions": {
            "name": "codeOptions",
            "summary": "Returns an array of full options arrays for a given parent",
            "description": "*\n```php\nX::dump($opt->fullOptions(12));\n\/*\narray [\n  ['id' => 21, 'id_parent' => 12, 'title' => \"My option 21\", 'myProperty' =>  \"78%\"],\n  ['id' => 22, 'id_parent' => 12, 'title' => \"My option 22\", 'myProperty' =>  \"26%\"],\n  ['id' => 25, 'id_parent' => 12, 'title' => \"My option 25\", 'myProperty' =>  \"50%\"],\n  ['id' => 27, 'id_parent' => 12, 'title' => \"My option 27\", 'myProperty' =>  \"40%\"]\n]\n```",
            "description_parts": [
                {
                    "type": "text",
                    "content": "<p>*<\/p>"
                },
                {
                    "type": "code",
                    "content": "X::dump($opt->fullOptions(12));\n\/*\narray [\n  ['id' => 21, 'id_parent' => 12, 'title' => \"My option 21\", 'myProperty' =>  \"78%\"],\n  ['id' => 22, 'id_parent' => 12, 'title' => \"My option 22\", 'myProperty' =>  \"26%\"],\n  ['id' => 25, 'id_parent' => 12, 'title' => \"My option 25\", 'myProperty' =>  \"50%\"],\n  ['id' => 27, 'id_parent' => 12, 'title' => \"My option 27\", 'myProperty' =>  \"40%\"]\n]"
                }
            ],
            "file": "bbn\\Appui\\Option",
            "static": false,
            "visibility": "public",
            "final": false,
            "code": "function($code = NULL)\n  {\n    if (bbn\\Str::isUid($id = $this->fromCode(\\func_get_args()))) {\n      $list = $this->items($id);\n      if (\\is_array($list)) {\n        $res = [];\n        foreach ($list as $i){\n          $o               = $this->option($i);\n          $res[$o['code']] = [\n            'id' => $o['id'],\n            'code' => $o['code'],\n            'text' => $o['text']\n          ];\n        }\n\n        return $res;\n      }\n    }\n\n    return null;\n  }",
            "startLine": 1198,
            "endLine": 1218,
            "isDeprecated": false,
            "isGenerator": false,
            "isInternal": false,
            "isUserDefined": true,
            "isVariadic": false,
            "returnsReference": false,
            "numberOfParameters": 1,
            "numberOfRequiredParameters": 0,
            "returns": [
                "array",
                null
            ],
            "parent": false,
            "arguments": [
                {
                    "name": "code",
                    "position": 0,
                    "type": "",
                    "required": false,
                    "has_default": true,
                    "default": null,
                    "default_name": ""
                }
            ]
        },
        "codeIds": {
            "name": "codeIds",
            "summary": "",
            "description": "",
            "description_parts": [],
            "file": "bbn\\Appui\\Option",
            "static": false,
            "visibility": "public",
            "final": false,
            "code": "function($code = NULL)\n  {\n    if (bbn\\Str::isUid($id = $this->fromCode(\\func_get_args()))) {\n      $list = $this->items($id);\n      if (\\is_array($list)) {\n        $res = [];\n        foreach ($list as $i){\n          $o               = $this->option($i);\n          $res[$o['code']] = $o['id'];\n        }\n\n        return $res;\n      }\n    }\n\n    return null;\n  }",
            "startLine": 1221,
            "endLine": 1237,
            "isDeprecated": false,
            "isGenerator": false,
            "isInternal": false,
            "isUserDefined": true,
            "isVariadic": false,
            "returnsReference": false,
            "numberOfParameters": 1,
            "numberOfRequiredParameters": 0,
            "returns": [
                "array",
                null
            ],
            "parent": false,
            "arguments": [
                {
                    "name": "code",
                    "position": 0,
                    "type": "",
                    "required": false,
                    "has_default": true,
                    "default": null,
                    "default_name": ""
                }
            ]
        },
        "getAliases": {
            "name": "getAliases",
            "summary": "",
            "description": "",
            "description_parts": [],
            "file": "bbn\\Appui\\Option",
            "static": false,
            "visibility": "public",
            "final": false,
            "code": "function($code = NULL)\n  {\n    if (bbn\\Str::isUid($id = $this->fromCode(\\func_get_args()))) {\n      $r = [];\n      $cf = $this->getClassCfg();\n      foreach ($this->db->rselectAll($cf['table'], [], ['id_alias' => $id]) as $d) {\n        $this->_set_value($d);\n        $r[] = $d;\n      }\n\n      return $r;\n    }\n\n    return null;\n  }",
            "startLine": 1240,
            "endLine": 1254,
            "isDeprecated": false,
            "isGenerator": false,
            "isInternal": false,
            "isUserDefined": true,
            "isVariadic": false,
            "returnsReference": false,
            "numberOfParameters": 1,
            "numberOfRequiredParameters": 0,
            "returns": [
                "array",
                null
            ],
            "parent": false,
            "arguments": [
                {
                    "name": "code",
                    "position": 0,
                    "type": "",
                    "required": false,
                    "has_default": true,
                    "default": null,
                    "default_name": ""
                }
            ]
        },
        "getAliasItems": {
            "name": "getAliasItems",
            "summary": "",
            "description": "",
            "description_parts": [],
            "file": "bbn\\Appui\\Option",
            "static": false,
            "visibility": "public",
            "final": false,
            "code": "function($code = NULL)\n  {\n    if (bbn\\Str::isUid($id = $this->fromCode(\\func_get_args()))) {\n      if ($res = $this->cacheGet($id, __FUNCTION__)) {\n        return $res;\n      }\n\n      $cf = $this->getClassCfg();\n      $res = $this->db->getColumnValues(\n        $cf['table'],\n        $cf['arch']['options']['id'],\n        [$cf['arch']['options']['id_alias'] => $id]\n      );\n\n      $this->cacheSet($id, __FUNCTION__, $res);\n      return $res;\n    }\n\n    return null;\n  }",
            "startLine": 1257,
            "endLine": 1276,
            "isDeprecated": false,
            "isGenerator": false,
            "isInternal": false,
            "isUserDefined": true,
            "isVariadic": false,
            "returnsReference": false,
            "numberOfParameters": 1,
            "numberOfRequiredParameters": 0,
            "returns": [
                "array",
                null
            ],
            "parent": false,
            "arguments": [
                {
                    "name": "code",
                    "position": 0,
                    "type": "",
                    "required": false,
                    "has_default": true,
                    "default": null,
                    "default_name": ""
                }
            ]
        },
        "getAliasOptions": {
            "name": "getAliasOptions",
            "summary": "",
            "description": "",
            "description_parts": [],
            "file": "bbn\\Appui\\Option",
            "static": false,
            "visibility": "public",
            "final": false,
            "code": "function($code = NULL)\n  {\n    if (bbn\\Str::isUid($id = $this->fromCode(\\func_get_args()))) {\n      if ($r = $this->cacheGet($id, __FUNCTION__)) {\n        return $r;\n      }\n\n      $res = [];\n      if ($items = $this->getAliasItems($id)) {\n        $cf = $this->getClassCfg();\n        foreach ($items as $it) {\n          $res[$it] = $this->text($it);\n        }\n      }\n\n      $this->cacheSet($id, __FUNCTION__, $res);\n      return $res;\n    }\n\n    return null;\n  }",
            "startLine": 1279,
            "endLine": 1299,
            "isDeprecated": false,
            "isGenerator": false,
            "isInternal": false,
            "isUserDefined": true,
            "isVariadic": false,
            "returnsReference": false,
            "numberOfParameters": 1,
            "numberOfRequiredParameters": 0,
            "returns": [
                "array",
                null
            ],
            "parent": false,
            "arguments": [
                {
                    "name": "code",
                    "position": 0,
                    "type": "",
                    "required": false,
                    "has_default": true,
                    "default": null,
                    "default_name": ""
                }
            ]
        },
        "getAliasFullOptions": {
            "name": "getAliasFullOptions",
            "summary": "",
            "description": "",
            "description_parts": [],
            "file": "bbn\\Appui\\Option",
            "static": false,
            "visibility": "public",
            "final": false,
            "code": "function($code = NULL)\n  {\n    if (bbn\\Str::isUid($id = $this->fromCode(\\func_get_args()))) {\n      if ($r = $this->cacheGet($id, __FUNCTION__)) {\n        return $r;\n      }\n\n      $res = [];\n      if ($items = $this->getAliasItems($id)) {\n        $res[] = $this->option($it);\n      }\n\n      $this->cacheSet($id, __FUNCTION__, $res);\n      return $res;\n    }\n\n    return null;\n  }",
            "startLine": 1302,
            "endLine": 1319,
            "isDeprecated": false,
            "isGenerator": false,
            "isInternal": false,
            "isUserDefined": true,
            "isVariadic": false,
            "returnsReference": false,
            "numberOfParameters": 1,
            "numberOfRequiredParameters": 0,
            "returns": [
                "array",
                null
            ],
            "parent": false,
            "arguments": [
                {
                    "name": "code",
                    "position": 0,
                    "type": "",
                    "required": false,
                    "has_default": true,
                    "default": null,
                    "default_name": ""
                }
            ]
        },
        "fullOptionsById": {
            "name": "fullOptionsById",
            "summary": "Returns an id-indexed array of full options arrays for a given parent",
            "description": "*\n```php\nX::dump($opt->fullOptions(12));\n\/*\narray [\n  21 => ['id' => 21, 'id_parent' => 12, 'title' => \"My option 21\", 'myProperty' =>  \"78%\"],\n  22 => ['id' => 22, 'id_parent' => 12, 'title' => \"My option 22\", 'myProperty' =>  \"26%\"],\n  25 => ['id' => 25, 'id_parent' => 12, 'title' => \"My option 25\", 'myProperty' =>  \"50%\"],\n  27 => ['id' => 27, 'id_parent' => 12, 'title' => \"My option 27\", 'myProperty' =>  \"40%\"]\n]\n```",
            "description_parts": [
                {
                    "type": "text",
                    "content": "<p>*<\/p>"
                },
                {
                    "type": "code",
                    "content": "X::dump($opt->fullOptions(12));\n\/*\narray [\n  21 => ['id' => 21, 'id_parent' => 12, 'title' => \"My option 21\", 'myProperty' =>  \"78%\"],\n  22 => ['id' => 22, 'id_parent' => 12, 'title' => \"My option 22\", 'myProperty' =>  \"26%\"],\n  25 => ['id' => 25, 'id_parent' => 12, 'title' => \"My option 25\", 'myProperty' =>  \"50%\"],\n  27 => ['id' => 27, 'id_parent' => 12, 'title' => \"My option 27\", 'myProperty' =>  \"40%\"]\n]"
                }
            ],
            "file": "bbn\\Appui\\Option",
            "static": false,
            "visibility": "public",
            "final": false,
            "code": "function($code = NULL)\n  {\n    $res = [];\n    if ($opt = $this->fullOptions(\\func_get_args())) {\n      $cf = $this->getClassCfg();\n      foreach ($opt as $o){\n        $res[$o[$cf['arch']['options']['id']]] = $o;\n      }\n    }\n\n    return $opt === null ? $opt : $res;\n  }",
            "startLine": 1339,
            "endLine": 1350,
            "isDeprecated": false,
            "isGenerator": false,
            "isInternal": false,
            "isUserDefined": true,
            "isVariadic": false,
            "returnsReference": false,
            "numberOfParameters": 1,
            "numberOfRequiredParameters": 0,
            "returns": [
                "array",
                null
            ],
            "parent": false,
            "arguments": [
                {
                    "name": "code",
                    "position": 0,
                    "type": "",
                    "required": false,
                    "has_default": true,
                    "default": null,
                    "default_name": ""
                }
            ]
        },
        "fullOptionsByCode": {
            "name": "fullOptionsByCode",
            "summary": "Returns an id-indexed array of full options arrays for a given parent",
            "description": "*\n```php\nX::dump($opt->fullOptions(12));\n\/*\narray [\n  21 => ['id' => 21, 'id_parent' => 12, 'title' => \"My option 21\", 'myProperty' =>  \"78%\"],\n  22 => ['id' => 22, 'id_parent' => 12, 'title' => \"My option 22\", 'myProperty' =>  \"26%\"],\n  25 => ['id' => 25, 'id_parent' => 12, 'title' => \"My option 25\", 'myProperty' =>  \"50%\"],\n  27 => ['id' => 27, 'id_parent' => 12, 'title' => \"My option 27\", 'myProperty' =>  \"40%\"]\n]\n```",
            "description_parts": [
                {
                    "type": "text",
                    "content": "<p>*<\/p>"
                },
                {
                    "type": "code",
                    "content": "X::dump($opt->fullOptions(12));\n\/*\narray [\n  21 => ['id' => 21, 'id_parent' => 12, 'title' => \"My option 21\", 'myProperty' =>  \"78%\"],\n  22 => ['id' => 22, 'id_parent' => 12, 'title' => \"My option 22\", 'myProperty' =>  \"26%\"],\n  25 => ['id' => 25, 'id_parent' => 12, 'title' => \"My option 25\", 'myProperty' =>  \"50%\"],\n  27 => ['id' => 27, 'id_parent' => 12, 'title' => \"My option 27\", 'myProperty' =>  \"40%\"]\n]"
                }
            ],
            "file": "bbn\\Appui\\Option",
            "static": false,
            "visibility": "public",
            "final": false,
            "code": "function($code = NULL)\n  {\n    $res = [];\n    if ($opt = $this->fullOptions(\\func_get_args())) {\n      $cf = $this->getClassCfg();\n      foreach ($opt as $o){\n        $res[$o[$cf['arch']['options']['code']]] = $o;\n      }\n    }\n\n    return $opt === null ?: $res;\n  }",
            "startLine": 1370,
            "endLine": 1381,
            "isDeprecated": false,
            "isGenerator": false,
            "isInternal": false,
            "isUserDefined": true,
            "isVariadic": false,
            "returnsReference": false,
            "numberOfParameters": 1,
            "numberOfRequiredParameters": 0,
            "returns": [
                "array",
                null
            ],
            "parent": false,
            "arguments": [
                {
                    "name": "code",
                    "position": 0,
                    "type": "",
                    "required": false,
                    "has_default": true,
                    "default": null,
                    "default_name": ""
                }
            ]
        },
        "fullOptionsCfg": {
            "name": "fullOptionsCfg",
            "summary": "Returns an id-indexed array of full options with the config in arrays for a given parent",
            "description": "*\n```php\nX::dump($opt->fullOptionsCfg(12));\n\/*\narray [\n  ['id' => 21, 'id_parent' => 12, 'num' => 1, 'title' => \"My option 21\", 'myProperty' =>  \"78%\", 'cfg' => ['sortable' => true, 'desc' => \"I am a description\"]],\n  ['id' => 22, 'id_parent' => 12, 'num' => 2, 'title' => \"My option 22\", 'myProperty' =>  \"26%\", 'cfg' => ['desc' => \"I am a description\"]],\n  ['id' => 25, 'id_parent' => 12, 'num' => 3, 'title' => \"My option 25\", 'myProperty' =>  \"50%\", 'cfg' => ['desc' => \"I am a description\"]],\n  ['id' => 27, 'id_parent' => 12, 'num' => 4, 'title' => \"My option 27\", 'myProperty' =>  \"40%\", 'cfg' => ['desc' => \"I am a description\"]]\n]\n```",
            "description_parts": [
                {
                    "type": "text",
                    "content": "<p>*<\/p>"
                },
                {
                    "type": "code",
                    "content": "X::dump($opt->fullOptionsCfg(12));\n\/*\narray [\n  ['id' => 21, 'id_parent' => 12, 'num' => 1, 'title' => \"My option 21\", 'myProperty' =>  \"78%\", 'cfg' => ['sortable' => true, 'desc' => \"I am a description\"]],\n  ['id' => 22, 'id_parent' => 12, 'num' => 2, 'title' => \"My option 22\", 'myProperty' =>  \"26%\", 'cfg' => ['desc' => \"I am a description\"]],\n  ['id' => 25, 'id_parent' => 12, 'num' => 3, 'title' => \"My option 25\", 'myProperty' =>  \"50%\", 'cfg' => ['desc' => \"I am a description\"]],\n  ['id' => 27, 'id_parent' => 12, 'num' => 4, 'title' => \"My option 27\", 'myProperty' =>  \"40%\", 'cfg' => ['desc' => \"I am a description\"]]\n]"
                }
            ],
            "file": "bbn\\Appui\\Option",
            "static": false,
            "visibility": "public",
            "final": false,
            "code": "function($code = NULL)\n  {\n    if (bbn\\Str::isUid($id = $this->fromCode(\\func_get_args()))) {\n      $o =& $this;\n      return $this->map(\n        function ($a) use ($o) {\n          $a['cfg'] = $o->getCfg($a['id']);\n          return $a;\n        }, $id\n      );\n    }\n\n    return null;\n  }",
            "startLine": 1401,
            "endLine": 1414,
            "isDeprecated": false,
            "isGenerator": false,
            "isInternal": false,
            "isUserDefined": true,
            "isVariadic": false,
            "returnsReference": false,
            "numberOfParameters": 1,
            "numberOfRequiredParameters": 0,
            "returns": [
                "array",
                null
            ],
            "parent": false,
            "arguments": [
                {
                    "name": "code",
                    "position": 0,
                    "type": "",
                    "required": false,
                    "has_default": true,
                    "default": null,
                    "default_name": ""
                }
            ]
        },
        "soptions": {
            "name": "soptions",
            "summary": "Returns an id-indexed array of options in the form id => text for a given grandparent",
            "description": "*\n```php\nX::dump($opt->soptions(12));\n\/*\n[\n  21 => \"My option 21\",\n  22 => \"My option 22\",\n  25 => \"My option 25\",\n  27 => \"My option 27\",\n  31 => \"My option 31\",\n  32 => \"My option 32\",\n  35 => \"My option 35\",\n  37 => \"My option 37\"\n]\n```",
            "description_parts": [
                {
                    "type": "text",
                    "content": "<p>*<\/p>"
                },
                {
                    "type": "code",
                    "content": "X::dump($opt->soptions(12));\n\/*\n[\n  21 => \"My option 21\",\n  22 => \"My option 22\",\n  25 => \"My option 25\",\n  27 => \"My option 27\",\n  31 => \"My option 31\",\n  32 => \"My option 32\",\n  35 => \"My option 35\",\n  37 => \"My option 37\"\n]"
                }
            ],
            "file": "bbn\\Appui\\Option",
            "static": false,
            "visibility": "public",
            "final": false,
            "code": "function($code = NULL)\n  {\n    if (bbn\\Str::isUid($id = $this->fromCode(\\func_get_args()))) {\n      $r = [];\n      if ($ids = $this->items($id)) {\n        foreach ($ids as $i => $txt){\n          $o = $this->options($i);\n          if (\\is_array($o)) {\n            $r = X::mergeArrays($r, $o);\n          }\n        }\n      }\n\n      return $r;\n    }\n\n    return null;\n  }",
            "startLine": 1438,
            "endLine": 1455,
            "isDeprecated": false,
            "isGenerator": false,
            "isInternal": false,
            "isUserDefined": true,
            "isVariadic": false,
            "returnsReference": false,
            "numberOfParameters": 1,
            "numberOfRequiredParameters": 0,
            "returns": [
                "array",
                null
            ],
            "parent": false,
            "arguments": [
                {
                    "name": "code",
                    "position": 0,
                    "type": "",
                    "required": false,
                    "has_default": true,
                    "default": null,
                    "default_name": ""
                }
            ]
        },
        "fullSoptions": {
            "name": "fullSoptions",
            "summary": "Returns an id-indexed array of full options arrays for a given parent",
            "description": "*\n```php\nX::dump($opt->fullSoptions(12));\n\/*\narray [\n  ['id' => 21, 'id_parent' => 20, 'title' => \"My option 21\", 'myProperty' =>  \"78%\"],\n  ['id' => 22, 'id_parent' => 20, 'title' => \"My option 22\", 'myProperty' =>  \"26%\"],\n  ['id' => 25, 'id_parent' => 20, 'title' => \"My option 25\", 'myProperty' =>  \"50%\"],\n  ['id' => 27, 'id_parent' => 20, 'title' => \"My option 27\", 'myProperty' =>  \"40%\"],\n  ['id' => 31, 'id_parent' => 30, 'title' => \"My option 31\", 'myProperty' =>  \"88%\"],\n  ['id' => 32, 'id_parent' => 30, 'title' => \"My option 32\", 'myProperty' =>  \"97%\"],\n  ['id' => 35, 'id_parent' => 30, 'title' => \"My option 35\", 'myProperty' =>  \"12%\"],\n  ['id' => 37, 'id_parent' => 30, 'title' => \"My option 37\", 'myProperty' =>  \"4%\"]\n]\n```",
            "description_parts": [
                {
                    "type": "text",
                    "content": "<p>*<\/p>"
                },
                {
                    "type": "code",
                    "content": "X::dump($opt->fullSoptions(12));\n\/*\narray [\n  ['id' => 21, 'id_parent' => 20, 'title' => \"My option 21\", 'myProperty' =>  \"78%\"],\n  ['id' => 22, 'id_parent' => 20, 'title' => \"My option 22\", 'myProperty' =>  \"26%\"],\n  ['id' => 25, 'id_parent' => 20, 'title' => \"My option 25\", 'myProperty' =>  \"50%\"],\n  ['id' => 27, 'id_parent' => 20, 'title' => \"My option 27\", 'myProperty' =>  \"40%\"],\n  ['id' => 31, 'id_parent' => 30, 'title' => \"My option 31\", 'myProperty' =>  \"88%\"],\n  ['id' => 32, 'id_parent' => 30, 'title' => \"My option 32\", 'myProperty' =>  \"97%\"],\n  ['id' => 35, 'id_parent' => 30, 'title' => \"My option 35\", 'myProperty' =>  \"12%\"],\n  ['id' => 37, 'id_parent' => 30, 'title' => \"My option 37\", 'myProperty' =>  \"4%\"]\n]"
                }
            ],
            "file": "bbn\\Appui\\Option",
            "static": false,
            "visibility": "public",
            "final": false,
            "code": "function($code = NULL)\n  {\n    if (bbn\\Str::isUid($id = $this->fromCode($code))) {\n      $r = [];\n      if ($ids = $this->items($id)) {\n        foreach ($ids as $id){\n          $o = $this->fullOptions($id);\n          if (\\is_array($o)) {\n            $r = X::mergeArrays($r, $o);\n          }\n        }\n      }\n\n      return $r;\n    }\n\n    return null;\n  }",
            "startLine": 1479,
            "endLine": 1496,
            "isDeprecated": false,
            "isGenerator": false,
            "isInternal": false,
            "isUserDefined": true,
            "isVariadic": false,
            "returnsReference": false,
            "numberOfParameters": 1,
            "numberOfRequiredParameters": 0,
            "returns": [
                "array",
                null
            ],
            "parent": false,
            "arguments": [
                {
                    "name": "code",
                    "position": 0,
                    "type": "",
                    "required": false,
                    "has_default": true,
                    "default": null,
                    "default_name": ""
                }
            ]
        },
        "treeIds": {
            "name": "treeIds",
            "summary": "Returns a flat array of all IDs found in a hierarchical structure (except the top one)",
            "description": "The second parameter is private and should be left blank\n   *\n```php\nX::dump($opt->treeIds(12));\n\/\/ array [12, 21, 22, 25, 27, 31, 32, 35, 37, 40, 41, 42, 44, 45, 43, 46, 47]\n```",
            "description_parts": [
                {
                    "type": "text",
                    "content": "<p>The second parameter is private and should be left blank\n*<\/p>"
                },
                {
                    "type": "code",
                    "content": "X::dump($opt->treeIds(12));\n\/\/ array [12, 21, 22, 25, 27, 31, 32, 35, 37, 40, 41, 42, 44, 45, 43, 46, 47]"
                }
            ],
            "file": "bbn\\Appui\\Option",
            "static": false,
            "visibility": "public",
            "final": false,
            "code": "function($id, &$res = [])\n  {\n    if ($this->check() && $this->exists($id)) {\n      if ($its = $this->items($id)) {\n        foreach ($its as $it){\n          $this->treeIds($it, $res);\n        }\n      }\n\n      $res[] = $id;\n      return $res;\n    }\n\n    return null;\n  }",
            "startLine": 1512,
            "endLine": 1526,
            "isDeprecated": false,
            "isGenerator": false,
            "isInternal": false,
            "isUserDefined": true,
            "isVariadic": false,
            "returnsReference": false,
            "numberOfParameters": 2,
            "numberOfRequiredParameters": 1,
            "returns": [
                "array",
                null
            ],
            "parent": false,
            "arguments": [
                {
                    "name": "id",
                    "position": 0,
                    "type": "",
                    "required": true,
                    "has_default": false,
                    "default": "",
                    "default_name": "",
                    "description": "The resulting array"
                },
                {
                    "name": "res",
                    "position": 1,
                    "type": "",
                    "required": false,
                    "has_default": true,
                    "default": [],
                    "default_name": ""
                }
            ]
        },
        "nativeTree": {
            "name": "nativeTree",
            "summary": "Returns a hierarchical structure as stored in its original form in the database",
            "description": "*\n```php\nX::dump($opt->nativeTree(12));\n\/*\narray [\n  'id' => 12,\n  'code' => \"bbn_ide\",\n  'text' => \"BBN's own IDE\",\n  'id_alias' => null,\n  'value' => \"{\\\"myProperty\\\":\\\"My property's value\\\"}\",\n  'items' => [\n    [\n      'id' => 25,\n      'code' => \"test\",\n      'text' => \"Test\",\n      'id_alias' => null,\n      'value' => \"{\\\"myProperty\\\":\\\"My property's value\\\"}\",\n    ],\n    [\n      'id' => 26,\n      'code' => \"test2\",\n      'text' => \"Test 2\",\n      'id_alias' => null,\n      'value' => \"{\\\"myProperty\\\":\\\"My property's value\\\"}\",\n      'items' => [\n        [\n          'id' => 42,\n          'code' => \"test8\",\n          'text' => \"Test 8\",\n          'id_alias' => null,\n          'value' => \"{\\\"myProperty\\\":\\\"My property's value\\\"}\",\n        ]\n      ]\n    ],\n  ]\n]\n```",
            "description_parts": [
                {
                    "type": "text",
                    "content": "<p>*<\/p>"
                },
                {
                    "type": "code",
                    "content": "X::dump($opt->nativeTree(12));\n\/*\narray [\n  'id' => 12,\n  'code' => \"bbn_ide\",\n  'text' => \"BBN's own IDE\",\n  'id_alias' => null,\n  'value' => \"{\\\"myProperty\\\":\\\"My property's value\\\"}\",\n  'items' => [\n    [\n      'id' => 25,\n      'code' => \"test\",\n      'text' => \"Test\",\n      'id_alias' => null,\n      'value' => \"{\\\"myProperty\\\":\\\"My property's value\\\"}\",\n    ],\n    [\n      'id' => 26,\n      'code' => \"test2\",\n      'text' => \"Test 2\",\n      'id_alias' => null,\n      'value' => \"{\\\"myProperty\\\":\\\"My property's value\\\"}\",\n      'items' => [\n        [\n          'id' => 42,\n          'code' => \"test8\",\n          'text' => \"Test 8\",\n          'id_alias' => null,\n          'value' => \"{\\\"myProperty\\\":\\\"My property's value\\\"}\",\n        ]\n      ]\n    ],\n  ]\n]"
                }
            ],
            "file": "bbn\\Appui\\Option",
            "static": false,
            "visibility": "public",
            "final": false,
            "code": "function($code = NULL)\n  {\n    if (bbn\\Str::isUid($id = $this->fromCode(\\func_get_args()))) {\n      if ($res = $this->nativeOption($id)) {\n        $its = $this->items($id);\n        if (\\count($its)) {\n          $res['items'] = [];\n          foreach ($its as $it){\n            $res['items'][] = $this->nativeTree($it);\n          }\n        }\n\n        return $res;\n      }\n    }\n\n    return null;\n  }",
            "startLine": 1572,
            "endLine": 1589,
            "isDeprecated": false,
            "isGenerator": false,
            "isInternal": false,
            "isUserDefined": true,
            "isVariadic": false,
            "returnsReference": false,
            "numberOfParameters": 1,
            "numberOfRequiredParameters": 0,
            "returns": [
                "array",
                null
            ],
            "parent": false,
            "arguments": [
                {
                    "name": "code",
                    "position": 0,
                    "type": "",
                    "required": false,
                    "has_default": true,
                    "default": null,
                    "default_name": ""
                }
            ]
        },
        "tree": {
            "name": "tree",
            "summary": "Returns a simple hierarchical structure with just text, id and items",
            "description": "*\n```php\nX::dump($opt->tree(12));\n\/*\narray [\n ['id' => 1, 'text' => 'Hello', 'items' => [\n   ['id' => 7, 'text' => 'Hello from inside'],\n   ['id' => 8, 'text' => 'Hello 2 from inside']\n ],\n[\n  ['id' => 1, 'text' => 'World']\n]\n```",
            "description_parts": [
                {
                    "type": "text",
                    "content": "<p>*<\/p>"
                },
                {
                    "type": "code",
                    "content": "X::dump($opt->tree(12));\n\/*\narray [\n ['id' => 1, 'text' => 'Hello', 'items' => [\n   ['id' => 7, 'text' => 'Hello from inside'],\n   ['id' => 8, 'text' => 'Hello 2 from inside']\n ],\n[\n  ['id' => 1, 'text' => 'World']\n]"
                }
            ],
            "file": "bbn\\Appui\\Option",
            "static": false,
            "visibility": "public",
            "final": false,
            "code": "function($code = NULL)\n  {\n    $id = $this->fromCode(\\func_get_args());\n    if (bbn\\Str::isUid($id) && ($text = $this->text($id))) {\n      $res = [\n        'id' => $id,\n        'text' => $text\n      ];\n      if ($opts = $this->items($id)) {\n        $res['items'] = [];\n        foreach ($opts as $o){\n          if ($t = $this->tree($o)) {\n            $res['items'][] = $t;\n          }\n        }\n      }\n\n      return $res;\n    }\n\n    return null;\n  }",
            "startLine": 1611,
            "endLine": 1632,
            "isDeprecated": false,
            "isGenerator": false,
            "isInternal": false,
            "isUserDefined": true,
            "isVariadic": false,
            "returnsReference": false,
            "numberOfParameters": 1,
            "numberOfRequiredParameters": 0,
            "returns": [
                "array",
                null
            ],
            "parent": false,
            "arguments": [
                {
                    "name": "code",
                    "position": 0,
                    "type": "",
                    "required": false,
                    "has_default": true,
                    "default": null,
                    "default_name": ""
                }
            ]
        },
        "fullTree": {
            "name": "fullTree",
            "summary": "Returns a full hierarchical structure of options from a given option",
            "description": "*\n```php\nX::dump($opt->fullTree(12));\n\/*\narray [\n  'id' => 12,\n  'code' => \"bbn_ide\",\n  'text' => \"BBN's own IDE\",\n  'id_alias' => null,\n  'myProperty' => \"My property's value\",\n  'items' => [\n    [\n      'id' => 25,\n      'code' => \"test\",\n      'text' => \"Test\",\n      'id_alias' => null,\n      'myProperty' => \"My property's value\",\n    ],\n    [\n      'id' => 26,\n      'code' => \"test2\",\n      'text' => \"Test 2\",\n      'id_alias' => null,\n      'myProperty' => \"My property's value\",\n      'items' => [\n        [\n          'id' => 42,\n          'code' => \"test8\",\n          'text' => \"Test 8\",\n          'id_alias' => null,\n          'myProperty' => \"My property's value\",\n        ]\n      ]\n    ],\n  ]\n]\n```",
            "description_parts": [
                {
                    "type": "text",
                    "content": "<p>*<\/p>"
                },
                {
                    "type": "code",
                    "content": "X::dump($opt->fullTree(12));\n\/*\narray [\n  'id' => 12,\n  'code' => \"bbn_ide\",\n  'text' => \"BBN's own IDE\",\n  'id_alias' => null,\n  'myProperty' => \"My property's value\",\n  'items' => [\n    [\n      'id' => 25,\n      'code' => \"test\",\n      'text' => \"Test\",\n      'id_alias' => null,\n      'myProperty' => \"My property's value\",\n    ],\n    [\n      'id' => 26,\n      'code' => \"test2\",\n      'text' => \"Test 2\",\n      'id_alias' => null,\n      'myProperty' => \"My property's value\",\n      'items' => [\n        [\n          'id' => 42,\n          'code' => \"test8\",\n          'text' => \"Test 8\",\n          'id_alias' => null,\n          'myProperty' => \"My property's value\",\n        ]\n      ]\n    ],\n  ]\n]"
                }
            ],
            "file": "bbn\\Appui\\Option",
            "static": false,
            "visibility": "public",
            "final": false,
            "code": "function($code = NULL)\n  {\n    if (bbn\\Str::isUid($id = $this->fromCode(\\func_get_args()))\n        && ($res = $this->option($id))\n    ) {\n      $res['items'] = [];\n      if ($opts = $this->items($id)) {\n        foreach ($opts as $o){\n          if ($t = $this->fullTree($o)) {\n            $res['items'][] = $t;\n          }\n        }\n      }\n      else{\n        unset($res['items']);\n      }\n\n      return $res;\n    }\n\n    return null;\n  }",
            "startLine": 1678,
            "endLine": 1699,
            "isDeprecated": false,
            "isGenerator": false,
            "isInternal": false,
            "isUserDefined": true,
            "isVariadic": false,
            "returnsReference": false,
            "numberOfParameters": 1,
            "numberOfRequiredParameters": 0,
            "returns": [
                "array",
                null
            ],
            "parent": false,
            "arguments": [
                {
                    "name": "code",
                    "position": 0,
                    "type": "",
                    "required": false,
                    "has_default": true,
                    "default": null,
                    "default_name": ""
                }
            ]
        },
        "fullTreeRef": {
            "name": "fullTreeRef",
            "summary": "",
            "description": "",
            "description_parts": [],
            "file": "bbn\\Appui\\Option",
            "static": false,
            "visibility": "public",
            "final": false,
            "code": "function($code = NULL)\n  {\n    if (bbn\\Str::isUid($id = $this->fromCode(\\func_get_args()))\n        && ($res = $this->option($id))\n    ) {\n      $res['items'] = [];\n      if ($opts = $this->fullOptionsRef($id)) {\n        foreach ($opts as $o){\n          if ($t = $this->fullTreeRef($o)) {\n            $res['items'][] = $t;\n          }\n        }\n      }\n      else{\n        unset($res['items']);\n      }\n\n      return $res;\n    }\n\n    return null;\n  }",
            "startLine": 1705,
            "endLine": 1726,
            "isDeprecated": false,
            "isGenerator": false,
            "isInternal": false,
            "isUserDefined": true,
            "isVariadic": false,
            "returnsReference": false,
            "numberOfParameters": 1,
            "numberOfRequiredParameters": 0,
            "returns": [
                "array",
                null
            ],
            "parent": false,
            "arguments": [
                {
                    "name": "code",
                    "position": 0,
                    "type": "",
                    "required": false,
                    "has_default": true,
                    "default": null,
                    "default_name": "",
                    "description": "Any option(s) accepted by {@link from_code()}"
                }
            ]
        },
        "getCfg": {
            "name": "getCfg",
            "summary": "Returns a formatted content of the cfg column as an array",
            "description": "Checks if the parent option has inheritance and sets array accordingly\nParent rules will be applied if with the following inheritance values:\n- 'children': if the option is the direct parent\n- 'cascade': any level of parenthood\n   *\n```php\nX::dump($opt->getCfg(25));\n\/*\narray [\n  'sortable' => true,\n  'cascade' => true,\n  'id_alias' => null,\n]\n```",
            "description_parts": [
                {
                    "type": "text",
                    "content": "<p>Checks if the parent option has inheritance and sets array accordingly\nParent rules will be applied if with the following inheritance values:<\/p>\n<ul>\n<li>'children': if the option is the direct parent<\/li>\n<li>'cascade': any level of parenthood\n*<\/li>\n<\/ul>"
                },
                {
                    "type": "code",
                    "content": "X::dump($opt->getCfg(25));\n\/*\narray [\n  'sortable' => true,\n  'cascade' => true,\n  'id_alias' => null,\n]"
                }
            ],
            "file": "bbn\\Appui\\Option",
            "static": false,
            "visibility": "public",
            "final": false,
            "code": "function($code = NULL)\n  {\n    if (bbn\\Str::isUid($id = $this->fromCode(\\func_get_args()))) {\n      if ($tmp = $this->cacheGet($id, __FUNCTION__)) {\n        return $tmp;\n      }\n\n      $c   =& $this->class_cfg;\n      $cfg = $this->db->selectOne($c['table'], $c['arch']['options']['cfg'], [$c['arch']['options']['id'] => $id]);\n      $cfg = bbn\\Str::isJson($cfg) ? json_decode($cfg, true) : [];\n      $perm = $cfg['permissions'] ?? false;\n      \/\/ Looking for parent with inheritance\n      $parents = array_reverse($this->parents($id));\n      $last    = \\count($parents) - 1;\n      foreach ($parents as $i => $p){\n        $parent_cfg = $this->db->selectOne($c['table'], $c['arch']['options']['cfg'], [$c['arch']['options']['id'] => $p]);\n        $parent_cfg = bbn\\Str::isJson($parent_cfg) ? json_decode($parent_cfg, true) : [];\n        if (!empty($parent_cfg['scfg']) && ($i === $last)) {\n          $cfg                 = array_merge((array)$cfg, $parent_cfg['scfg']);\n          $cfg['inherit_from'] = $p;\n          $cfg['frozen']       = 1;\n          break;\n        }\n\n        if (!empty($parent_cfg['inheritance']) || !empty($parent_cfg['scfg']['inheritance'])) {\n          if (\n              (($i === $last)\n              && (\n              ($parent_cfg['inheritance'] === 'children')\n              || (!empty($parent_cfg['scfg']) && ($parent_cfg['scfg']['inheritance'] === 'children')))\n              )\n              || (\n              ($parent_cfg['inheritance'] === 'cascade')\n              || (!empty($parent_cfg['scfg']) && ($parent_cfg['scfg']['inheritance'] === 'cascade'))\n            )\n          ) {\n            \/\/ Keeping in the option cfg properties which don't exist in the parent\n            $cfg                 = array_merge((array)$cfg, $parent_cfg['scfg'] ?? $parent_cfg);\n            $cfg['inherit_from'] = $p;\n            $cfg['frozen']       = 1;\n            break;\n          }\n          elseif (!count($cfg)\n              && (($parent_cfg['inheritance'] === 'default')\n              || (!empty($parent_cfg['scfg']) && ($parent_cfg['scfg']['inheritance'] === 'default'))              )\n          ) {\n            $cfg                 = $parent_cfg['scfg'] ?? $parent_cfg;\n            $cfg['inherit_from'] = $p;\n          }\n        }\n      }\n\n      if ($perm) {\n        $cfg['permissions'] = $perm;\n      }\n\n      $mandatories = ['show_code', 'show_alias', 'show_value', 'show_icon', 'sortable', 'allow_children', 'frozen'];\n      foreach ($mandatories as $m){\n        $cfg[$m] = empty($cfg[$m]) ? 0 : 1;\n      }\n\n      $mandatories = ['desc', 'inheritance', 'permissions'];\n      foreach ($mandatories as $m){\n        $cfg[$m] = empty($cfg[$m]) ? '' : $cfg[$m];\n      }\n\n      $mandatories = ['controller', 'schema', 'form', 'default_value'];\n      foreach ($mandatories as $m){\n        $cfg[$m] = empty($cfg[$m]) ? null : $cfg[$m];\n      }\n\n      $this->cacheSet($id, __FUNCTION__, $cfg);\n      return $cfg;\n    }\n\n    return null;\n  }",
            "startLine": 1749,
            "endLine": 1825,
            "isDeprecated": false,
            "isGenerator": false,
            "isInternal": false,
            "isUserDefined": true,
            "isVariadic": false,
            "returnsReference": false,
            "numberOfParameters": 1,
            "numberOfRequiredParameters": 0,
            "returns": [
                "array",
                null
            ],
            "parent": false,
            "arguments": [
                {
                    "name": "code",
                    "position": 0,
                    "type": "",
                    "required": false,
                    "has_default": true,
                    "default": null,
                    "default_name": ""
                }
            ]
        },
        "getRawCfg": {
            "name": "getRawCfg",
            "summary": "Returns the raw content of the cfg column for the given option.",
            "description": "*\n```php\nX::dump($opt->getCfg(25));\n\/*\narray [\n  'sortable' => true,\n  'cascade' => true,\n  'id_alias' => null,\n]\n```",
            "description_parts": [
                {
                    "type": "text",
                    "content": "<p>*<\/p>"
                },
                {
                    "type": "code",
                    "content": "X::dump($opt->getCfg(25));\n\/*\narray [\n  'sortable' => true,\n  'cascade' => true,\n  'id_alias' => null,\n]"
                }
            ],
            "file": "bbn\\Appui\\Option",
            "static": false,
            "visibility": "public",
            "final": false,
            "code": "function($code = NULL)\n  {\n    if (bbn\\Str::isUid($id = $this->fromCode(\\func_get_args()))) {\n      $c =& $this->class_cfg;\n      return $this->db->selectOne($c['table'], $c['arch']['options']['cfg'], [$c['arch']['options']['id'] => $id]);\n    }\n\n    return null;\n  }",
            "startLine": 1844,
            "endLine": 1852,
            "isDeprecated": false,
            "isGenerator": false,
            "isInternal": false,
            "isUserDefined": true,
            "isVariadic": false,
            "returnsReference": false,
            "numberOfParameters": 1,
            "numberOfRequiredParameters": 0,
            "returns": [
                "string",
                null
            ],
            "parent": false,
            "arguments": [
                {
                    "name": "code",
                    "position": 0,
                    "type": "",
                    "required": false,
                    "has_default": true,
                    "default": null,
                    "default_name": ""
                }
            ]
        },
        "getParentCfg": {
            "name": "getParentCfg",
            "summary": "Returns a formatted content of the cfg column as an array from the option's parent",
            "description": "*\n```php\nX::dump($opt->getParentCfg(42));\n\/*\n[\n  'sortable' => true,\n  'cascade' => true,\n  'id_alias' => null,\n]\n```",
            "description_parts": [
                {
                    "type": "text",
                    "content": "<p>*<\/p>"
                },
                {
                    "type": "code",
                    "content": "X::dump($opt->getParentCfg(42));\n\/*\n[\n  'sortable' => true,\n  'cascade' => true,\n  'id_alias' => null,\n]"
                }
            ],
            "file": "bbn\\Appui\\Option",
            "static": false,
            "visibility": "public",
            "final": false,
            "code": "function($code = NULL)\n  {\n    $id        = $this->fromCode(\\func_get_args());\n    $id_parent = $this->getIdParent($id);\n    if ($id_parent !== false) {\n      return $this->getCfg($id_parent);\n    }\n\n    return null;\n  }",
            "startLine": 1871,
            "endLine": 1880,
            "isDeprecated": false,
            "isGenerator": false,
            "isInternal": false,
            "isUserDefined": true,
            "isVariadic": false,
            "returnsReference": false,
            "numberOfParameters": 1,
            "numberOfRequiredParameters": 0,
            "returns": [
                "array",
                null
            ],
            "parent": false,
            "arguments": [
                {
                    "name": "code",
                    "position": 0,
                    "type": "",
                    "required": false,
                    "has_default": true,
                    "default": null,
                    "default_name": ""
                }
            ]
        },
        "parents": {
            "name": "parents",
            "summary": "Returns an array of id_parents from the option selected to root",
            "description": "*\n```php\nX::dump($opt->parents(48));\n\/\/ array [25, 12, 0]\n```",
            "description_parts": [
                {
                    "type": "text",
                    "content": "<p>*<\/p>"
                },
                {
                    "type": "code",
                    "content": "X::dump($opt->parents(48));\n\/\/ array [25, 12, 0]"
                }
            ],
            "file": "bbn\\Appui\\Option",
            "static": false,
            "visibility": "public",
            "final": false,
            "code": "function($code = NULL)\n  {\n    if (bbn\\Str::isUid($id = $this->fromCode(\\func_get_args()))) {\n      $res = [];\n      while (bbn\\Str::isUid($id_parent = $this->getIdParent($id))){\n        if (\\in_array($id_parent, $res, true)) {\n          break;\n        }\n        else{\n          if ($id === $id_parent) {\n            break;\n          }\n          else{\n            $res[] = $id_parent;\n            $id    = $id_parent;\n          }\n        }\n      }\n\n      return $res;\n    }\n\n    return null;\n  }",
            "startLine": 1894,
            "endLine": 1917,
            "isDeprecated": false,
            "isGenerator": false,
            "isInternal": false,
            "isUserDefined": true,
            "isVariadic": false,
            "returnsReference": false,
            "numberOfParameters": 1,
            "numberOfRequiredParameters": 0,
            "returns": [
                "array",
                null
            ],
            "parent": false,
            "arguments": [
                {
                    "name": "code",
                    "position": 0,
                    "type": "",
                    "required": false,
                    "has_default": true,
                    "default": null,
                    "default_name": ""
                }
            ]
        },
        "sequence": {
            "name": "sequence",
            "summary": "Returns an array of id_parents from the selected root to the given id_option",
            "description": "*\n```php\nX::dump($opt->parents(48));\n\/\/ array [0, 12, 25, 48]\nX::dump($opt->parents(48, 12));\n\/\/ array [12, 25, 48]\n```",
            "description_parts": [
                {
                    "type": "text",
                    "content": "<p>*<\/p>"
                },
                {
                    "type": "code",
                    "content": "X::dump($opt->parents(48));\n\/\/ array [0, 12, 25, 48]\nX::dump($opt->parents(48, 12));\n\/\/ array [12, 25, 48]"
                }
            ],
            "file": "bbn\\Appui\\Option",
            "static": false,
            "visibility": "public",
            "final": false,
            "code": "function($id_option, $id_root = NULL)\n  {\n    if (null === $id_root) {\n      $id_root = self::root_hex;\n    }\n\n    if ($this->exists($id_root) && ($parents = $this->parents($id_option))) {\n      $res = [$id_option];\n      foreach ($parents as $p){\n        array_unshift($res, $p);\n        if ($p === $id_root) {\n          return $res;\n        }\n      }\n    }\n\n    return null;\n  }",
            "startLine": 1934,
            "endLine": 1951,
            "isDeprecated": false,
            "isGenerator": false,
            "isInternal": false,
            "isUserDefined": true,
            "isVariadic": false,
            "returnsReference": false,
            "numberOfParameters": 2,
            "numberOfRequiredParameters": 1,
            "returns": [
                "array",
                null
            ],
            "parent": false,
            "arguments": [
                {
                    "name": "id_option",
                    "position": 0,
                    "type": "string",
                    "required": true,
                    "has_default": false,
                    "default": "",
                    "default_name": "",
                    "description": "root"
                },
                {
                    "name": "id_root",
                    "position": 1,
                    "type": "string",
                    "required": false,
                    "has_default": true,
                    "default": null,
                    "default_name": ""
                }
            ]
        },
        "getIdParent": {
            "name": "getIdParent",
            "summary": "Returns the parent option's ID",
            "description": "*\n```php\nX::dump($opt->getIdParent(48));\n\/\/ (int)25\n```",
            "description_parts": [
                {
                    "type": "text",
                    "content": "<p>*<\/p>"
                },
                {
                    "type": "code",
                    "content": "X::dump($opt->getIdParent(48));\n\/\/ (int)25"
                }
            ],
            "file": "bbn\\Appui\\Option",
            "static": false,
            "visibility": "public",
            "final": false,
            "code": "function($code = NULL)\n  {\n    if (bbn\\Str::isUid($id = $this->fromCode(\\func_get_args())) && ($o = $this->nativeOption($id))) {\n      return $o['id_parent'];\n    }\n\n    return null;\n  }",
            "startLine": 1965,
            "endLine": 1972,
            "isDeprecated": false,
            "isGenerator": false,
            "isInternal": false,
            "isUserDefined": true,
            "isVariadic": false,
            "returnsReference": false,
            "numberOfParameters": 1,
            "numberOfRequiredParameters": 0,
            "returns": [
                "string",
                null
            ],
            "parent": false,
            "arguments": [
                {
                    "name": "code",
                    "position": 0,
                    "type": "",
                    "required": false,
                    "has_default": true,
                    "default": null,
                    "default_name": ""
                }
            ]
        },
        "parent": {
            "name": "parent",
            "summary": "Returns the parent's option as {@link option()}",
            "description": "*\n```php\nX::hdump($opt->parent(42));\n\/*\narray [\n  'id' => 25,\n  'code' => \"bbn_ide\",\n  'text' => \"This is BBN's IDE\",\n  'myIntProperty' => 56854,\n  'myTextProperty' => \"<h1>Hello\\nWorld<\/h1>\",\n  'myArrayProperty' => ['value1' => 1, 'value2' => 2]\n]\n```",
            "description_parts": [
                {
                    "type": "text",
                    "content": "<p>*<\/p>"
                },
                {
                    "type": "code",
                    "content": "X::hdump($opt->parent(42));\n\/*\narray [\n  'id' => 25,\n  'code' => \"bbn_ide\",\n  'text' => \"This is BBN's IDE\",\n  'myIntProperty' => 56854,\n  'myTextProperty' => \"<h1>Hello\\nWorld<\/h1>\",\n  'myArrayProperty' => ['value1' => 1, 'value2' => 2]\n]"
                }
            ],
            "file": "bbn\\Appui\\Option",
            "static": false,
            "visibility": "public",
            "final": false,
            "code": "function($code = NULL)\n  {\n    if (bbn\\Str::isUid($id = $this->fromCode(\\func_get_args()))\n        && ($id_parent = $this->getIdParent($id))\n    ) {\n      return $this->option($id_parent);\n    }\n\n    return null;\n  }",
            "startLine": 1994,
            "endLine": 2003,
            "isDeprecated": false,
            "isGenerator": false,
            "isInternal": false,
            "isUserDefined": true,
            "isVariadic": false,
            "returnsReference": false,
            "numberOfParameters": 1,
            "numberOfRequiredParameters": 0,
            "returns": [
                "array",
                null
            ],
            "parent": false,
            "arguments": [
                {
                    "name": "code",
                    "position": 0,
                    "type": "",
                    "required": false,
                    "has_default": true,
                    "default": null,
                    "default_name": ""
                }
            ]
        },
        "isParent": {
            "name": "isParent",
            "summary": "Return true if row with ID $id_parent is parent at any level of row with ID $id",
            "description": "*\n```php\nX::dump($opt->isParent(42, 12));\n\/\/ (bool) true\nX::dump($opt->isParent(42, 13));\n\/\/ (bool) false\n```",
            "description_parts": [
                {
                    "type": "text",
                    "content": "<p>*<\/p>"
                },
                {
                    "type": "code",
                    "content": "X::dump($opt->isParent(42, 12));\n\/\/ (bool) true\nX::dump($opt->isParent(42, 13));\n\/\/ (bool) false"
                }
            ],
            "file": "bbn\\Appui\\Option",
            "static": false,
            "visibility": "public",
            "final": false,
            "code": "function($id, $id_parent)\n  {\n    \/\/ Preventing infinite loop\n    $done = [$id];\n    if (bbn\\Str::isUid($id, $id_parent)) {\n      while ($id = $this->getIdParent($id)){\n        if ($id === $id_parent) {\n          return true;\n        }\n\n        if (\\in_array($id, $done, true)) {\n          break;\n        }\n\n        $done[] = $id;\n      }\n    }\n\n    return false;\n  }",
            "startLine": 2020,
            "endLine": 2039,
            "isDeprecated": false,
            "isGenerator": false,
            "isInternal": false,
            "isUserDefined": true,
            "isVariadic": false,
            "returnsReference": false,
            "numberOfParameters": 2,
            "numberOfRequiredParameters": 2,
            "returns": [
                "bool"
            ],
            "parent": false,
            "arguments": [
                {
                    "name": "id",
                    "position": 0,
                    "type": "",
                    "required": true,
                    "has_default": false,
                    "default": "",
                    "default_name": ""
                },
                {
                    "name": "id_parent",
                    "position": 1,
                    "type": "",
                    "required": true,
                    "has_default": false,
                    "default": "",
                    "default_name": ""
                }
            ]
        },
        "getCodes": {
            "name": "getCodes",
            "summary": "Returns an array of options in the form id => code",
            "description": "",
            "description_parts": [],
            "file": "bbn\\Appui\\Option",
            "static": false,
            "visibility": "public",
            "final": false,
            "code": "function($code = NULL)\n  {\n    if (bbn\\Str::isUid($id = $this->fromCode(\\func_get_args()))) {\n      $c   =& $this->class_cfg['arch']['options'];\n      $opt = $this->db->rselectAll($this->class_cfg['table'], [$c['id'], $c['code']], [$c['id_parent'] => $id], [($this->isSortable($id) ? $c['num'] : $c['code']) => 'ASC']);\n      $res = [];\n      foreach ($opt as $r){\n        $res[$r[$c['id']]] = $r[$c['code']];\n      }\n\n      return $res;\n    }\n\n    return [];\n  }",
            "startLine": 2060,
            "endLine": 2074,
            "isDeprecated": false,
            "isGenerator": false,
            "isInternal": false,
            "isUserDefined": true,
            "isVariadic": false,
            "returnsReference": false,
            "numberOfParameters": 1,
            "numberOfRequiredParameters": 0,
            "returns": [
                "array",
                null
            ],
            "parent": false,
            "arguments": [
                {
                    "name": "code",
                    "position": 0,
                    "type": "",
                    "required": false,
                    "has_default": true,
                    "default": null,
                    "default_name": ""
                }
            ]
        },
        "code": {
            "name": "code",
            "summary": "Returns an option's code",
            "description": "*\n```php\nX::dump($opt->code(12));\n\/\/ (string) bbn_ide\n```",
            "description_parts": [
                {
                    "type": "text",
                    "content": "<p>*<\/p>"
                },
                {
                    "type": "code",
                    "content": "X::dump($opt->code(12));\n\/\/ (string) bbn_ide"
                }
            ],
            "file": "bbn\\Appui\\Option",
            "static": false,
            "visibility": "public",
            "final": false,
            "code": "function($id)\n  {\n    if ($this->check() && bbn\\Str::isUid($id)) {\n      return $this->db->selectOne(\n        $this->class_cfg['table'], $this->class_cfg['arch']['options']['code'], [\n        $this->class_cfg['arch']['options']['id'] => $id\n        ]\n      );\n    }\n\n    return null;\n  }",
            "startLine": 2088,
            "endLine": 2099,
            "isDeprecated": false,
            "isGenerator": false,
            "isInternal": false,
            "isUserDefined": true,
            "isVariadic": false,
            "returnsReference": false,
            "numberOfParameters": 1,
            "numberOfRequiredParameters": 1,
            "returns": [
                "string",
                null
            ],
            "parent": false,
            "arguments": [
                {
                    "name": "id",
                    "position": 0,
                    "type": "string",
                    "required": true,
                    "has_default": false,
                    "default": "",
                    "default_name": ""
                }
            ]
        },
        "text": {
            "name": "text",
            "summary": "Returns an option's text",
            "description": "*\n```php\nX::dump($opt->text(12));\n\/\/ (string) BBN's own IDE\nX::dump($opt->text('bbn_ide'));\n\/\/ (string) BBN's own IDE\n```",
            "description_parts": [
                {
                    "type": "text",
                    "content": "<p>*<\/p>"
                },
                {
                    "type": "code",
                    "content": "X::dump($opt->text(12));\n\/\/ (string) BBN's own IDE\nX::dump($opt->text('bbn_ide'));\n\/\/ (string) BBN's own IDE"
                }
            ],
            "file": "bbn\\Appui\\Option",
            "static": false,
            "visibility": "public",
            "final": false,
            "code": "function($code = NULL)\n  {\n    if (bbn\\Str::isUid($id = $this->fromCode(\\func_get_args()))) {\n      return $this->db->selectOne(\n        $this->class_cfg['table'], $this->class_cfg['arch']['options']['text'], [\n        $this->class_cfg['arch']['options']['id'] => $id\n        ]\n      );\n    }\n\n    return null;\n  }",
            "startLine": 2115,
            "endLine": 2126,
            "isDeprecated": false,
            "isGenerator": false,
            "isInternal": false,
            "isUserDefined": true,
            "isVariadic": false,
            "returnsReference": false,
            "numberOfParameters": 1,
            "numberOfRequiredParameters": 0,
            "returns": [
                "string",
                null
            ],
            "parent": false,
            "arguments": [
                {
                    "name": "code",
                    "position": 0,
                    "type": "",
                    "required": false,
                    "has_default": true,
                    "default": null,
                    "default_name": ""
                }
            ]
        },
        "alias": {
            "name": "alias",
            "summary": "Returns the id_alias relative to the given id_option",
            "description": "",
            "description_parts": [],
            "file": "bbn\\Appui\\Option",
            "static": false,
            "visibility": "public",
            "final": false,
            "code": "function($id)\n  {\n    if ($this->check() && bbn\\Str::isUid($id)) {\n      return $this->db->selectOne(\n        $this->class_cfg['table'], $this->class_cfg['arch']['options']['id_alias'], [\n        $this->class_cfg['arch']['options']['id'] => $id\n        ]\n      );\n    }\n\n    return null;\n  }",
            "startLine": 2135,
            "endLine": 2146,
            "isDeprecated": false,
            "isGenerator": false,
            "isInternal": false,
            "isUserDefined": true,
            "isVariadic": false,
            "returnsReference": false,
            "numberOfParameters": 1,
            "numberOfRequiredParameters": 1,
            "returns": [
                "string",
                null
            ],
            "parent": false,
            "arguments": [
                {
                    "name": "id",
                    "position": 0,
                    "type": "string",
                    "required": true,
                    "has_default": false,
                    "default": "",
                    "default_name": ""
                }
            ]
        },
        "itext": {
            "name": "itext",
            "summary": "Returns translation of an option's text",
            "description": "*\n```php\nX::dump($opt->itext(12));\n\/\/ Result of X::_(\"BBN's own IDE\") with fr as locale\n\/\/ (string) L'IDE de BBN\nX::dump($opt->itext('bbn_ide'));\n\/\/ (string) L'IDE de BBN\n```",
            "description_parts": [
                {
                    "type": "text",
                    "content": "<p>*<\/p>"
                },
                {
                    "type": "code",
                    "content": "X::dump($opt->itext(12));\n\/\/ Result of X::_(\"BBN's own IDE\") with fr as locale\n\/\/ (string) L'IDE de BBN\nX::dump($opt->itext('bbn_ide'));\n\/\/ (string) L'IDE de BBN"
                }
            ],
            "file": "bbn\\Appui\\Option",
            "static": false,
            "visibility": "public",
            "final": false,
            "code": "function($code = NULL)\n  {\n    if (bbn\\Str::isUid($id = $this->fromCode(\\func_get_args()))) {\n      $val = $this->db->selectOne(\n        $this->class_cfg['table'], $this->class_cfg['arch']['options']['text'], [\n        $this->class_cfg['arch']['options']['id'] => $id\n        ]\n      );\n      if ($val) {\n        return X::_($val);\n      }\n    }\n\n    return null;\n  }",
            "startLine": 2163,
            "endLine": 2177,
            "isDeprecated": false,
            "isGenerator": false,
            "isInternal": false,
            "isUserDefined": true,
            "isVariadic": false,
            "returnsReference": false,
            "numberOfParameters": 1,
            "numberOfRequiredParameters": 0,
            "returns": [
                "string",
                null
            ],
            "parent": false,
            "arguments": [
                {
                    "name": "code",
                    "position": 0,
                    "type": "",
                    "required": false,
                    "has_default": true,
                    "default": null,
                    "default_name": ""
                }
            ]
        },
        "count": {
            "name": "count",
            "summary": "Returns the number of children for a given option",
            "description": "*\n```php\nX::dump($opt->count('bbn_ide'));\n\/\/ (int) 4\n```",
            "description_parts": [
                {
                    "type": "text",
                    "content": "<p>*<\/p>"
                },
                {
                    "type": "code",
                    "content": "X::dump($opt->count('bbn_ide'));\n\/\/ (int) 4"
                }
            ],
            "file": "bbn\\Appui\\Option",
            "static": false,
            "visibility": "public",
            "final": false,
            "code": "function($code = NULL)\n  {\n    if (bbn\\Str::isUid($id = $this->fromCode(\\func_get_args()))) {\n      return $this->db->count($this->class_cfg['table'], [$this->class_cfg['arch']['options']['id_parent'] => $id]);\n    }\n\n    return null;\n  }",
            "startLine": 2191,
            "endLine": 2198,
            "isDeprecated": false,
            "isGenerator": false,
            "isInternal": false,
            "isUserDefined": true,
            "isVariadic": false,
            "returnsReference": false,
            "numberOfParameters": 1,
            "numberOfRequiredParameters": 0,
            "returns": [
                "int",
                null
            ],
            "parent": false,
            "arguments": [
                {
                    "name": "code",
                    "position": 0,
                    "type": "",
                    "required": false,
                    "has_default": true,
                    "default": null,
                    "default_name": ""
                }
            ]
        },
        "optionsByAlias": {
            "name": "optionsByAlias",
            "summary": "Returns an array of options based on their id_alias",
            "description": "*\n```php\nX::dump($opt->optionsByAlias(36));\n\/*\narray [\n  ['id' => 18, 'text' => \"My option 1\", 'code' => \"opt1\", 'myProperty' => \"50%\"],\n  ['id' => 21, 'text' => \"My option 4\", 'code' => \"opt4\", 'myProperty' => \"60%\"],\n  ['id' => 23, 'text' => \"My option 6\", 'code' => \"opt6\", 'myProperty' => \"90%\"]\n]\n```",
            "description_parts": [
                {
                    "type": "text",
                    "content": "<p>*<\/p>"
                },
                {
                    "type": "code",
                    "content": "X::dump($opt->optionsByAlias(36));\n\/*\narray [\n  ['id' => 18, 'text' => \"My option 1\", 'code' => \"opt1\", 'myProperty' => \"50%\"],\n  ['id' => 21, 'text' => \"My option 4\", 'code' => \"opt4\", 'myProperty' => \"60%\"],\n  ['id' => 23, 'text' => \"My option 6\", 'code' => \"opt6\", 'myProperty' => \"90%\"]\n]"
                }
            ],
            "file": "bbn\\Appui\\Option",
            "static": false,
            "visibility": "public",
            "final": false,
            "code": "function($code = NULL)\n  {\n    $id_alias = $this->fromCode(\\func_get_args());\n    if (bbn\\Str::isUid($id_alias)) {\n      $where = [$this->class_cfg['arch']['options']['id_alias'] => $id_alias];\n      $list  = $this->getRows($where);\n      if (\\is_array($list)) {\n        $res = [];\n        foreach ($list as $i){\n          $res[] = $this->option($i);\n        }\n\n        return $res;\n      }\n    }\n\n    return null;\n  }",
            "startLine": 2217,
            "endLine": 2234,
            "isDeprecated": false,
            "isGenerator": false,
            "isInternal": false,
            "isUserDefined": true,
            "isVariadic": false,
            "returnsReference": false,
            "numberOfParameters": 1,
            "numberOfRequiredParameters": 0,
            "returns": [
                "array",
                null
            ],
            "parent": false,
            "arguments": [
                {
                    "name": "code",
                    "position": 0,
                    "type": "",
                    "required": false,
                    "has_default": true,
                    "default": null,
                    "default_name": ""
                }
            ]
        },
        "isSortable": {
            "name": "isSortable",
            "summary": "Tells if an option has its config set as sortable or no",
            "description": "*\n```php\nX::dump($opt->isSortable(12));\n\/\/ (bool) false\nX::dump($opt->isSortable(21));\n\/\/ (bool) true\n```",
            "description_parts": [
                {
                    "type": "text",
                    "content": "<p>*<\/p>"
                },
                {
                    "type": "code",
                    "content": "X::dump($opt->isSortable(12));\n\/\/ (bool) false\nX::dump($opt->isSortable(21));\n\/\/ (bool) true"
                }
            ],
            "file": "bbn\\Appui\\Option",
            "static": false,
            "visibility": "public",
            "final": false,
            "code": "function($code = NULL)\n  {\n    if (bbn\\Str::isUid($id = $this->fromCode(\\func_get_args()))) {\n      $cfg = $this->getCfg($id);\n      return empty($cfg['sortable']) ? false : true;\n    }\n\n    return null;\n  }",
            "startLine": 2250,
            "endLine": 2258,
            "isDeprecated": false,
            "isGenerator": false,
            "isInternal": false,
            "isUserDefined": true,
            "isVariadic": false,
            "returnsReference": false,
            "numberOfParameters": 1,
            "numberOfRequiredParameters": 0,
            "returns": [
                "bool",
                null
            ],
            "parent": false,
            "arguments": [
                {
                    "name": "code",
                    "position": 0,
                    "type": "",
                    "required": false,
                    "has_default": true,
                    "default": null,
                    "default_name": ""
                }
            ]
        },
        "getPathArray": {
            "name": "getPathArray",
            "summary": "Returns an array of codes for each option between $id and $root without $root's code",
            "description": "*\n```php\nX::dump($opt->getPathArray(48, 12));\n\/\/ array [\"path\", \"to\", \"my\", \"option\"]\n```",
            "description_parts": [
                {
                    "type": "text",
                    "content": "<p>*<\/p>"
                },
                {
                    "type": "code",
                    "content": "X::dump($opt->getPathArray(48, 12));\n\/\/ array [\"path\", \"to\", \"my\", \"option\"]"
                }
            ],
            "file": "bbn\\Appui\\Option",
            "static": false,
            "visibility": "public",
            "final": false,
            "code": "function($id, $root = NULL)\n  {\n    if (!isset($root)) {\n      $root = $this->getDefault();\n    }\n\n    if ($code = $this->code($id)) {\n      $parts = [];\n      while ($id && ($id !== $root)){\n        array_unshift($parts, $code);\n        if (!($id = $this->getIdParent($id))) {\n          return null;\n        }\n\n        $code = $this->code($id);\n      }\n\n      return $parts;\n    }\n\n    return null;\n  }",
            "startLine": 2273,
            "endLine": 2294,
            "isDeprecated": false,
            "isGenerator": false,
            "isInternal": false,
            "isUserDefined": true,
            "isVariadic": false,
            "returnsReference": false,
            "numberOfParameters": 2,
            "numberOfRequiredParameters": 1,
            "returns": [
                "array",
                null
            ],
            "parent": false,
            "arguments": [
                {
                    "name": "id",
                    "position": 0,
                    "type": "string",
                    "required": true,
                    "has_default": false,
                    "default": "",
                    "default_name": "",
                    "description": "The start\/origin of the path, {@link get_default()} if is null"
                },
                {
                    "name": "root",
                    "position": 1,
                    "type": "",
                    "required": false,
                    "has_default": true,
                    "default": null,
                    "default_name": ""
                }
            ]
        },
        "fromPath": {
            "name": "fromPath",
            "summary": "Returns the closest ID option from a _path_ of codes, with separator and optional id_parent",
            "description": "*\n```php\nX::dump(\"bbn_ide|test1|test8\"));\n\/\/ (int) 36\n```",
            "description_parts": [
                {
                    "type": "text",
                    "content": "<p>*<\/p>"
                },
                {
                    "type": "code",
                    "content": "X::dump(\"bbn_ide|test1|test8\"));\n\/\/ (int) 36"
                }
            ],
            "file": "bbn\\Appui\\Option",
            "static": false,
            "visibility": "public",
            "final": false,
            "code": "function($path, $sep = '|', $parent = NULL)\n  {\n    if ($this->check()) {\n      if (!empty($sep)) {\n        $parts = explode($sep, $path);\n      }\n      else{\n        $parts = [$path];\n      }\n\n      if (null === $parent) {\n        $parent = $this->default;\n      }\n\n      foreach ($parts as $p){\n        if (!($parent = $this->fromCode($p, $parent))) {\n          break;\n        }\n      }\n\n      return $parent ?: null;\n    }\n\n    return null;\n  }",
            "startLine": 2310,
            "endLine": 2334,
            "isDeprecated": false,
            "isGenerator": false,
            "isInternal": false,
            "isUserDefined": true,
            "isVariadic": false,
            "returnsReference": false,
            "numberOfParameters": 3,
            "numberOfRequiredParameters": 1,
            "returns": [
                "string",
                null
            ],
            "parent": false,
            "arguments": [
                {
                    "name": "path",
                    "position": 0,
                    "type": "string",
                    "required": true,
                    "has_default": false,
                    "default": "",
                    "default_name": "",
                    "description": "The separator"
                },
                {
                    "name": "sep",
                    "position": 1,
                    "type": "string",
                    "required": false,
                    "has_default": true,
                    "default": "|",
                    "default_name": "",
                    "description": "An optional id_parent, {@link get_default()} otherwise"
                },
                {
                    "name": "parent",
                    "position": 2,
                    "type": "",
                    "required": false,
                    "has_default": true,
                    "default": null,
                    "default_name": ""
                }
            ]
        },
        "toPath": {
            "name": "toPath",
            "summary": "Concatenates the codes and separator $sep of a a line of options",
            "description": "*\n```php\nX::dump($opt->toPath(48, '|', 12)\n\/\/ (string) path|to|my|option\n```",
            "description_parts": [
                {
                    "type": "text",
                    "content": "<p>*<\/p>"
                },
                {
                    "type": "code",
                    "content": "X::dump($opt->toPath(48, '|', 12)\n\/\/ (string) path|to|my|option"
                }
            ],
            "file": "bbn\\Appui\\Option",
            "static": false,
            "visibility": "public",
            "final": false,
            "code": "function($id, $sep = '|', $parent = NULL)\n  {\n    if ($this->check() && ($parts = $this->getPathArray($id, $parent))) {\n      return implode($sep, $parts);\n    }\n\n    return null;\n  }",
            "startLine": 2350,
            "endLine": 2357,
            "isDeprecated": false,
            "isGenerator": false,
            "isInternal": false,
            "isUserDefined": true,
            "isVariadic": false,
            "returnsReference": false,
            "numberOfParameters": 3,
            "numberOfRequiredParameters": 1,
            "returns": [
                "string",
                null
            ],
            "parent": false,
            "arguments": [
                {
                    "name": "id",
                    "position": 0,
                    "type": "string",
                    "required": true,
                    "has_default": false,
                    "default": "",
                    "default_name": "",
                    "description": "The separator"
                },
                {
                    "name": "sep",
                    "position": 1,
                    "type": "string",
                    "required": false,
                    "has_default": true,
                    "default": "|",
                    "default_name": "",
                    "description": "The start\/origin of the path"
                },
                {
                    "name": "parent",
                    "position": 2,
                    "type": "string",
                    "required": false,
                    "has_default": true,
                    "default": null,
                    "default_name": ""
                }
            ]
        },
        "add": {
            "name": "add",
            "summary": "Creates a new option or a new hierarchy by adding row(s) in the options' table",
            "description": "*\n```php\nX::dump($opt->add([\n  'id_parent' => $opt->fromCode('bbn_ide'),\n  'text' => 'My new option',\n  'code' => 'new_opt',\n  'myProperty' => 'my value'\n]));\n\/\/ (int) 49  New ID\nX::dump($opt->add([\n  'id_parent' => $opt->fromCode('bbn_ide'),\n  'text' => 'My new option',\n  'code' => 'new_opt',\n  'myProperty' => 'my value'\n  'items' => [\n    [\n      'code' => \"test\",\n      'text' => \"Test\",\n      'myProperty' => \"My property's value\",\n    ],\n    [\n      'code' => \"test2\",\n      'text' => \"Test 2\",\n      'myProperty' => \"My property's value\",\n      'items' => [\n        [\n          'code' => \"test8\",\n          'text' => \"Test 8\",\n        ]\n      ]\n    ]\n  ]\n], true, true));\n\/\/ (int) 4 Number of inserted\/modified rows\n```",
            "description_parts": [
                {
                    "type": "text",
                    "content": "<p>*<\/p>"
                },
                {
                    "type": "code",
                    "content": "X::dump($opt->add([\n  'id_parent' => $opt->fromCode('bbn_ide'),\n  'text' => 'My new option',\n  'code' => 'new_opt',\n  'myProperty' => 'my value'\n]));\n\/\/ (int) 49  New ID\nX::dump($opt->add([\n  'id_parent' => $opt->fromCode('bbn_ide'),\n  'text' => 'My new option',\n  'code' => 'new_opt',\n  'myProperty' => 'my value'\n  'items' => [\n    [\n      'code' => \"test\",\n      'text' => \"Test\",\n      'myProperty' => \"My property's value\",\n    ],\n    [\n      'code' => \"test2\",\n      'text' => \"Test 2\",\n      'myProperty' => \"My property's value\",\n      'items' => [\n        [\n          'code' => \"test8\",\n          'text' => \"Test 8\",\n        ]\n      ]\n    ]\n  ]\n], true, true));\n\/\/ (int) 4 Number of inserted\/modified rows"
                }
            ],
            "file": "bbn\\Appui\\Option",
            "static": false,
            "visibility": "public",
            "final": false,
            "code": "function(array $it, $force = false, $return_num = false, $with_id = false)\n  {\n    if ($this->check()) {\n      $res   = $return_num ? 0 : null;\n      $items = !empty($it['items']) && \\is_array($it['items']) ? $it['items'] : false;\n      $id    = null;\n      try {\n        $this->_prepare($it);\n      }\n      catch (\\Exception $e) {\n        throw new \\Exception($e->getMessage());\n      }\n\n      if ($it) {\n        $c =& $this->class_cfg['arch']['options'];\n        if ($it[$c['code']]) {\n          $id = $this->db->selectOne(\n            $this->class_cfg['table'],\n            $c['id'],\n            [\n              $c['id_parent'] => $it[$c['id_parent']],\n              $c['code'] => $it[$c['code']]\n            ]\n          );\n        }\n        elseif (!empty($it[$c['id']])) {\n          $id = $this->db->selectOne(\n            $this->class_cfg['table'],\n            $c['id'],\n            [\n              $c['id'] => $it[$c['id']],\n              $c['code'] => null\n            ]\n          );\n        }\n\n        if ($id\n            && $force\n            && (null !== $it[$c['code']])\n        ) {\n          $res = (int)$this->db->update(\n            $this->class_cfg['table'],\n            [\n              $c['text'] => $it[$c['text']],\n              $c['id_alias'] => $it[$c['id_alias']],\n              $c['value'] => $it[$c['value']],\n              $c['num'] => $it[$c['num']] ?? null,\n              $c['cfg'] => $it[$c['cfg']] ?? null\n            ],\n            [$c['id'] => $id]\n          );\n        }\n\n        $values = [\n          $c['id_parent'] => $it[$c['id_parent']],\n          $c['text'] => $it[$c['text']],\n          $c['code'] => empty($it[$c['code']]) ? null : $it[$c['code']],\n          $c['id_alias'] => $it[$c['id_alias']],\n          $c['value'] => $it[$c['value']],\n          $c['num'] => $it[$c['num']] ?? null,\n          $c['cfg'] => $it[$c['cfg']] ?? null\n        ];\n        if (isset($it[$c['id']]) && !$this->exists($it[$c['id']])) {\n          $values[$c['id']] = $it[$c['id']];\n        }\n\n        if (!empty($it['id']) && $with_id) {\n          $values['id'] = $it['id'];\n        }\n\n        if (!$id\n            && ($res = (int)$this->db->insert($this->class_cfg['table'], $values))\n        ) {\n          $id = $this->db->lastId();\n        }\n\n        if ($res) {\n          $this->deleteCache($id);\n        }\n\n        if ($items && bbn\\Str::isUid($id)) {\n          foreach ($items as $item){\n            $item['id_parent'] = $id;\n            $res              += (int)$this->add($item, $force, $return_num, $with_id);\n          }\n        }\n      }\n      else {\n        X::log($it, 'OptionAddErrors');\n      }\n\n      return $return_num ? $res : $id;\n    }\n\n    return null;\n  }",
            "startLine": 2403,
            "endLine": 2498,
            "isDeprecated": false,
            "isGenerator": false,
            "isInternal": false,
            "isUserDefined": true,
            "isVariadic": false,
            "returnsReference": false,
            "numberOfParameters": 4,
            "numberOfRequiredParameters": 1,
            "returns": null,
            "parent": false,
            "arguments": [
                {
                    "name": "it",
                    "position": 0,
                    "type": "array",
                    "required": true,
                    "has_default": false,
                    "default": "",
                    "default_name": "",
                    "description": "Determines if the option should be updated if it already exists"
                },
                {
                    "name": "force",
                    "position": 1,
                    "type": "",
                    "required": false,
                    "has_default": true,
                    "default": false,
                    "default_name": "",
                    "description": "num If set to true the function will return the number of rows inserted otherwise the ID of the newly created option"
                },
                {
                    "name": "return_num",
                    "position": 2,
                    "type": "",
                    "required": false,
                    "has_default": true,
                    "default": false,
                    "default_name": ""
                },
                {
                    "name": "with_id",
                    "position": 3,
                    "type": "",
                    "required": false,
                    "has_default": true,
                    "default": false,
                    "default_name": ""
                }
            ]
        },
        "set": {
            "name": "set",
            "summary": "Updates an option's row (without changing cfg)",
            "description": "*\n```php\nX::dump($opt->set(12, [\n  'id_parent' => $opt->fromCode('bbn_ide'),\n  'text' => 'My new option',\n  'code' => 'new_opt',\n  'myProperty' => 'my value'\n  'cfg' => [\n    'sortable' => true,\n    'Description' => \"I am a cool option\"\n  ]\n]);\n\/\/ (int) 1\n```",
            "description_parts": [
                {
                    "type": "text",
                    "content": "<p>*<\/p>"
                },
                {
                    "type": "code",
                    "content": "X::dump($opt->set(12, [\n  'id_parent' => $opt->fromCode('bbn_ide'),\n  'text' => 'My new option',\n  'code' => 'new_opt',\n  'myProperty' => 'my value'\n  'cfg' => [\n    'sortable' => true,\n    'Description' => \"I am a cool option\"\n  ]\n]);\n\/\/ (int) 1"
                }
            ],
            "file": "bbn\\Appui\\Option",
            "static": false,
            "visibility": "public",
            "final": false,
            "code": "function($id, array $data)\n  {\n    if ($this->check() && $this->_prepare($data)) {\n      if (isset($data['id'])) {\n        unset($data['id']);\n      }\n\n      $c =& $this->class_cfg['arch']['options'];\n      \/\/ id_parent cannot be edited this way\n      if ($res = $this->db->update(\n        $this->class_cfg['table'],\n        [\n          $c['text'] => $data[$c['text']],\n          $c['code'] => !empty($data[$c['code']]) ? $data[$c['code']] : null,\n          $c['id_alias'] => !empty($data[$c['id_alias']]) ? $data[$c['id_alias']] : null,\n          $c['value'] => $data[$c['value']]\n        ],\n        [$c['id'] => $id]\n      )\n      ) {\n        $this->deleteCache($id);\n        return $res;\n      }\n\n      return 0;\n    }\n\n    return null;\n  }",
            "startLine": 2522,
            "endLine": 2550,
            "isDeprecated": false,
            "isGenerator": false,
            "isInternal": false,
            "isUserDefined": true,
            "isVariadic": false,
            "returnsReference": false,
            "numberOfParameters": 2,
            "numberOfRequiredParameters": 2,
            "returns": null,
            "parent": false,
            "arguments": [
                {
                    "name": "id",
                    "position": 0,
                    "type": "",
                    "required": true,
                    "has_default": false,
                    "default": "",
                    "default_name": ""
                },
                {
                    "name": "data",
                    "position": 1,
                    "type": "array",
                    "required": true,
                    "has_default": false,
                    "default": "",
                    "default_name": ""
                }
            ]
        },
        "merge": {
            "name": "merge",
            "summary": "Updates an option's row (without changing cfg)",
            "description": "*\n```php\nX::dump($opt->set(12, [\n  'id_parent' => $opt->fromCode('bbn_ide'),\n  'text' => 'My new option',\n  'code' => 'new_opt',\n  'myProperty' => 'my value'\n  'cfg' => [\n    'sortable' => true,\n    'Description' => \"I am a cool option\"\n  ]\n]);\n\/\/ (int) 1\n```",
            "description_parts": [
                {
                    "type": "text",
                    "content": "<p>*<\/p>"
                },
                {
                    "type": "code",
                    "content": "X::dump($opt->set(12, [\n  'id_parent' => $opt->fromCode('bbn_ide'),\n  'text' => 'My new option',\n  'code' => 'new_opt',\n  'myProperty' => 'my value'\n  'cfg' => [\n    'sortable' => true,\n    'Description' => \"I am a cool option\"\n  ]\n]);\n\/\/ (int) 1"
                }
            ],
            "file": "bbn\\Appui\\Option",
            "static": false,
            "visibility": "public",
            "final": false,
            "code": "function($id, array $data, array $cfg = NULL)\n  {\n    if ($this->check()\n        && ($o = $this->option($id))\n    ) {\n      if (!empty($data)) {\n        $data = array_merge($o, $data);\n        $c    =& $this->class_cfg['arch']['options'];\n        $this->_prepare($data);\n        if (isset($data[$c['id']])) {\n          unset($data[$c['id']]);\n        }\n      }\n\n      if ($cfg) {\n        $ocfg        = $this->getRawCfg($id);\n        $data['cfg'] = json_encode(array_merge($ocfg ? json_decode($ocfg, true) : [], $cfg));\n      }\n\n      \/\/ id_parent cannot be edited this way\n      if ($res = $this->db->update(\n        $this->class_cfg['table'],\n        $data,\n        [$c['id'] => $id]\n      )\n      ) {\n        $this->deleteCache($id);\n        return $res;\n      }\n\n      return 0;\n    }\n\n    return null;\n  }",
            "startLine": 2574,
            "endLine": 2608,
            "isDeprecated": false,
            "isGenerator": false,
            "isInternal": false,
            "isUserDefined": true,
            "isVariadic": false,
            "returnsReference": false,
            "numberOfParameters": 3,
            "numberOfRequiredParameters": 2,
            "returns": null,
            "parent": false,
            "arguments": [
                {
                    "name": "id",
                    "position": 0,
                    "type": "string",
                    "required": true,
                    "has_default": false,
                    "default": "",
                    "default_name": ""
                },
                {
                    "name": "data",
                    "position": 1,
                    "type": "array",
                    "required": true,
                    "has_default": false,
                    "default": "",
                    "default_name": ""
                },
                {
                    "name": "cfg",
                    "position": 2,
                    "type": "array",
                    "required": false,
                    "has_default": true,
                    "default": null,
                    "default_name": ""
                }
            ]
        },
        "remove": {
            "name": "remove",
            "summary": "Deletes a row from the options table, deletes the cache and fix order if needed",
            "description": "*\n```php\nX::dump($opt->remove(12));\n\/\/ (int) 12 Number of options deleted\nX::dump($opt->remove(12));\n\/\/ (bool) false The option doesn't exist anymore\n```",
            "description_parts": [
                {
                    "type": "text",
                    "content": "<p>*<\/p>"
                },
                {
                    "type": "code",
                    "content": "X::dump($opt->remove(12));\n\/\/ (int) 12 Number of options deleted\nX::dump($opt->remove(12));\n\/\/ (bool) false The option doesn't exist anymore"
                }
            ],
            "file": "bbn\\Appui\\Option",
            "static": false,
            "visibility": "public",
            "final": false,
            "code": "function($code)\n  {\n    if (bbn\\Str::isUid($id = $this->fromCode(...\\func_get_args()))\n        && ($id !== $this->default)\n        && ($id !== $this->root)\n        && bbn\\Str::isUid($id_parent = $this->getIdParent($id))\n    ) {\n      $num = 0;\n      if ($items = $this->items($id)) {\n        foreach ($items as $it){\n          $num += (int)$this->remove($it);\n        }\n      }\n\n      $this->deleteCache($id);\n      $num += (int)$this->db->delete(\n        $this->class_cfg['table'], [\n        $this->class_cfg['arch']['options']['id'] => $id\n        ]\n      );\n      if ($this->isSortable($id_parent)) {\n        $this->fixOrder($id_parent);\n      }\n\n      return $num;\n    }\n\n    return null;\n  }",
            "startLine": 2624,
            "endLine": 2652,
            "isDeprecated": false,
            "isGenerator": false,
            "isInternal": false,
            "isUserDefined": true,
            "isVariadic": false,
            "returnsReference": false,
            "numberOfParameters": 1,
            "numberOfRequiredParameters": 1,
            "returns": null,
            "parent": false,
            "arguments": [
                {
                    "name": "code",
                    "position": 0,
                    "type": "",
                    "required": true,
                    "has_default": false,
                    "default": "",
                    "default_name": ""
                }
            ]
        },
        "removeFull": {
            "name": "removeFull",
            "summary": "Deletes a row from the options table, deletes the cache and fix order if needed",
            "description": "*\n```php\nX::dump($opt->remove(12));\n\/\/ (int) 12 Number of options deleted\nX::dump($opt->remove(12));\n\/\/ (bool) false The option doesn't exist anymore\n```",
            "description_parts": [
                {
                    "type": "text",
                    "content": "<p>*<\/p>"
                },
                {
                    "type": "code",
                    "content": "X::dump($opt->remove(12));\n\/\/ (int) 12 Number of options deleted\nX::dump($opt->remove(12));\n\/\/ (bool) false The option doesn't exist anymore"
                }
            ],
            "file": "bbn\\Appui\\Option",
            "static": false,
            "visibility": "public",
            "final": false,
            "code": "function($code)\n  {\n    if (bbn\\Str::isUid($id = $this->fromCode(\\func_get_args()))\n        && ($id !== $this->default)\n        && ($id !== $this->root)\n    ) {\n      $res = 0;\n      $this->deleteCache($id);\n      $all = $this->treeIds($id);\n\n      $has_history = History::isEnabled() && History::isLinked($this->class_cfg['table']);\n      foreach (array_reverse($all) as $a){\n        if ($has_history) {\n          $res += (int)$this->db->delete('bbn_history_uids', ['bbn_uid' => $a]);\n        }\n        else{\n          $res += (int)$this->db->delete($this->class_cfg['table'], [$this->class_cfg['arch']['options']['id'] => $a]);\n        }\n      }\n\n      $this->deleteCache($id);\n      return $res;\n    }\n\n    return null;\n  }",
            "startLine": 2668,
            "endLine": 2693,
            "isDeprecated": false,
            "isGenerator": false,
            "isInternal": false,
            "isUserDefined": true,
            "isVariadic": false,
            "returnsReference": false,
            "numberOfParameters": 1,
            "numberOfRequiredParameters": 1,
            "returns": null,
            "parent": false,
            "arguments": [
                {
                    "name": "code",
                    "position": 0,
                    "type": "",
                    "required": true,
                    "has_default": false,
                    "default": "",
                    "default_name": ""
                }
            ]
        },
        "setAlias": {
            "name": "setAlias",
            "summary": "Sets the alias of an option",
            "description": "*\n```php\nX::dump($opt->setAlias(26, 32));\n\/\/ (int) 1\n```",
            "description_parts": [
                {
                    "type": "text",
                    "content": "<p>*<\/p>"
                },
                {
                    "type": "code",
                    "content": "X::dump($opt->setAlias(26, 32));\n\/\/ (int) 1"
                }
            ],
            "file": "bbn\\Appui\\Option",
            "static": false,
            "visibility": "public",
            "final": false,
            "code": "function($id, $alias = NULL)\n  {\n    $res = null;\n    if ($this->check()) {\n      $res = $this->db->updateIgnore(\n        $this->class_cfg['table'], [\n        $this->class_cfg['arch']['options']['id_alias'] => $alias ?: null\n        ], [\n        $this->class_cfg['arch']['options']['id'] => $id\n        ]\n      );\n      if ($res) {\n        $this->deleteCache($id);\n      }\n    }\n\n    return $res;\n  }",
            "startLine": 2708,
            "endLine": 2725,
            "isDeprecated": false,
            "isGenerator": false,
            "isInternal": false,
            "isUserDefined": true,
            "isVariadic": false,
            "returnsReference": false,
            "numberOfParameters": 2,
            "numberOfRequiredParameters": 1,
            "returns": null,
            "parent": false,
            "arguments": [
                {
                    "name": "id",
                    "position": 0,
                    "type": "",
                    "required": true,
                    "has_default": false,
                    "default": "",
                    "default_name": "",
                    "description": "The alias' option ID"
                },
                {
                    "name": "alias",
                    "position": 1,
                    "type": "",
                    "required": false,
                    "has_default": true,
                    "default": null,
                    "default_name": ""
                }
            ]
        },
        "setText": {
            "name": "setText",
            "summary": "Sets the text of an option",
            "description": "*\n```php\nX::dump($opt->setText(26, \"Hello world!\"));\n\/\/ (int) 1\n```",
            "description_parts": [
                {
                    "type": "text",
                    "content": "<p>*<\/p>"
                },
                {
                    "type": "code",
                    "content": "X::dump($opt->setText(26, \"Hello world!\"));\n\/\/ (int) 1"
                }
            ],
            "file": "bbn\\Appui\\Option",
            "static": false,
            "visibility": "public",
            "final": false,
            "code": "function($id, $text)\n  {\n    $res = null;\n    if ($this->check()) {\n      $res = $this->db->updateIgnore(\n        $this->class_cfg['table'], [\n        $this->class_cfg['arch']['options']['text'] => $text\n        ], [\n          $this->class_cfg['arch']['options']['id'] => $id\n        ]\n      );\n      if ($res) {\n        $this->deleteCache($id);\n      }\n    }\n\n    return $res;\n  }",
            "startLine": 2740,
            "endLine": 2757,
            "isDeprecated": false,
            "isGenerator": false,
            "isInternal": false,
            "isUserDefined": true,
            "isVariadic": false,
            "returnsReference": false,
            "numberOfParameters": 2,
            "numberOfRequiredParameters": 2,
            "returns": null,
            "parent": false,
            "arguments": [
                {
                    "name": "id",
                    "position": 0,
                    "type": "",
                    "required": true,
                    "has_default": false,
                    "default": "",
                    "default_name": "",
                    "description": "The new text"
                },
                {
                    "name": "text",
                    "position": 1,
                    "type": "string",
                    "required": true,
                    "has_default": false,
                    "default": "",
                    "default_name": ""
                }
            ]
        },
        "setCode": {
            "name": "setCode",
            "summary": "Sets the code of an option",
            "description": "*\n```php\nX::dump($opt->setCode(26, \"HWD\"));\n\/\/ (int) 1\n```",
            "description_parts": [
                {
                    "type": "text",
                    "content": "<p>*<\/p>"
                },
                {
                    "type": "code",
                    "content": "X::dump($opt->setCode(26, \"HWD\"));\n\/\/ (int) 1"
                }
            ],
            "file": "bbn\\Appui\\Option",
            "static": false,
            "visibility": "public",
            "final": false,
            "code": "function($id, $code = NULL)\n  {\n    if ($this->check()) {\n      return $this->db->updateIgnore(\n        $this->class_cfg['table'], [\n        $this->class_cfg['arch']['options']['code'] => $code ?: null\n        ], [\n        $this->class_cfg['arch']['options']['id'] => $id\n        ]\n      );\n    }\n\n    return null;\n  }",
            "startLine": 2772,
            "endLine": 2785,
            "isDeprecated": false,
            "isGenerator": false,
            "isInternal": false,
            "isUserDefined": true,
            "isVariadic": false,
            "returnsReference": false,
            "numberOfParameters": 2,
            "numberOfRequiredParameters": 1,
            "returns": null,
            "parent": false,
            "arguments": [
                {
                    "name": "id",
                    "position": 0,
                    "type": "",
                    "required": true,
                    "has_default": false,
                    "default": "",
                    "default_name": "",
                    "description": "The new code"
                },
                {
                    "name": "code",
                    "position": 1,
                    "type": "string",
                    "required": false,
                    "has_default": true,
                    "default": null,
                    "default_name": ""
                }
            ]
        },
        "order": {
            "name": "order",
            "summary": "Returns the order of an option. Updates it if a position is given, and cascades",
            "description": "*\n```php\nX::dump($opt->items(20));\n\/\/ [21, 22, 25, 27]\nX::dump($opt->order(25));\n\/\/ (int) 3\nX::dump($opt->order(25, 2));\n\/\/ (int) 2\nX::dump($opt->items(20));\n\/\/ [21, 25, 22, 27]\nX::dump($opt->order(25));\n\/\/ (int) 2\n```",
            "description_parts": [
                {
                    "type": "text",
                    "content": "<p>*<\/p>"
                },
                {
                    "type": "code",
                    "content": "X::dump($opt->items(20));\n\/\/ [21, 22, 25, 27]\nX::dump($opt->order(25));\n\/\/ (int) 3\nX::dump($opt->order(25, 2));\n\/\/ (int) 2\nX::dump($opt->items(20));\n\/\/ [21, 25, 22, 27]\nX::dump($opt->order(25));\n\/\/ (int) 2"
                }
            ],
            "file": "bbn\\Appui\\Option",
            "static": false,
            "visibility": "public",
            "final": false,
            "code": "function($id, $pos = NULL)\n  {\n    if ($this->check()\n        && ($parent = $this->getIdParent($id))\n        && $this->isSortable($parent)\n    ) {\n      $cf  = $this->class_cfg;\n      $old = $this->db->selectOne(\n        $cf['table'], $cf['arch']['options']['num'], [\n        $cf['arch']['options']['id'] => $id\n        ]\n      );\n      if ($pos && ($old != $pos)) {\n        $its      = $this->items($parent);\n        $past_new = false;\n        $past_old = false;\n        $p        = 1;\n        foreach ($its as $id_option){\n          $upd = false;\n          \/\/ Fixing order problem\n          if ($past_old && !$past_new) {\n            $upd = [$cf['arch']['options']['num'] => $p - 1];\n          }\n          elseif (!$past_old && $past_new) {\n            $upd = [$cf['arch']['options']['num'] => $p + 1];\n          }\n\n          if ($id === $id_option) {\n            $upd      = [$cf['arch']['options']['num'] => $pos];\n            $past_old = 1;\n          }\n          elseif ($p === $pos) {\n            $upd      = [$cf['arch']['options']['num'] => $p + ($pos > $old ? -1 : 1)];\n            $past_new = 1;\n          }\n\n          if ($upd) {\n            $this->db->update(\n              $cf['table'], $upd, [\n              $cf['arch']['options']['id'] => $id_option\n              ]\n            );\n          }\n\n          if ($past_new && $past_old) {\n            break;\n          }\n\n          $p++;\n        }\n\n        $this->deleteCache($parent, true);\n        $this->deleteCache($id);\n        return $pos;\n      }\n\n      return $old;\n    }\n\n    return null;\n  }",
            "startLine": 2808,
            "endLine": 2868,
            "isDeprecated": false,
            "isGenerator": false,
            "isInternal": false,
            "isUserDefined": true,
            "isVariadic": false,
            "returnsReference": false,
            "numberOfParameters": 2,
            "numberOfRequiredParameters": 1,
            "returns": null,
            "parent": false,
            "arguments": [
                {
                    "name": "id",
                    "position": 0,
                    "type": "",
                    "required": true,
                    "has_default": false,
                    "default": "",
                    "default_name": "",
                    "description": "The new position"
                },
                {
                    "name": "pos",
                    "position": 1,
                    "type": "int",
                    "required": false,
                    "has_default": true,
                    "default": null,
                    "default_name": ""
                }
            ]
        },
        "setProp": {
            "name": "setProp",
            "summary": "Updates option's properties derivated from the value column",
            "description": "*\n```php\nX::dump($opt->setProp(12, 'myProperty', \"78%\"));\n\/\/ (int) 1\nX::dump($opt->setProp(12, ['myProperty' => \"78%\"]));\n\/\/ (int) 0 Already updated, no change done\nX::dump($opt->setProp(9654, ['myProperty' => \"78%\"]));\n\/\/ (bool) false Option not found\nX::dump($opt->setProp(12, ['myProperty' => \"78%\", 'myProperty2' => \"42%\"]));\n\/\/ (int) 1\nX::dump($opt->option(12));\n\/*\nBefore\narray [\n  'id' => 12,\n  'id_parent' => 0,\n  'code' => 'bbn_ide',\n  'text' => 'BBN's own IDE',\n  'myOtherProperty' => \"Hello\",\n]\nAfter\narray [\n  'id' => 12,\n  'id_parent' => 0,\n  'code' => 'bbn_ide',\n  'text' => 'BBN's own IDE',\n  'myProperty' => \"78%\",\n  'myProperty2' => \"42%\",\n  'myOtherProperty' => \"Hello\",\n]\n```",
            "description_parts": [
                {
                    "type": "text",
                    "content": "<p>*<\/p>"
                },
                {
                    "type": "code",
                    "content": "X::dump($opt->setProp(12, 'myProperty', \"78%\"));\n\/\/ (int) 1\nX::dump($opt->setProp(12, ['myProperty' => \"78%\"]));\n\/\/ (int) 0 Already updated, no change done\nX::dump($opt->setProp(9654, ['myProperty' => \"78%\"]));\n\/\/ (bool) false Option not found\nX::dump($opt->setProp(12, ['myProperty' => \"78%\", 'myProperty2' => \"42%\"]));\n\/\/ (int) 1\nX::dump($opt->option(12));\n\/*\nBefore\narray [\n  'id' => 12,\n  'id_parent' => 0,\n  'code' => 'bbn_ide',\n  'text' => 'BBN's own IDE',\n  'myOtherProperty' => \"Hello\",\n]\nAfter\narray [\n  'id' => 12,\n  'id_parent' => 0,\n  'code' => 'bbn_ide',\n  'text' => 'BBN's own IDE',\n  'myProperty' => \"78%\",\n  'myProperty2' => \"42%\",\n  'myOtherProperty' => \"Hello\",\n]"
                }
            ],
            "file": "bbn\\Appui\\Option",
            "static": false,
            "visibility": "public",
            "final": false,
            "code": "function($id, $prop)\n  {\n    if (!empty($id) && !empty($prop) && ($o = $this->optionNoAlias($id))) {\n      $args = \\func_get_args();\n      if (\\is_string($prop) && isset($args[2])) {\n        $prop = [$prop => $args[2]];\n      }\n\n      if (\\is_array($prop)) {\n        X::log([$o, $prop], \"set_prop\");\n        $change = false;\n        foreach ($prop as $k => $v){\n          \/\/if ( !\\in_array($k, $this->class_cfg['arch']['options']) ){\n          if (!isset($o[$k]) || ($o[$k] !== $v)) {\n            $change = true;\n            $o[$k]  = $v;\n          }\n\n          \/\/}\n        }\n\n        if ($change) {\n          return $this->set($id, $o);\n        }\n      }\n\n      return 0;\n    }\n\n    return null;\n  }",
            "startLine": 2909,
            "endLine": 2939,
            "isDeprecated": false,
            "isGenerator": false,
            "isInternal": false,
            "isUserDefined": true,
            "isVariadic": false,
            "returnsReference": false,
            "numberOfParameters": 2,
            "numberOfRequiredParameters": 2,
            "returns": null,
            "parent": false,
            "arguments": [
                {
                    "name": "id",
                    "position": 0,
                    "type": "",
                    "required": true,
                    "has_default": false,
                    "default": "",
                    "default_name": "",
                    "description": "An array of properties and values, or a string with the property's name adding as next argument the new value"
                },
                {
                    "name": "prop",
                    "position": 1,
                    "type": "",
                    "required": true,
                    "has_default": false,
                    "default": "",
                    "default_name": ""
                }
            ]
        },
        "getProp": {
            "name": "getProp",
            "summary": "Get an option's single property",
            "description": "*\n```php\nX::dump($opt->getProp(12, 'myProperty'));\n\/\/ (int) 78\nX::dump($opt->setProp(12, ['myProperty' => \"78%\"]));\n\/\/ (int) 1\nX::dump($opt->getProp(12, 'myProperty'));\n\/\/ (string) \"78%\"\n```",
            "description_parts": [
                {
                    "type": "text",
                    "content": "<p>*<\/p>"
                },
                {
                    "type": "code",
                    "content": "X::dump($opt->getProp(12, 'myProperty'));\n\/\/ (int) 78\nX::dump($opt->setProp(12, ['myProperty' => \"78%\"]));\n\/\/ (int) 1\nX::dump($opt->getProp(12, 'myProperty'));\n\/\/ (string) \"78%\""
                }
            ],
            "file": "bbn\\Appui\\Option",
            "static": false,
            "visibility": "public",
            "final": false,
            "code": "function($id, $prop)\n  {\n    if (!empty($id) && !empty($prop) && ($o = $this->option($id)) && isset($o[$prop])) {\n      return $o[$prop];\n    }\n\n    return null;\n  }",
            "startLine": 2958,
            "endLine": 2965,
            "isDeprecated": false,
            "isGenerator": false,
            "isInternal": false,
            "isUserDefined": true,
            "isVariadic": false,
            "returnsReference": false,
            "numberOfParameters": 2,
            "numberOfRequiredParameters": 2,
            "returns": null,
            "parent": false,
            "arguments": [
                {
                    "name": "id",
                    "position": 0,
                    "type": "",
                    "required": true,
                    "has_default": false,
                    "default": "",
                    "default_name": "",
                    "description": "The property's name"
                },
                {
                    "name": "prop",
                    "position": 1,
                    "type": "string",
                    "required": true,
                    "has_default": false,
                    "default": "",
                    "default_name": ""
                }
            ]
        },
        "unsetProp": {
            "name": "unsetProp",
            "summary": "Unset option's properties taken from the value column",
            "description": "*\n```php\nX::dump($opt->unsetProp(12, 'myProperty'));\n\/\/ (int) 1\nX::dump($opt->unsetProp(12, ['myProperty']));\n\/\/ (int) 0 Already updated, no change done\nX::dump($opt->unsetProp(9654, ['myProperty']));\n\/\/ (bool) false Option not found\nX::dump($opt->unsetProp(12, ['myProperty', 'myProperty2']));\n\/\/ (int) 1\nX::dump($opt->option(12));\n\/*\nBefore\narray [\n  'id' => 12,\n  'id_parent' => 0,\n  'code' => 'bbn_ide',\n  'text' => 'BBN's own IDE',\n  'myProperty' => \"78%\",\n  'myProperty2' => \"42%\",\n  'myOtherProperty' => \"Hello\",\n]\nAfter\narray [\n  'id' => 12,\n  'id_parent' => 0,\n  'code' => 'bbn_ide',\n  'text' => 'BBN's own IDE',\n  'myOtherProperty' => \"Hello\",\n]\n```",
            "description_parts": [
                {
                    "type": "text",
                    "content": "<p>*<\/p>"
                },
                {
                    "type": "code",
                    "content": "X::dump($opt->unsetProp(12, 'myProperty'));\n\/\/ (int) 1\nX::dump($opt->unsetProp(12, ['myProperty']));\n\/\/ (int) 0 Already updated, no change done\nX::dump($opt->unsetProp(9654, ['myProperty']));\n\/\/ (bool) false Option not found\nX::dump($opt->unsetProp(12, ['myProperty', 'myProperty2']));\n\/\/ (int) 1\nX::dump($opt->option(12));\n\/*\nBefore\narray [\n  'id' => 12,\n  'id_parent' => 0,\n  'code' => 'bbn_ide',\n  'text' => 'BBN's own IDE',\n  'myProperty' => \"78%\",\n  'myProperty2' => \"42%\",\n  'myOtherProperty' => \"Hello\",\n]\nAfter\narray [\n  'id' => 12,\n  'id_parent' => 0,\n  'code' => 'bbn_ide',\n  'text' => 'BBN's own IDE',\n  'myOtherProperty' => \"Hello\",\n]"
                }
            ],
            "file": "bbn\\Appui\\Option",
            "static": false,
            "visibility": "public",
            "final": false,
            "code": "function($id, $prop)\n  {\n    if (!empty($prop) && bbn\\Str::isUid($id) && ($o = $this->optionNoAlias($id))) {\n      if (\\is_string($prop)) {\n        $prop = [$prop];\n      }\n\n      if (\\is_array($prop)) {\n        $change = false;\n        foreach ($prop as $k){\n          if (!\\in_array($k, $this->class_cfg['arch']['options'], true)) {\n            $change = true;\n            unset($o[$k]);\n          }\n        }\n\n        if ($change) {\n          return $this->set($id, $o);\n        }\n      }\n    }\n\n    return null;\n  }",
            "startLine": 3006,
            "endLine": 3029,
            "isDeprecated": false,
            "isGenerator": false,
            "isInternal": false,
            "isUserDefined": true,
            "isVariadic": false,
            "returnsReference": false,
            "numberOfParameters": 2,
            "numberOfRequiredParameters": 2,
            "returns": null,
            "parent": false,
            "arguments": [
                {
                    "name": "id",
                    "position": 0,
                    "type": "",
                    "required": true,
                    "has_default": false,
                    "default": "",
                    "default_name": "",
                    "description": "An array of properties and values, or a string with the property's name adding as next argument the new value"
                },
                {
                    "name": "prop",
                    "position": 1,
                    "type": "",
                    "required": true,
                    "has_default": false,
                    "default": "",
                    "default_name": ""
                }
            ]
        },
        "setCfg": {
            "name": "setCfg",
            "summary": "Sets the cfg column of a given option in the table through an array",
            "description": "*\n```php\nX::dump($opt->getCfg('bbn_ide'));\n\/\/ array ['sortable' => true]\nX::dump($opt->setCfg(12, [\n  'desc' => \"I am a cool option\",\n  'sortable' => true\n]));\n\/\/ (int) 1\nX::dump($opt->getCfg('bbn_ide'));\n\/\/ array ['desc' => \"I am a cool option\", 'sortable' => true];\n```",
            "description_parts": [
                {
                    "type": "text",
                    "content": "<p>*<\/p>"
                },
                {
                    "type": "code",
                    "content": "X::dump($opt->getCfg('bbn_ide'));\n\/\/ array ['sortable' => true]\nX::dump($opt->setCfg(12, [\n  'desc' => \"I am a cool option\",\n  'sortable' => true\n]));\n\/\/ (int) 1\nX::dump($opt->getCfg('bbn_ide'));\n\/\/ array ['desc' => \"I am a cool option\", 'sortable' => true];"
                }
            ],
            "file": "bbn\\Appui\\Option",
            "static": false,
            "visibility": "public",
            "final": false,
            "code": "function($id, array $cfg, $merge = false)\n  {\n    if ($this->check() && $this->exists($id)) {\n      if (isset($cfg['inherited_from'])) {\n        unset($cfg['inherited_from']);\n      }\n\n      if (isset($cfg['id'])) {\n        unset($cfg['id']);\n      }\n\n      if (isset($cfg['permissions']) && !in_array($cfg['permissions'], ['single', 'cascade', 'all', 'children'])) {\n        unset($cfg['permissions']);\n      }\n\n      if ($merge && ($old_cfg = $this->getCfg($id))) {\n        $cfg = array_merge($old_cfg, $cfg);\n      }\n\n      $c =& $this->class_cfg;\n      if ($res = $this->db->update(\n        $c['table'], [\n        $c['arch']['options']['cfg'] => $cfg ? json_encode($cfg) : null\n        ], [\n        $c['arch']['options']['id'] => $id\n        ]\n      )\n      ) {\n        if (($old_cfg['inheritance'] ?? null) !== ($cfg['inheritance'] ?? null)) {\n          $this->deleteCache($id, true);\n        }\n        else{\n          $this->deleteCache($id);\n        }\n\n        return $res;\n      }\n\n      return 0;\n    }\n\n    return null;\n  }",
            "startLine": 3051,
            "endLine": 3093,
            "isDeprecated": false,
            "isGenerator": false,
            "isInternal": false,
            "isUserDefined": true,
            "isVariadic": false,
            "returnsReference": false,
            "numberOfParameters": 3,
            "numberOfRequiredParameters": 2,
            "returns": [
                "int",
                null
            ],
            "parent": false,
            "arguments": [
                {
                    "name": "id",
                    "position": 0,
                    "type": "",
                    "required": true,
                    "has_default": false,
                    "default": "",
                    "default_name": "",
                    "description": "The config value"
                },
                {
                    "name": "cfg",
                    "position": 1,
                    "type": "array",
                    "required": true,
                    "has_default": false,
                    "default": "",
                    "default_name": ""
                },
                {
                    "name": "merge",
                    "position": 2,
                    "type": "bool",
                    "required": false,
                    "has_default": true,
                    "default": false,
                    "default_name": ""
                }
            ]
        },
        "unsetCfg": {
            "name": "unsetCfg",
            "summary": "Unsets the cfg column (sets it to null)",
            "description": "*\n```php\nX::dump($opt->getCfg('bbn_ide'));\n\/\/ array ['desc' => \"I am a cool option\", 'sortable' => true];\n```",
            "description_parts": [
                {
                    "type": "text",
                    "content": "<p>*<\/p>"
                },
                {
                    "type": "code",
                    "content": "X::dump($opt->getCfg('bbn_ide'));\n\/\/ array ['desc' => \"I am a cool option\", 'sortable' => true];"
                }
            ],
            "file": "bbn\\Appui\\Option",
            "static": false,
            "visibility": "public",
            "final": false,
            "code": "function($id)\n  {\n    $res = false;\n    if ($this->check() && $this->exists($id)) {\n      $res = $this->db->update(\n        $this->class_cfg['table'], [\n        $this->class_cfg['arch']['options']['cfg'] => null\n        ], [\n        $this->class_cfg['arch']['options']['id'] => $id\n        ]\n      );\n      if ($res) {\n        $this->deleteCache($id);\n      }\n    }\n\n    return $res;\n  }",
            "startLine": 3107,
            "endLine": 3124,
            "isDeprecated": false,
            "isGenerator": false,
            "isInternal": false,
            "isUserDefined": true,
            "isVariadic": false,
            "returnsReference": false,
            "numberOfParameters": 1,
            "numberOfRequiredParameters": 1,
            "returns": null,
            "parent": false,
            "arguments": [
                {
                    "name": "id",
                    "position": 0,
                    "type": "",
                    "required": true,
                    "has_default": false,
                    "default": "",
                    "default_name": ""
                }
            ]
        },
        "fusion": {
            "name": "fusion",
            "summary": "Merges an option $src into an existing option $dest",
            "description": "Children will change id_parent and references in the same database will be updated\nThe config will remain the one from the destination",
            "description_parts": [
                {
                    "type": "text",
                    "content": "<p>Children will change id_parent and references in the same database will be updated\nThe config will remain the one from the destination<\/p>"
                }
            ],
            "file": "bbn\\Appui\\Option",
            "static": false,
            "visibility": "public",
            "final": false,
            "code": "function($src, $dest)\n  {\n    if ($this->check()) {\n      $o_src  = $this->option($src);\n      $o_dest = $this->option($dest);\n      $num    = 0;\n      $cf     =& $this->class_cfg['arch']['options'];\n      if ($o_dest && $o_src) {\n        $o_final = X::mergeArrays($o_src, $o_dest);\n        \/\/ Order remains the dest one\n        $o_final[$cf['num']] = $o_dest[$cf['num']];\n        $tables              = $this->db->getForeignKeys($this->class_cfg['arch']['options']['id'], $this->class_cfg['table']);\n        foreach ($tables as $table => $cols){\n          foreach ($cols as $c){\n            $num += (int)$this->db->update($table, [$c => $dest], [$c => $src]);\n          }\n        }\n\n        $opt = $this->options($src);\n        \/\/ Moving children\n        foreach ($opt as $id => $text){\n          $num += (int)$this->move($id, $dest);\n        }\n\n        $num += (int)$this->set($dest, $o_final);\n        $num += (int)$this->remove($src);\n\n        $this->deleteCache($o_final['id_parent'], true);\n        $this->deleteCache($o_src['id_parent'], true);\n\n        if ($this->isSortable($o_src['id_parent'])) {\n          $this->fixOrder($o_src['id_parent']);\n        }\n\n        if ($this->isSortable($o_final['id_parent'])) {\n          $this->fixOrder($o_final['id_parent']);\n        }\n      }\n\n      return $num;\n    }\n\n    return null;\n  }",
            "startLine": 3149,
            "endLine": 3192,
            "isDeprecated": false,
            "isGenerator": false,
            "isInternal": false,
            "isUserDefined": true,
            "isVariadic": false,
            "returnsReference": false,
            "numberOfParameters": 2,
            "numberOfRequiredParameters": 2,
            "returns": null,
            "parent": false,
            "arguments": [
                {
                    "name": "src",
                    "position": 0,
                    "type": "",
                    "required": true,
                    "has_default": false,
                    "default": "",
                    "default_name": "",
                    "description": "Destination option ID, will remain after the fusion"
                },
                {
                    "name": "dest",
                    "position": 1,
                    "type": "",
                    "required": true,
                    "has_default": false,
                    "default": "",
                    "default_name": ""
                }
            ]
        },
        "move": {
            "name": "move",
            "summary": "Changes the id_parent of an option",
            "description": "*\n```php\nX::dump($this->getIdParent(21));\n\/\/ (int) 13\nX::dump($this->move(21, 12));\n\/\/ (int) 1\nX::dump($this->getIdParent(21));\n\/\/ (int) 12\n```",
            "description_parts": [
                {
                    "type": "text",
                    "content": "<p>*<\/p>"
                },
                {
                    "type": "code",
                    "content": "X::dump($this->getIdParent(21));\n\/\/ (int) 13\nX::dump($this->move(21, 12));\n\/\/ (int) 1\nX::dump($this->getIdParent(21));\n\/\/ (int) 12"
                }
            ],
            "file": "bbn\\Appui\\Option",
            "static": false,
            "visibility": "public",
            "final": false,
            "code": "function($id, $id_parent)\n  {\n    $res = null;\n    if (($o = $this->option($id))\n        && ($target = $this->option($id_parent))\n    ) {\n      $upd = [$this->class_cfg['arch']['options']['id_parent'] => $id_parent];\n      if ($this->isSortable($id_parent)) {\n        $upd[$this->class_cfg['arch']['options']['num']] = empty($target['num_children']) ? 1 : $target['num_children'] + 1;\n      }\n\n      $res = $this->db->update(\n        $this->class_cfg['table'], $upd, [\n        'id' => $id\n        ]\n      );\n      $this->deleteCache($id_parent);\n      $this->deleteCache($id);\n      $this->deleteCache($o['id_parent']);\n    }\n\n    return $res;\n  }",
            "startLine": 3211,
            "endLine": 3233,
            "isDeprecated": false,
            "isGenerator": false,
            "isInternal": false,
            "isUserDefined": true,
            "isVariadic": false,
            "returnsReference": false,
            "numberOfParameters": 2,
            "numberOfRequiredParameters": 2,
            "returns": null,
            "parent": false,
            "arguments": [
                {
                    "name": "id",
                    "position": 0,
                    "type": "",
                    "required": true,
                    "has_default": false,
                    "default": "",
                    "default_name": "",
                    "description": "parent The new id_parent"
                },
                {
                    "name": "id_parent",
                    "position": 1,
                    "type": "",
                    "required": true,
                    "has_default": false,
                    "default": "",
                    "default_name": ""
                }
            ]
        },
        "fixOrder": {
            "name": "fixOrder",
            "summary": "Sets the order configuration for each options of a sortable given parent",
            "description": "*\n```php\nX::dump($opt->items(12));\n\/\/ array [20, 22, 25, 27]\nX::dump($opt->fixOrder(12)->items(12));\n\/\/ array [25, 22, 27, 20]\n```",
            "description_parts": [
                {
                    "type": "text",
                    "content": "<p>*<\/p>"
                },
                {
                    "type": "code",
                    "content": "X::dump($opt->items(12));\n\/\/ array [20, 22, 25, 27]\nX::dump($opt->fixOrder(12)->items(12));\n\/\/ array [25, 22, 27, 20]"
                }
            ],
            "file": "bbn\\Appui\\Option",
            "static": false,
            "visibility": "public",
            "final": false,
            "code": "function($id, $deep = false)\n  {\n    if ($this->check() && $this->isSortable($id)) {\n      $cf  =& $this->class_cfg;\n      $its = $this->fullOptions($id);\n      $p   = 1;\n      foreach ($its as $it){\n        if ($it['num'] !== $p) {\n          $this->db->update(\n            $cf['table'], [\n            $cf['arch']['options']['num'] => $p\n            ], [\n            $cf['arch']['options']['id'] => $it[$cf['arch']['options']['id']]\n            ]\n          );\n          $this->deleteCache($it[$cf['arch']['options']['id']]);\n        }\n\n        $p++;\n        if ($deep) {\n          $this->fixOrder($it[$cf['arch']['options']['id']]);\n        }\n      }\n    }\n\n    return $this;\n  }",
            "startLine": 3250,
            "endLine": 3276,
            "isDeprecated": false,
            "isGenerator": false,
            "isInternal": false,
            "isUserDefined": true,
            "isVariadic": false,
            "returnsReference": false,
            "numberOfParameters": 2,
            "numberOfRequiredParameters": 1,
            "returns": null,
            "parent": false,
            "arguments": [
                {
                    "name": "id",
                    "position": 0,
                    "type": "",
                    "required": true,
                    "has_default": false,
                    "default": "",
                    "default_name": ""
                },
                {
                    "name": "deep",
                    "position": 1,
                    "type": "",
                    "required": false,
                    "has_default": true,
                    "default": false,
                    "default_name": ""
                }
            ]
        },
        "getCodePath": {
            "name": "getCodePath",
            "summary": "",
            "description": "",
            "description_parts": [],
            "file": "bbn\\Appui\\Option",
            "static": false,
            "visibility": "public",
            "final": false,
            "code": "function($id)\n  {\n    $args = func_get_args();\n    $res  = [];\n    while ($o = $this->nativeOption(...$args)) {\n      if ($o['code']) {\n        $res[] = $o['code'];\n        if ($o['id_parent'] === $this->default) {\n          break;\n        }\n\n        $args = [$o['id_parent']];\n      }\n      else {\n        return null;\n      }\n    }\n\n    if (end($res) === 'root') {\n      array_pop($res);\n    }\n\n    return count($res) ? $res : null;\n  }",
            "startLine": 3279,
            "endLine": 3302,
            "isDeprecated": false,
            "isGenerator": false,
            "isInternal": false,
            "isUserDefined": true,
            "isVariadic": false,
            "returnsReference": false,
            "numberOfParameters": 1,
            "numberOfRequiredParameters": 1,
            "returns": null,
            "parent": false,
            "arguments": [
                {
                    "name": "id",
                    "position": 0,
                    "type": "",
                    "required": true,
                    "has_default": false,
                    "default": "",
                    "default_name": ""
                }
            ]
        },
        "analyzeOut": {
            "name": "analyzeOut",
            "summary": "",
            "description": "",
            "description_parts": [],
            "file": "bbn\\Appui\\Option",
            "static": false,
            "visibility": "public",
            "final": false,
            "code": "function(array $options, array &$results = [])\n  {\n    if ($this->check()) {\n      if (empty($results)) {\n        $results['options'] = [];\n        $results['ids']     = [];\n        $results['aliases'] = [];\n      }\n\n      if (!empty($options['id'])) {\n        $results['ids'][$options['id']] = null;\n      }\n\n      if (!empty($options['id_alias'])) {\n        $results['aliases'][$options['id_alias']] = [\n          'id' => null,\n          'codes' => $this->getCodePath($options['id_alias'])\n        ];\n      }\n\n      $items = false;\n      if (!empty($options['items'])) {\n        $items = $options['items'];\n        unset($options['items']);\n      }\n\n      $results['options'][] = $options;\n      if ($items) {\n        foreach ($items as $it) {\n          $this->analyzeOut($it, $results);\n        }\n      }\n\n      return $results;\n    }\n\n    return null;\n  }",
            "startLine": 3305,
            "endLine": 3342,
            "isDeprecated": false,
            "isGenerator": false,
            "isInternal": false,
            "isUserDefined": true,
            "isVariadic": false,
            "returnsReference": false,
            "numberOfParameters": 2,
            "numberOfRequiredParameters": 1,
            "returns": null,
            "parent": false,
            "arguments": [
                {
                    "name": "options",
                    "position": 0,
                    "type": "array",
                    "required": true,
                    "has_default": false,
                    "default": "",
                    "default_name": ""
                },
                {
                    "name": "results",
                    "position": 1,
                    "type": "array",
                    "required": false,
                    "has_default": true,
                    "default": [],
                    "default_name": ""
                }
            ]
        },
        "export": {
            "name": "export",
            "summary": "",
            "description": "",
            "description_parts": [],
            "file": "bbn\\Appui\\Option",
            "static": false,
            "visibility": "public",
            "final": false,
            "code": "function($id, $mode = 'single')\n  {\n    $modes = ['children', 'full', 'sfull', 'schildren', 'simple', 'single'];\n    if (!in_array($mode, $modes)) {\n      throw new \\Exception(X::_(\"The given mode is forbidden\"));\n    }\n\n    $simple = false;\n    switch ($mode) {\n      case 'single':\n        $o = $this->rawOption($id);\n        break;\n      case 'simple':\n        $o = $this->option($id);\n        $simple = true;\n        break;\n      case 'schildren':\n        $o = $this->fullOptions($id);\n        $simple = true;\n        break;\n      case 'children':\n        $o = $this->exportDb($id, false, true);\n        break;\n      case 'full':\n        $o = $this->exportDb($id, true, true);\n        break;\n      case 'sfull':\n        $o = $this->fullTree($id);\n        $simple = true;\n        break;\n    }\n\n    if ($o) {\n      if ($simple) {\n        $opt =& $this;\n        $fn  = function ($o) use (&$opt) {\n\n          $cfg = $opt->getCfg($o['id']);\n          if (!is_array($cfg) || !empty($cfg['inherit_from'])) {\n            $cfg = [];\n          }\n          elseif (!empty($cfg['schema']) && is_string($cfg['schema'])) {\n            $cfg['schema'] = json_decode($cfg['schema'], true);\n          }\n\n          if (isset($cfg['id'])) {\n            \/\/unset($cfg['id']);\n          }\n\n          if (isset($cfg['scfg'])\n              && !empty($cfg['scfg']['schema']) && is_string($cfg['scfg']['schema'])\n          ) {\n            $cfg['scfg']['schema'] = json_decode($cfg['scfg']['schema'], true);\n          }\n\n          if (!empty($cfg['id_root_alias'])) {\n            if ($codes = $opt->getCodePath($cfg['id_root_alias'])) {\n              $cfg['id_root_alias'] = $codes;\n            }\n            else {\n              unset($cfg['id_root_alias']);\n            }\n          }\n\n          foreach ($cfg as $n => $v) {\n            if (!$v) {\n              unset($cfg[$n]);\n            }\n          }\n\n          if (!empty($cfg)) {\n            $o['cfg'] = $cfg;\n          }\n\n          unset($o['id_parent']);\n          if (isset($o['num_children'])) {\n            unset($o['num_children']);\n          }\n\n          if (isset($o['alias'])) {\n            unset($o['alias']);\n          }\n\n          foreach ($o as $n => $v) {\n            if (!$v) {\n              unset($o[$n]);\n            }\n          }\n\n          if (!empty($o['id_alias'])\n              && ($codes = $opt->getCodePath($o['id_alias']))\n          ) {\n            $o['id_alias'] = $codes;\n          }\n          else {\n            unset($o['id_alias']);\n          }\n\n          return $o;\n        };\n\n        switch ($mode) {\n          case 'simple':\n            $o = $fn($o);\n            break;\n          case 'schildren':\n            $o = X::map($fn, $o, 'items');\n            $simple = true;\n            break;\n          case 'sfull':\n            $o = $fn($o);\n            $o['items'] = empty($o['items']) ? [] : X::map($fn, $o['items'], 'items');\n            break;\n        }\n      }\n\n      return $o;\n    }\n\n    return null;\n  }",
            "startLine": 3345,
            "endLine": 3465,
            "isDeprecated": false,
            "isGenerator": false,
            "isInternal": false,
            "isUserDefined": true,
            "isVariadic": false,
            "returnsReference": false,
            "numberOfParameters": 2,
            "numberOfRequiredParameters": 1,
            "returns": [
                "array",
                null
            ],
            "parent": false,
            "arguments": [
                {
                    "name": "id",
                    "position": 0,
                    "type": "string",
                    "required": true,
                    "has_default": false,
                    "default": "",
                    "default_name": ""
                },
                {
                    "name": "mode",
                    "position": 1,
                    "type": "string",
                    "required": false,
                    "has_default": true,
                    "default": "single",
                    "default_name": ""
                }
            ]
        },
        "exportDb": {
            "name": "exportDb",
            "summary": "Converts an option or a hierarchy to a multi-level array with JSON values",
            "description": "If $return is false the resulting array will be printed\n   *\n```php\n```",
            "description_parts": [
                {
                    "type": "text",
                    "content": "<p>If $return is false the resulting array will be printed\n*<\/p>"
                },
                {
                    "type": "code",
                    "content": ""
                }
            ],
            "file": "bbn\\Appui\\Option",
            "static": false,
            "visibility": "public",
            "final": false,
            "code": "function($id, $deep = false, $return = false, $aliases = false)\n  {\n    if (($ret = $deep ? $this->rawTree($id) : $this->rawOptions($id))) {\n      $ret  = $this->analyzeOut($ret);\n      $res  = [];\n      $done = [];\n      $max  = 3;\n      foreach ($ret['options'] as $i => $o) {\n        if (!$i || in_array($o['id_parent'], $done, true)) {\n          if (empty($o['id_alias'])) {\n            $res[]  = $o;\n            $done[] = $o['id'];\n          }\n        }\n      }\n\n      while ($max && (count($res) < count($ret['options']))) {\n        foreach ($ret['options'] as $i => $o) {\n          if (!empty($o['id_alias'])\n              && !in_array($o['id'], $done, true)\n              && in_array($o['id_parent'], $done, true)\n              && in_array($o['id_alias'], $done, true)\n          ) {\n            $res[]  = $o;\n            $done[] = $o['id'];\n          }\n        }\n\n        $max--;\n      }\n\n      if (count($res) < count($ret['options'])) {\n        foreach ($ret['options'] as $i => $o) {\n          if (!in_array($o['id_parent'], $done, true)) {\n            $o['id_parent'] = $this->getCodePath($o['id_parent']);\n          }\n\n          if (!empty($o['id_alias'])\n              && !in_array($o['id'], $done, true)\n          ) {\n            if (!in_array($o['id_alias'], $done, true)) {\n              $code_path     = $this->getCodePath($o['id_alias']);\n              $o['id_alias'] = $code_path ?: $o['id_alias'];\n            }\n\n            $res[]  = $o;\n            $done[] = $o['id'];\n          }\n        }\n\n        $max--;\n      }\n\n      return $return ? $res : var_export($res, 1);\n    }\n\n    return null;\n  }",
            "startLine": 3481,
            "endLine": 3538,
            "isDeprecated": false,
            "isGenerator": false,
            "isInternal": false,
            "isUserDefined": true,
            "isVariadic": false,
            "returnsReference": false,
            "numberOfParameters": 4,
            "numberOfRequiredParameters": 1,
            "returns": null,
            "parent": false,
            "arguments": [
                {
                    "name": "id",
                    "position": 0,
                    "type": "",
                    "required": true,
                    "has_default": false,
                    "default": "",
                    "default_name": "",
                    "description": "The ID of the option to clone"
                },
                {
                    "name": "deep",
                    "position": 1,
                    "type": "bool",
                    "required": false,
                    "has_default": true,
                    "default": false,
                    "default_name": "",
                    "description": "If set to true children will be included"
                },
                {
                    "name": "return",
                    "position": 2,
                    "type": "bool",
                    "required": false,
                    "has_default": true,
                    "default": false,
                    "default_name": "",
                    "description": "If set to true the resulting array will be returned"
                },
                {
                    "name": "aliases",
                    "position": 3,
                    "type": "bool",
                    "required": false,
                    "has_default": true,
                    "default": false,
                    "default_name": ""
                }
            ]
        },
        "import": {
            "name": "import",
            "summary": "Insert into the option table an exported array of options",
            "description": "*\n```php\n```",
            "description_parts": [
                {
                    "type": "text",
                    "content": "<p>*<\/p>"
                },
                {
                    "type": "code",
                    "content": ""
                }
            ],
            "file": "bbn\\Appui\\Option",
            "static": false,
            "visibility": "public",
            "final": false,
            "code": "function(array $options, $id_parent = NULL, array &$todo = NULL)\n  {\n    if (is_array($id_parent)) {\n      $id_parent = $this->fromCode(...$id_parent);\n    }\n    elseif (null === $id_parent) {\n      $id_parent = $this->default;\n    }\n\n    if (!empty($options) && $this->check() && $this->exists($id_parent)) {\n      $c       =& $this->class_cfg['arch']['options'];\n      $num     = 0;\n      $is_root = false;\n      if ($todo === null) {\n        $is_root = true;\n        $todo    = [];\n      }\n\n      if (!isset($options[0])) {\n        $options = [$options];\n      }\n\n      foreach ($options as $i => $o) {\n        $tmp   = [];\n        $items = [];\n        if (isset($o[$c['id']])) {\n          if ($this->exists($o[$c['id']])) {\n            unset($o[$c['id']]);\n          }\n        }\n\n        $o[$c['id_parent']] = $id_parent ?: $this->default;\n        if (isset($o['items'])) {\n          $items = $o['items'] ?: null;\n          unset($o['items']);\n        }\n\n        if (isset($o[$c['id_alias']])) {\n          $tmp['id_alias'] = $o[$c['id_alias']];\n          unset($o[$c['id_alias']]);\n        }\n\n        if (isset($o[$c['cfg']]) && !empty($o[$c['cfg']]['id_root_alias'])) {\n          $tmp['id_root_alias'] = $o[$c['cfg']]['id_root_alias'];\n          unset($o[$c['cfg']]['id_root_alias']);\n        }\n\n        if ($id = $this->add($o, true)) {\n          if (!empty($tmp)) {\n            $todo[$id] = $tmp;\n          }\n\n          $num++;\n          if (!empty($items)) {\n            $num += $this->import($items, $id, $todo);\n          }\n        }\n        else {\n          throw new \\Exception(X::_(\"Error while importing: impossible to add\"));\n        }\n      }\n\n      if ($is_root && !empty($todo)) {\n        foreach ($todo as $id => $td) {\n          if (!empty($td['id_alias'])) {\n            if ($id_alias = $this->fromCode(...$td['id_alias'])) {\n              try {\n                $this->setAlias($id, $id_alias);\n              }\n              catch (\\Exception $e) {\n                throw new \\Exception($e->getMessage());\n              }\n            }\n            else {\n              X::log($td['id_alias']);\n              throw new \\Exception(\n                X::_(\n                  \"Error while importing: impossible to set the alias %s\",\n                  json_encode($td['id_alias'], JSON_PRETTY_PRINT)\n                )\n              );\n            }\n          }\n\n          if (!empty($td['id_root_alias'])\n              && ($id_root_alias = $this->fromCode(...$td['id_root_alias']))\n          ) {\n            $this->setcfg($id, ['id_root_alias' => $id_root_alias], true);\n          }\n        }\n      }\n\n      return $num;\n    }\n\n    return null;\n  }",
            "startLine": 3552,
            "endLine": 3648,
            "isDeprecated": false,
            "isGenerator": false,
            "isInternal": false,
            "isUserDefined": true,
            "isVariadic": false,
            "returnsReference": false,
            "numberOfParameters": 3,
            "numberOfRequiredParameters": 1,
            "returns": null,
            "parent": false,
            "arguments": [
                {
                    "name": "options",
                    "position": 0,
                    "type": "array",
                    "required": true,
                    "has_default": false,
                    "default": "",
                    "default_name": "",
                    "description": "An array of option(s) as export returns it"
                },
                {
                    "name": "id_parent",
                    "position": 1,
                    "type": "",
                    "required": false,
                    "has_default": true,
                    "default": null,
                    "default_name": "",
                    "description": "parent The option target, if not specified {@link default}"
                },
                {
                    "name": "todo",
                    "position": 2,
                    "type": "array",
                    "required": false,
                    "has_default": true,
                    "default": null,
                    "default_name": ""
                }
            ]
        },
        "duplicate": {
            "name": "duplicate",
            "summary": "Copies and insert an option into a target option",
            "description": "*\n```php\n```",
            "description_parts": [
                {
                    "type": "text",
                    "content": "<p>*<\/p>"
                },
                {
                    "type": "code",
                    "content": ""
                }
            ],
            "file": "bbn\\Appui\\Option",
            "static": false,
            "visibility": "public",
            "final": false,
            "code": "function($id, $target, $deep = false, $force = false, $return_num = false)\n  {\n    $res    = null;\n    $target = $this->fromCode($target);\n    if (bbn\\Str::isUid($target)) {\n      if ($opt = $this->export($id, $deep, 1)) {\n        $res = $this->import($opt, $target, $force, $return_num);\n        $this->deleteCache($target);\n      }\n    }\n\n    return $res;\n  }",
            "startLine": 3664,
            "endLine": 3676,
            "isDeprecated": false,
            "isGenerator": false,
            "isInternal": false,
            "isUserDefined": true,
            "isVariadic": false,
            "returnsReference": false,
            "numberOfParameters": 5,
            "numberOfRequiredParameters": 2,
            "returns": null,
            "parent": false,
            "arguments": [
                {
                    "name": "id",
                    "position": 0,
                    "type": "",
                    "required": true,
                    "has_default": false,
                    "default": "",
                    "default_name": "",
                    "description": "The source option's ID"
                },
                {
                    "name": "target",
                    "position": 1,
                    "type": "",
                    "required": true,
                    "has_default": false,
                    "default": "",
                    "default_name": "",
                    "description": "The destination option's ID"
                },
                {
                    "name": "deep",
                    "position": 2,
                    "type": "",
                    "required": false,
                    "has_default": true,
                    "default": false,
                    "default_name": "",
                    "description": "If set to true, children will also be duplicated"
                },
                {
                    "name": "force",
                    "position": 3,
                    "type": "",
                    "required": false,
                    "has_default": true,
                    "default": false,
                    "default_name": "",
                    "description": "If set to true and option exists it will be merged"
                },
                {
                    "name": "return_num",
                    "position": 4,
                    "type": "",
                    "required": false,
                    "has_default": true,
                    "default": false,
                    "default_name": ""
                }
            ]
        },
        "apply": {
            "name": "apply",
            "summary": "Applies a function to children of an option and updates the database",
            "description": "*\n```php\n```",
            "description_parts": [
                {
                    "type": "text",
                    "content": "<p>*<\/p>"
                },
                {
                    "type": "code",
                    "content": ""
                }
            ],
            "file": "bbn\\Appui\\Option",
            "static": false,
            "visibility": "public",
            "final": false,
            "code": "function($f, $id, $deep = false)\n  {\n    if ($this->check()) {\n      $originals = \\is_array($id) ? $id : ( $deep ? $this->fullTree($id) : $this->fullOptions($id) );\n      if (isset($originals['items'])) {\n        $originals = $originals['items'];\n      }\n\n      $opts = $this->map($f, $originals, $deep);\n      if (\\is_array($opts)) {\n        $changes = 0;\n        foreach ($opts as $i => $o){\n          if ($originals[$i] !== $o) {\n            $changes += (int)$this->set($o['id'], $o);\n          }\n\n          if ($deep && $o['num_children']) {\n            $this->apply($f, $o, 1);\n          }\n        }\n\n        return $changes;\n      }\n    }\n\n    return null;\n  }",
            "startLine": 3691,
            "endLine": 3717,
            "isDeprecated": false,
            "isGenerator": false,
            "isInternal": false,
            "isUserDefined": true,
            "isVariadic": false,
            "returnsReference": false,
            "numberOfParameters": 3,
            "numberOfRequiredParameters": 2,
            "returns": null,
            "parent": false,
            "arguments": [
                {
                    "name": "f",
                    "position": 0,
                    "type": "callable",
                    "required": true,
                    "has_default": false,
                    "default": "",
                    "default_name": "",
                    "description": "The function to apply (the unique argument will be the option as in {@link option()}"
                },
                {
                    "name": "id",
                    "position": 1,
                    "type": "",
                    "required": true,
                    "has_default": false,
                    "default": "",
                    "default_name": "",
                    "description": "The options'ID on which children the function should be applied"
                },
                {
                    "name": "deep",
                    "position": 2,
                    "type": "",
                    "required": false,
                    "has_default": true,
                    "default": false,
                    "default_name": "",
                    "description": "If set to true the function will be applied to all children's levels"
                }
            ]
        },
        "map": {
            "name": "map",
            "summary": "Applies a function to children of an option",
            "description": "*\n```php\n```",
            "description_parts": [
                {
                    "type": "text",
                    "content": "<p>*<\/p>"
                },
                {
                    "type": "code",
                    "content": ""
                }
            ],
            "file": "bbn\\Appui\\Option",
            "static": false,
            "visibility": "public",
            "final": false,
            "code": "function($f, $id, $deep = false)\n  {\n    $opts = \\is_array($id) ? $id : ( $deep ? $this->fullTree($id) : $this->fullOptions($id) );\n    $res  = [];\n    if (\\is_array($opts)) {\n      if (isset($opts['items'])) {\n        $opts = $opts['items'];\n      }\n\n      foreach ($opts as $i => $o){\n        $opts[$i] = $f($o);\n        if ($deep && $opts[$i] && !empty($opts[$i]['items'])) {\n          $opts[$i]['items'] = $this->map($f, $opts[$i]['items'], 1);\n        }\n\n        if (\\is_array($opts[$i])) {\n          $res[] = $opts[$i];\n        }\n      }\n    }\n\n    return $res;\n  }",
            "startLine": 3732,
            "endLine": 3754,
            "isDeprecated": false,
            "isGenerator": false,
            "isInternal": false,
            "isUserDefined": true,
            "isVariadic": false,
            "returnsReference": false,
            "numberOfParameters": 3,
            "numberOfRequiredParameters": 2,
            "returns": null,
            "parent": false,
            "arguments": [
                {
                    "name": "f",
                    "position": 0,
                    "type": "callable",
                    "required": true,
                    "has_default": false,
                    "default": "",
                    "default_name": "",
                    "description": "The function to apply (the unique argument will be the option as in {@link option()}"
                },
                {
                    "name": "id",
                    "position": 1,
                    "type": "",
                    "required": true,
                    "has_default": false,
                    "default": "",
                    "default_name": "",
                    "description": "The options'ID on which children the function should be applied"
                },
                {
                    "name": "deep",
                    "position": 2,
                    "type": "",
                    "required": false,
                    "has_default": true,
                    "default": false,
                    "default_name": "",
                    "description": "If set to true the function will be applied to all children's levels"
                }
            ]
        },
        "mapCfg": {
            "name": "mapCfg",
            "summary": "Applies a function to children of an option, with the cfg array included",
            "description": "*\n```php\n```",
            "description_parts": [
                {
                    "type": "text",
                    "content": "<p>*<\/p>"
                },
                {
                    "type": "code",
                    "content": ""
                }
            ],
            "file": "bbn\\Appui\\Option",
            "static": false,
            "visibility": "public",
            "final": false,
            "code": "function($f, $id, $deep = false)\n  {\n    $opts = \\is_array($id) ? $id : ( $deep ? $this->fullTree($id) : $this->fullOptions($id) );\n    if (isset($opts['items'])) {\n      $opts = $opts['items'];\n    }\n\n    $res = [];\n    if (\\is_array($opts)) {\n      foreach ($opts as $i => $o){\n        $o['cfg'] = $this->getCfg($o['id']);\n        $opts[$i] = $f($o);\n        if ($deep && $opts[$i] && !empty($opts[$i]['items'])) {\n          $opts[$i]['items'] = $this->map($f, $opts[$i]['items'], 1);\n        }\n\n        if (\\is_array($opts[$i])) {\n          $res[] = $opts[$i];\n        }\n      }\n    }\n\n    return $res;\n  }",
            "startLine": 3769,
            "endLine": 3792,
            "isDeprecated": false,
            "isGenerator": false,
            "isInternal": false,
            "isUserDefined": true,
            "isVariadic": false,
            "returnsReference": false,
            "numberOfParameters": 3,
            "numberOfRequiredParameters": 2,
            "returns": null,
            "parent": false,
            "arguments": [
                {
                    "name": "f",
                    "position": 0,
                    "type": "callable",
                    "required": true,
                    "has_default": false,
                    "default": "",
                    "default_name": "",
                    "description": "The function to apply (the unique argument will be the option as in {@link option()}"
                },
                {
                    "name": "id",
                    "position": 1,
                    "type": "",
                    "required": true,
                    "has_default": false,
                    "default": "",
                    "default_name": "",
                    "description": "The options'ID on which children the function should be applied"
                },
                {
                    "name": "deep",
                    "position": 2,
                    "type": "",
                    "required": false,
                    "has_default": true,
                    "default": false,
                    "default_name": "",
                    "description": "If set to true the function will be applied to all children's levels"
                }
            ]
        },
        "categories": {
            "name": "categories",
            "summary": "Retourne la liste des cat\u00e9gories sous forme de tableau index\u00e9 sur son `id`",
            "description": "",
            "description_parts": [],
            "file": "bbn\\Appui\\Option",
            "static": false,
            "visibility": "public",
            "final": false,
            "code": "function()\n  {\n    return $this->options(false);\n  }",
            "startLine": 3800,
            "endLine": 3803,
            "isDeprecated": false,
            "isGenerator": false,
            "isInternal": false,
            "isUserDefined": true,
            "isVariadic": false,
            "returnsReference": false,
            "numberOfParameters": 0,
            "numberOfRequiredParameters": 0,
            "returns": null,
            "parent": false,
            "arguments": []
        },
        "textValueCategories": {
            "name": "textValueCategories",
            "summary": "Retourne la liste des cat\u00e9gories index\u00e9e sur leur `id` sous la forme d'un tableau text\/value",
            "description": "",
            "description_parts": [],
            "file": "bbn\\Appui\\Option",
            "static": false,
            "visibility": "public",
            "final": false,
            "code": "function()\n  {\n    if ($rs = $this->options(false)) {\n      $res = [];\n      foreach ($rs as $val => $text){\n        $res[] = ['text' => $text, 'value' => $val];\n      }\n\n      return $res;\n    }\n\n    return null;\n  }",
            "startLine": 3811,
            "endLine": 3823,
            "isDeprecated": false,
            "isGenerator": false,
            "isInternal": false,
            "isUserDefined": true,
            "isVariadic": false,
            "returnsReference": false,
            "numberOfParameters": 0,
            "numberOfRequiredParameters": 0,
            "returns": null,
            "parent": false,
            "arguments": []
        },
        "fullCategories": {
            "name": "fullCategories",
            "summary": "Retourne toutes les caract\u00e9ristiques des options d'une cat\u00e9gorie donn\u00e9e dans un tableau index\u00e9 sur leur `id`",
            "description": "",
            "description_parts": [],
            "file": "bbn\\Appui\\Option",
            "static": false,
            "visibility": "public",
            "final": false,
            "code": "function()\n  {\n    $opts = $this->fullOptions(false);\n    foreach ($opts as $k => $o){\n      if (!empty($o['default'])) {\n        $opts[$k]['fdefault'] = $this->text($o['default']);\n      }\n    }\n\n    return $opts;\n  }",
            "startLine": 3832,
            "endLine": 3842,
            "isDeprecated": false,
            "isGenerator": false,
            "isInternal": false,
            "isUserDefined": true,
            "isVariadic": false,
            "returnsReference": false,
            "numberOfParameters": 0,
            "numberOfRequiredParameters": 0,
            "returns": null,
            "parent": false,
            "arguments": []
        },
        "jsCategories": {
            "name": "jsCategories",
            "summary": "Retourne toutes les caract\u00e9ristiques des options d'une cat\u00e9gorie donn\u00e9e dans un tableau index\u00e9 sur leur `id`",
            "description": "",
            "description_parts": [],
            "file": "bbn\\Appui\\Option",
            "static": false,
            "visibility": "public",
            "final": false,
            "code": "function($id = NULL)\n  {\n    if ($tmp = $this->cacheGet($id, __FUNCTION__)) {\n      return $tmp;\n    }\n\n    $res = [\n      'categories' => []\n    ];\n    if ($cats = $this->fullOptions($id ?: false)) {\n      foreach ($cats as $cat){\n        if (!empty($cat['tekname'])) {\n          $res[$cat['tekname']]          = $this->textValueOptions($cat['id']);\n          $res['categories'][$cat['id']] = $cat['tekname'];\n        }\n      }\n    }\n\n    $this->cacheSet($id, __FUNCTION__, $res);\n    return $res;\n  }",
            "startLine": 3851,
            "endLine": 3871,
            "isDeprecated": false,
            "isGenerator": false,
            "isInternal": false,
            "isUserDefined": true,
            "isVariadic": false,
            "returnsReference": false,
            "numberOfParameters": 1,
            "numberOfRequiredParameters": 0,
            "returns": null,
            "parent": false,
            "arguments": [
                {
                    "name": "id",
                    "position": 0,
                    "type": "",
                    "required": false,
                    "has_default": true,
                    "default": null,
                    "default_name": ""
                }
            ]
        },
        "hasPermission": {
            "name": "hasPermission",
            "summary": "Checks whether an option has _permissions_ in its parent cfg",
            "description": "*\n```php\nX::dump($opt->hasPermission('bbn_ide'));\n\/\/ (bool) true\n```",
            "description_parts": [
                {
                    "type": "text",
                    "content": "<p>*<\/p>"
                },
                {
                    "type": "code",
                    "content": "X::dump($opt->hasPermission('bbn_ide'));\n\/\/ (bool) true"
                }
            ],
            "file": "bbn\\Appui\\Option",
            "static": false,
            "visibility": "public",
            "final": false,
            "code": "function($code = NULL)\n  {\n    if (bbn\\Str::isUid($p = $this->getIdParent(\\func_get_args()))) {\n      $cfg = $this->getCfg($p);\n      return !empty($cfg['permissions']);\n    }\n\n    return null;\n  }",
            "startLine": 3885,
            "endLine": 3893,
            "isDeprecated": false,
            "isGenerator": false,
            "isInternal": false,
            "isUserDefined": true,
            "isVariadic": false,
            "returnsReference": false,
            "numberOfParameters": 1,
            "numberOfRequiredParameters": 0,
            "returns": null,
            "parent": false,
            "arguments": [
                {
                    "name": "code",
                    "position": 0,
                    "type": "",
                    "required": false,
                    "has_default": true,
                    "default": null,
                    "default_name": ""
                }
            ]
        },
        "findPermissions": {
            "name": "findPermissions",
            "summary": "Returns an array of _permissions_ from origin $id",
            "description": "*\n```php\nX::dump($opt->findPermissions());\n\/* Returns a full treeof permissions for all options\narray []\n```",
            "description_parts": [
                {
                    "type": "text",
                    "content": "<p>*<\/p>"
                },
                {
                    "type": "code",
                    "content": "X::dump($opt->findPermissions());\n\/* Returns a full treeof permissions for all options\narray []"
                }
            ],
            "file": "bbn\\Appui\\Option",
            "static": false,
            "visibility": "public",
            "final": false,
            "code": "function($id = NULL, $deep = false)\n  {\n    if ($this->check()) {\n      if (\\is_null($id)) {\n        $id = $this->default;\n      }\n\n      $cfg = $this->getCfg($id);\n      if (!empty($cfg['permissions'])) {\n        $perms = [];\n        $opts  = $this->fullOptionsCfg($id);\n        foreach ($opts as $opt){\n          $o = [\n            'icon' => $opt['icon'] ?? 'nf nf-fa-cog',\n            'text' => $opt['text'],\n            'id' => $opt['id']\n          ];\n          if ($deep && !empty($opt['cfg']['permissions'])) {\n            $o['items'] = $this->findPermissions($opt['id'], true);\n          }\n\n          $perms[] = $o;\n        }\n\n        return $perms;\n      }\n    }\n\n    return null;\n  }",
            "startLine": 3910,
            "endLine": 3939,
            "isDeprecated": false,
            "isGenerator": false,
            "isInternal": false,
            "isUserDefined": true,
            "isVariadic": false,
            "returnsReference": false,
            "numberOfParameters": 2,
            "numberOfRequiredParameters": 0,
            "returns": null,
            "parent": false,
            "arguments": [
                {
                    "name": "id",
                    "position": 0,
                    "type": "",
                    "required": false,
                    "has_default": true,
                    "default": null,
                    "default_name": "",
                    "description": "The origin's ID"
                },
                {
                    "name": "deep",
                    "position": 1,
                    "type": "",
                    "required": false,
                    "has_default": true,
                    "default": false,
                    "default_name": "",
                    "description": "If set to true the children will also be searched"
                }
            ]
        },
        "updatePlugins": {
            "name": "updatePlugins",
            "summary": "",
            "description": "",
            "description_parts": [],
            "file": "bbn\\Appui\\Option",
            "static": false,
            "visibility": "public",
            "final": false,
            "code": "function()\n  {\n    if (defined('BBN_APPUI')\n        && ($ids = $this->items('plugins', 'templates', 'option', 'appui'))\n    ) {\n      $res = 0;\n      $all = $this->items('plugins');\n      foreach ($this->fullOptions('appui') as $a) {\n        if (!empty($a['plugin'])) {\n          $all[] = $a['id'];\n        }\n      }\n\n      foreach ($ids as $id) {\n        if ($export = $this->export($id, 'sfull')) {\n          $export['id_alias'] = $this->getCodePath($id);\n          foreach ($all as $plugin) {\n            $res += (int)$this->import($export, $plugin);\n          }\n        }\n      }\n\n      return $res;\n    }\n\n    return null;\n  }",
            "startLine": 3942,
            "endLine": 3968,
            "isDeprecated": false,
            "isGenerator": false,
            "isInternal": false,
            "isUserDefined": true,
            "isVariadic": false,
            "returnsReference": false,
            "numberOfParameters": 0,
            "numberOfRequiredParameters": 0,
            "returns": [
                "int",
                null
            ],
            "parent": false,
            "arguments": []
        },
        "updateTemplate": {
            "name": "updateTemplate",
            "summary": "",
            "description": "",
            "description_parts": [],
            "file": "bbn\\Appui\\Option",
            "static": false,
            "visibility": "public",
            "final": false,
            "code": "function($id = NULL)\n  {\n\n    if (defined('BBN_APPUI') && $this->exists($id)) {\n      $res = 0;\n      \/\/ All the options refering to this template\n      $all = $this->getAliases($id);\n      if (!empty($all)\n          && ($export = $this->export($id, 'sfull'))\n          && !empty($export['items'])\n      ) {\n        foreach ($all as $a) {\n          $res += (int)$this->import($export['items'], $a['id']);\n        }\n      }\n\n      return $res;\n    }\n\n    return null;\n  }",
            "startLine": 3971,
            "endLine": 3991,
            "isDeprecated": false,
            "isGenerator": false,
            "isInternal": false,
            "isUserDefined": true,
            "isVariadic": false,
            "returnsReference": false,
            "numberOfParameters": 1,
            "numberOfRequiredParameters": 0,
            "returns": [
                "int",
                null
            ],
            "parent": false,
            "arguments": [
                {
                    "name": "id",
                    "position": 0,
                    "type": "string",
                    "required": false,
                    "has_default": true,
                    "default": null,
                    "default_name": ""
                }
            ]
        },
        "updateAllTemplates": {
            "name": "updateAllTemplates",
            "summary": "",
            "description": "",
            "description_parts": [],
            "file": "bbn\\Appui\\Option",
            "static": false,
            "visibility": "public",
            "final": false,
            "code": "function()\n  {\n    if (defined('BBN_APPUI')\n        && ($id = $this->fromCode('list', 'templates', 'option', 'appui'))\n    ) {\n      $res = 0;\n      foreach ($this->itemsRef($id) as $a) {\n        $res += (int)$this->updateTemplate($a);\n      }\n\n      return $res;\n    }\n\n    return null;\n  }",
            "startLine": 3994,
            "endLine": 4008,
            "isDeprecated": false,
            "isGenerator": false,
            "isInternal": false,
            "isUserDefined": true,
            "isVariadic": false,
            "returnsReference": false,
            "numberOfParameters": 0,
            "numberOfRequiredParameters": 0,
            "returns": [
                "int",
                null
            ],
            "parent": false,
            "arguments": []
        },
        "findI18n": {
            "name": "findI18n",
            "summary": "returns an array containing all options that have the property i18n set",
            "description": "",
            "description_parts": [],
            "file": "bbn\\Appui\\Option",
            "static": false,
            "visibility": "public",
            "final": false,
            "code": "function($id = NULL, $items = true)\n  {\n    $res = [];\n    if ($this->check()) {\n      $opts = $this->db->rselectAll(\n        [\n          'tables' => [$this->class_cfg['table']],\n          'fields' => [\n            $this->class_cfg['arch']['options']['id'],\n            $this->class_cfg['arch']['options']['id_parent'],\n            $this->class_cfg['arch']['options']['code'],\n            $this->class_cfg['arch']['options']['text'],\n            'language' => 'JSON_EXTRACT('.$this->class_cfg['arch']['options']['cfg'].', \"$.i18n\")'\n          ],\n          'where' => [\n            [\n              'field' => 'JSON_EXTRACT('.$this->class_cfg['arch']['options']['cfg'].', \"$.i18n\")',\n              'operator' => 'isnotnull'\n            ]\n          ]\n        ]\n      );\n\n      foreach ($opts as $opt){\n        if (!empty($items)) {\n          $res[] = array_merge(\n            $opt, ['items' => array_values(\n              array_filter(\n                $opts, function ($o) use ($opt) {\n                  return $o['id_parent'] === $opt['id'];\n                }\n              )\n            )]\n          );\n        }\n        else {\n          $res[] = $opt;\n        }\n      }\n    }\n\n    return $res;\n  }",
            "startLine": 4014,
            "endLine": 4056,
            "isDeprecated": false,
            "isGenerator": false,
            "isInternal": false,
            "isUserDefined": true,
            "isVariadic": false,
            "returnsReference": false,
            "numberOfParameters": 2,
            "numberOfRequiredParameters": 0,
            "returns": null,
            "parent": false,
            "arguments": [
                {
                    "name": "id",
                    "position": 0,
                    "type": "",
                    "required": false,
                    "has_default": true,
                    "default": null,
                    "default_name": ""
                },
                {
                    "name": "items",
                    "position": 1,
                    "type": "",
                    "required": false,
                    "has_default": true,
                    "default": true,
                    "default_name": ""
                }
            ]
        },
        "findI18nOption": {
            "name": "findI18nOption",
            "summary": "returns an array containing the option (having the property i18n setted) corresponding to the given id",
            "description": "",
            "description_parts": [],
            "file": "bbn\\Appui\\Option",
            "static": false,
            "visibility": "public",
            "final": false,
            "code": "function($id, $items = true)\n  {\n    $res = [];\n    if ($this->check()) {\n      if ($opt = $this->db->rselect(\n        $this->class_cfg['table'], [\n          $this->class_cfg['arch']['options']['id'],\n          $this->class_cfg['arch']['options']['id_parent'],\n          $this->class_cfg['arch']['options']['text'],\n          $this->class_cfg['arch']['options']['cfg']\n        ], [$this->class_cfg['arch']['options']['id'] => $id]\n      )\n      ) {\n        $opts = $this->fullOptions($id);\n        $cfg  = json_decode($opt['cfg']);\n        if (!empty($cfg->i18n)) {\n          $opt['language'] = $cfg->i18n;\n        }\n\n        unset($opt['cfg']);\n        if (!empty($items)) {\n          $res[] = array_merge($opt, $opts);\n        }\n        else {\n          $res[] = $opt;\n        }\n      }\n    }\n\n    return $res;\n  }",
            "startLine": 4062,
            "endLine": 4092,
            "isDeprecated": false,
            "isGenerator": false,
            "isInternal": false,
            "isUserDefined": true,
            "isVariadic": false,
            "returnsReference": false,
            "numberOfParameters": 2,
            "numberOfRequiredParameters": 1,
            "returns": null,
            "parent": false,
            "arguments": [
                {
                    "name": "id",
                    "position": 0,
                    "type": "",
                    "required": true,
                    "has_default": false,
                    "default": "",
                    "default_name": ""
                },
                {
                    "name": "items",
                    "position": 1,
                    "type": "",
                    "required": false,
                    "has_default": true,
                    "default": true,
                    "default_name": ""
                }
            ]
        },
        "test": {
            "name": "test",
            "summary": "Checks whether the error property has been set (so an error happened).",
            "description": "",
            "description_parts": [],
            "file": "bbn\\Models\\Cls\\Basic",
            "static": false,
            "visibility": "public",
            "final": false,
            "code": "function()\n  {\n    if ($this->error) {\n      return false;\n    }\n\n    return true;\n  }",
            "startLine": 51,
            "endLine": 58,
            "isDeprecated": false,
            "isGenerator": false,
            "isInternal": false,
            "isUserDefined": true,
            "isVariadic": false,
            "returnsReference": false,
            "numberOfParameters": 0,
            "numberOfRequiredParameters": 0,
            "returns": null,
            "parent": {
                "name": "test",
                "summary": "Checks whether the error property has been set (so an error happened).",
                "description": "",
                "description_parts": [],
                "file": "bbn\\Models\\Cls\\Basic",
                "static": false,
                "visibility": "public",
                "final": false,
                "code": "function()\n  {\n    if ($this->error) {\n      return false;\n    }\n\n    return true;\n  }",
                "startLine": 51,
                "endLine": 58,
                "isDeprecated": false,
                "isGenerator": false,
                "isInternal": false,
                "isUserDefined": true,
                "isVariadic": false,
                "returnsReference": false,
                "numberOfParameters": 0,
                "numberOfRequiredParameters": 0,
                "returns": null,
                "parent": false,
                "arguments": []
            },
            "arguments": []
        },
        "getError": {
            "name": "getError",
            "summary": "",
            "description": "",
            "description_parts": [],
            "file": "bbn\\Models\\Cls\\Basic",
            "static": false,
            "visibility": "public",
            "final": false,
            "code": "function()\n  {\n    return $this->error;\n  }",
            "startLine": 86,
            "endLine": 89,
            "isDeprecated": false,
            "isGenerator": false,
            "isInternal": false,
            "isUserDefined": true,
            "isVariadic": false,
            "returnsReference": false,
            "numberOfParameters": 0,
            "numberOfRequiredParameters": 0,
            "returns": null,
            "parent": {
                "name": "getError",
                "summary": "",
                "description": "",
                "description_parts": [],
                "file": "bbn\\Models\\Cls\\Basic",
                "static": false,
                "visibility": "public",
                "final": false,
                "code": "function()\n  {\n    return $this->error;\n  }",
                "startLine": 86,
                "endLine": 89,
                "isDeprecated": false,
                "isGenerator": false,
                "isInternal": false,
                "isUserDefined": true,
                "isVariadic": false,
                "returnsReference": false,
                "numberOfParameters": 0,
                "numberOfRequiredParameters": 0,
                "returns": null,
                "parent": false,
                "arguments": []
            },
            "arguments": []
        },
        "getErrors": {
            "name": "getErrors",
            "summary": "",
            "description": "",
            "description_parts": [],
            "file": "bbn\\Models\\Cls\\Basic",
            "static": false,
            "visibility": "public",
            "final": false,
            "code": "function()\n  {\n\n  }",
            "startLine": 92,
            "endLine": 95,
            "isDeprecated": false,
            "isGenerator": false,
            "isInternal": false,
            "isUserDefined": true,
            "isVariadic": false,
            "returnsReference": false,
            "numberOfParameters": 0,
            "numberOfRequiredParameters": 0,
            "returns": null,
            "parent": {
                "name": "getErrors",
                "summary": "",
                "description": "",
                "description_parts": [],
                "file": "bbn\\Models\\Cls\\Basic",
                "static": false,
                "visibility": "public",
                "final": false,
                "code": "function()\n  {\n\n  }",
                "startLine": 92,
                "endLine": 95,
                "isDeprecated": false,
                "isGenerator": false,
                "isInternal": false,
                "isUserDefined": true,
                "isVariadic": false,
                "returnsReference": false,
                "numberOfParameters": 0,
                "numberOfRequiredParameters": 0,
                "returns": null,
                "parent": false,
                "arguments": []
            },
            "arguments": []
        },
        "log": {
            "name": "log",
            "summary": "",
            "description": "",
            "description_parts": [],
            "file": "bbn\\Models\\Cls\\Basic",
            "static": false,
            "visibility": "public",
            "final": false,
            "code": "function()\n  {\n    if ($this->isDebug()) {\n        $ar = \\func_get_args();\n        $cn = bbn\\Str::encodeFilename(str_replace('\\\\', '_', \\get_class($this)));\n      foreach ($ar as $a){\n            X::log($a, $cn);\n      }\n    }\n  }",
            "startLine": 98,
            "endLine": 107,
            "isDeprecated": false,
            "isGenerator": false,
            "isInternal": false,
            "isUserDefined": true,
            "isVariadic": false,
            "returnsReference": false,
            "numberOfParameters": 0,
            "numberOfRequiredParameters": 0,
            "returns": null,
            "parent": {
                "name": "log",
                "summary": "",
                "description": "",
                "description_parts": [],
                "file": "bbn\\Models\\Cls\\Basic",
                "static": false,
                "visibility": "public",
                "final": false,
                "code": "function()\n  {\n    if ($this->isDebug()) {\n        $ar = \\func_get_args();\n        $cn = bbn\\Str::encodeFilename(str_replace('\\\\', '_', \\get_class($this)));\n      foreach ($ar as $a){\n            X::log($a, $cn);\n      }\n    }\n  }",
                "startLine": 98,
                "endLine": 107,
                "isDeprecated": false,
                "isGenerator": false,
                "isInternal": false,
                "isUserDefined": true,
                "isVariadic": false,
                "returnsReference": false,
                "numberOfParameters": 0,
                "numberOfRequiredParameters": 0,
                "returns": null,
                "parent": false,
                "arguments": []
            },
            "arguments": []
        },
        "__call": {
            "name": "__call",
            "summary": "",
            "description": "",
            "description_parts": [],
            "file": "bbn\\Models\\Cls\\Basic",
            "static": false,
            "visibility": "public",
            "final": false,
            "code": "function($name, $arguments)\n  {\n    $class = \\get_class($this);\n    throw new \\Exception(\n      sprintf(\n        X::_(\"Wrong method used for the class %s: %s with the following arguments:\"),\n        $class,\n        $name,\n        implode(', ', $arguments)\n      )\n    );\n  }",
            "startLine": 115,
            "endLine": 126,
            "isDeprecated": false,
            "isGenerator": false,
            "isInternal": false,
            "isUserDefined": true,
            "isVariadic": false,
            "returnsReference": false,
            "numberOfParameters": 2,
            "numberOfRequiredParameters": 2,
            "returns": null,
            "parent": {
                "name": "__call",
                "summary": "",
                "description": "",
                "description_parts": [],
                "file": "bbn\\Models\\Cls\\Basic",
                "static": false,
                "visibility": "public",
                "final": false,
                "code": "function($name, $arguments)\n  {\n    $class = \\get_class($this);\n    throw new \\Exception(\n      sprintf(\n        X::_(\"Wrong method used for the class %s: %s with the following arguments:\"),\n        $class,\n        $name,\n        implode(', ', $arguments)\n      )\n    );\n  }",
                "startLine": 115,
                "endLine": 126,
                "isDeprecated": false,
                "isGenerator": false,
                "isInternal": false,
                "isUserDefined": true,
                "isVariadic": false,
                "returnsReference": false,
                "numberOfParameters": 2,
                "numberOfRequiredParameters": 2,
                "returns": null,
                "parent": false,
                "arguments": [
                    {
                        "name": "name",
                        "position": 0,
                        "type": "",
                        "required": true,
                        "has_default": false,
                        "default": "",
                        "default_name": ""
                    },
                    {
                        "name": "arguments",
                        "position": 1,
                        "type": "",
                        "required": true,
                        "has_default": false,
                        "default": "",
                        "default_name": ""
                    }
                ]
            },
            "arguments": [
                {
                    "name": "name",
                    "position": 0,
                    "type": "",
                    "required": true,
                    "has_default": false,
                    "default": "",
                    "default_name": ""
                },
                {
                    "name": "arguments",
                    "position": 1,
                    "type": "",
                    "required": true,
                    "has_default": false,
                    "default": "",
                    "default_name": ""
                }
            ]
        },
        "isDebug": {
            "name": "isDebug",
            "summary": "",
            "description": "",
            "description_parts": [],
            "file": "bbn\\Models\\Cls\\Basic",
            "static": false,
            "visibility": "public",
            "final": false,
            "code": "function()\n  {\n    return $this->debug || (defined(\"BBN_IS_DEV\") && BBN_IS_DEV);\n  }",
            "startLine": 132,
            "endLine": 135,
            "isDeprecated": false,
            "isGenerator": false,
            "isInternal": false,
            "isUserDefined": true,
            "isVariadic": false,
            "returnsReference": false,
            "numberOfParameters": 0,
            "numberOfRequiredParameters": 0,
            "returns": null,
            "parent": {
                "name": "isDebug",
                "summary": "",
                "description": "",
                "description_parts": [],
                "file": "bbn\\Models\\Cls\\Basic",
                "static": false,
                "visibility": "public",
                "final": false,
                "code": "function()\n  {\n    return $this->debug || (defined(\"BBN_IS_DEV\") && BBN_IS_DEV);\n  }",
                "startLine": 132,
                "endLine": 135,
                "isDeprecated": false,
                "isGenerator": false,
                "isInternal": false,
                "isUserDefined": true,
                "isVariadic": false,
                "returnsReference": false,
                "numberOfParameters": 0,
                "numberOfRequiredParameters": 0,
                "returns": null,
                "parent": false,
                "arguments": []
            },
            "arguments": []
        },
        "setDebug": {
            "name": "setDebug",
            "summary": "",
            "description": "",
            "description_parts": [],
            "file": "bbn\\Models\\Cls\\Basic",
            "static": false,
            "visibility": "public",
            "final": false,
            "code": "function($debug)\n  {\n    $this->debug = $debug;\n  }",
            "startLine": 142,
            "endLine": 145,
            "isDeprecated": false,
            "isGenerator": false,
            "isInternal": false,
            "isUserDefined": true,
            "isVariadic": false,
            "returnsReference": false,
            "numberOfParameters": 1,
            "numberOfRequiredParameters": 1,
            "returns": null,
            "parent": {
                "name": "setDebug",
                "summary": "",
                "description": "",
                "description_parts": [],
                "file": "bbn\\Models\\Cls\\Basic",
                "static": false,
                "visibility": "public",
                "final": false,
                "code": "function($debug)\n  {\n    $this->debug = $debug;\n  }",
                "startLine": 142,
                "endLine": 145,
                "isDeprecated": false,
                "isGenerator": false,
                "isInternal": false,
                "isUserDefined": true,
                "isVariadic": false,
                "returnsReference": false,
                "numberOfParameters": 1,
                "numberOfRequiredParameters": 1,
                "returns": null,
                "parent": false,
                "arguments": [
                    {
                        "name": "debug",
                        "position": 0,
                        "type": "bool",
                        "required": true,
                        "has_default": false,
                        "default": "",
                        "default_name": ""
                    }
                ]
            },
            "arguments": [
                {
                    "name": "debug",
                    "position": 0,
                    "type": "bool",
                    "required": true,
                    "has_default": false,
                    "default": "",
                    "default_name": ""
                }
            ]
        },
        "getInstance": {
            "name": "getInstance",
            "summary": "Returns the instance of the singleton or null.",
            "description": "",
            "description_parts": [],
            "file": "bbn\\Appui\\Option",
            "static": true,
            "visibility": "public",
            "final": false,
            "code": "function()\n  {\n    return self::$retriever_instance;\n  }",
            "startLine": 44,
            "endLine": 47,
            "isDeprecated": false,
            "isGenerator": false,
            "isInternal": false,
            "isUserDefined": true,
            "isVariadic": false,
            "returnsReference": false,
            "numberOfParameters": 0,
            "numberOfRequiredParameters": 0,
            "returns": [
                "self",
                null
            ],
            "parent": false,
            "arguments": []
        },
        "retrieverExists": {
            "name": "retrieverExists",
            "summary": "Returns true if an instance as been initiated.",
            "description": "",
            "description_parts": [],
            "file": "bbn\\Appui\\Option",
            "static": true,
            "visibility": "public",
            "final": false,
            "code": "function()\n  {\n    return self::$retriever_exists;\n  }",
            "startLine": 54,
            "endLine": 57,
            "isDeprecated": false,
            "isGenerator": false,
            "isInternal": false,
            "isUserDefined": true,
            "isVariadic": false,
            "returnsReference": false,
            "numberOfParameters": 0,
            "numberOfRequiredParameters": 0,
            "returns": [
                "bool"
            ],
            "parent": false,
            "arguments": []
        },
        "exists": {
            "name": "exists",
            "summary": "",
            "description": "",
            "description_parts": [],
            "file": "bbn\\Appui\\Option",
            "static": false,
            "visibility": "public",
            "final": false,
            "code": "function($id)\n  {\n    if (!$this->class_table_index) {\n      throw new \\Exception(X::_(\"The table index parameter should be defined\"));\n    }\n\n    $res = $this->db->count(\n      $this->class_table, [\n      $this->class_cfg['arch'][$this->class_table_index]['id'] => $id\n      ]\n    );\n    return (bool)$res;\n  }",
            "startLine": 33,
            "endLine": 45,
            "isDeprecated": false,
            "isGenerator": false,
            "isInternal": false,
            "isUserDefined": true,
            "isVariadic": false,
            "returnsReference": false,
            "numberOfParameters": 1,
            "numberOfRequiredParameters": 1,
            "returns": [
                "bool"
            ],
            "parent": false,
            "arguments": [
                {
                    "name": "id",
                    "position": 0,
                    "type": "",
                    "required": true,
                    "has_default": false,
                    "default": "",
                    "default_name": ""
                }
            ]
        },
        "getFields": {
            "name": "getFields",
            "summary": "Returns the fields of the main table.",
            "description": "",
            "description_parts": [],
            "file": "bbn\\Appui\\Option",
            "static": false,
            "visibility": "public",
            "final": false,
            "code": "function()\n  {\n    return $this->fields;\n  }",
            "startLine": 64,
            "endLine": 67,
            "isDeprecated": false,
            "isGenerator": false,
            "isInternal": false,
            "isUserDefined": true,
            "isVariadic": false,
            "returnsReference": false,
            "numberOfParameters": 0,
            "numberOfRequiredParameters": 0,
            "returns": null,
            "parent": false,
            "arguments": []
        },
        "insert": {
            "name": "insert",
            "summary": "Inserts a new row in the table.",
            "description": "",
            "description_parts": [],
            "file": "bbn\\Appui\\Option",
            "static": false,
            "visibility": "public",
            "final": false,
            "code": "function(array $data)\n  {\n    if ($data = $this->prepare($data)) {\n      $ccfg = $this->getClassCfg();\n      if ($this->db->insert($ccfg['table'], $data)) {\n        return $this->db->lastId();\n      }\n    }\n\n    return null;\n  }",
            "startLine": 77,
            "endLine": 87,
            "isDeprecated": false,
            "isGenerator": false,
            "isInternal": false,
            "isUserDefined": true,
            "isVariadic": false,
            "returnsReference": false,
            "numberOfParameters": 1,
            "numberOfRequiredParameters": 1,
            "returns": [
                "string",
                null
            ],
            "parent": false,
            "arguments": [
                {
                    "name": "data",
                    "position": 0,
                    "type": "array",
                    "required": true,
                    "has_default": false,
                    "default": "",
                    "default_name": ""
                }
            ]
        },
        "delete": {
            "name": "delete",
            "summary": "Deletes a single row from the table through its id.",
            "description": "",
            "description_parts": [],
            "file": "bbn\\Appui\\Option",
            "static": false,
            "visibility": "public",
            "final": false,
            "code": "function($id)\n  {\n    if ($data = $this->exists($id)) {\n      $ccfg = $this->getClassCfg();\n      $f = $ccfg['arch'][$this->class_table_index];\n      return !!$this->db->delete($ccfg['table'], [$f['id'] => $id]);\n    }\n\n    return false;\n  }",
            "startLine": 97,
            "endLine": 106,
            "isDeprecated": false,
            "isGenerator": false,
            "isInternal": false,
            "isUserDefined": true,
            "isVariadic": false,
            "returnsReference": false,
            "numberOfParameters": 1,
            "numberOfRequiredParameters": 1,
            "returns": [
                "bool"
            ],
            "parent": false,
            "arguments": [
                {
                    "name": "id",
                    "position": 0,
                    "type": "string",
                    "required": true,
                    "has_default": false,
                    "default": "",
                    "default_name": ""
                }
            ]
        },
        "update": {
            "name": "update",
            "summary": "Updates a single row in the table through its id.",
            "description": "",
            "description_parts": [],
            "file": "bbn\\Appui\\Option",
            "static": false,
            "visibility": "public",
            "final": false,
            "code": "function($id, array $data, $addCfg = false)\n  {\n    if (!$this->exists($id)) {\n      throw new \\Exception(X::_(\"Impossible to find the given row\"));\n    }\n\n    if ($addCfg) {\n      $data = array_merge($this->select($id), $data);\n    }\n\n    if ($data = $this->prepare($data)) {\n      $ccfg = $this->getClassCfg();\n      $f = $ccfg['arch'][$this->class_table_index];\n      return !!$this->db->update($ccfg['table'], $data, [$f['id'] => $id]);\n    }\n\n    return false;\n  }",
            "startLine": 117,
            "endLine": 134,
            "isDeprecated": false,
            "isGenerator": false,
            "isInternal": false,
            "isUserDefined": true,
            "isVariadic": false,
            "returnsReference": false,
            "numberOfParameters": 3,
            "numberOfRequiredParameters": 2,
            "returns": [
                "bool"
            ],
            "parent": false,
            "arguments": [
                {
                    "name": "id",
                    "position": 0,
                    "type": "string",
                    "required": true,
                    "has_default": false,
                    "default": "",
                    "default_name": ""
                },
                {
                    "name": "data",
                    "position": 1,
                    "type": "array",
                    "required": true,
                    "has_default": false,
                    "default": "",
                    "default_name": ""
                },
                {
                    "name": "addCfg",
                    "position": 2,
                    "type": "bool",
                    "required": false,
                    "has_default": true,
                    "default": false,
                    "default_name": ""
                }
            ]
        },
        "select": {
            "name": "select",
            "summary": "Retrieves a row from the table through its id.",
            "description": "",
            "description_parts": [],
            "file": "bbn\\Appui\\Option",
            "static": false,
            "visibility": "public",
            "final": false,
            "code": "function($id)\n  {\n    if ($this->exists($id)) {\n      $f = $this->class_cfg['arch'][$this->class_table_index];\n      if ($arr = $this->db->rselect(\n        $this->class_table, array_values($f), [\n          $f['id'] => $id\n        ]\n      )) {\n        if (!empty($f['cfg']) && !empty($arr[$f['cfg']])) {\n          $cfg = json_decode($arr[$f['cfg']], true);\n          $arr = array_merge($cfg, $arr);\n          unset($arr[$f['cfg']]);\n        }\n\n        return $arr;\n      }\n    }\n\n    return null;\n\n  }",
            "startLine": 144,
            "endLine": 165,
            "isDeprecated": false,
            "isGenerator": false,
            "isInternal": false,
            "isUserDefined": true,
            "isVariadic": false,
            "returnsReference": false,
            "numberOfParameters": 1,
            "numberOfRequiredParameters": 1,
            "returns": [
                "array",
                null
            ],
            "parent": false,
            "arguments": [
                {
                    "name": "id",
                    "position": 0,
                    "type": "string",
                    "required": true,
                    "has_default": false,
                    "default": "",
                    "default_name": ""
                }
            ]
        },
        "selectAll": {
            "name": "selectAll",
            "summary": "Returns an array of rows from the table for the given conditions.",
            "description": "",
            "description_parts": [],
            "file": "bbn\\Appui\\Option",
            "static": false,
            "visibility": "public",
            "final": false,
            "code": "function(array $cond)\n  {\n    if (!$this->class_table_index) {\n      throw new \\Exception(X::_(\"The table index parameter should be defined\"));\n    }\n\n    $f = $this->class_cfg['arch'][$this->class_table_index];\n    if ($arrs = $this->db->rselectAll($this->class_table, array_values($f), $cond)) {\n      foreach ($arrs as &$arr) {\n        if (!empty($f['cfg']) && !empty($arr[$f['cfg']])) {\n          $cfg = json_decode($arr[$f['cfg']], true);\n          $arr = array_merge($cfg, $arr);\n          unset($arr[$f['cfg']]);\n        }\n      }\n      unset($arr);\n\n      return $arrs;\n    }\n\n    return [];\n  }",
            "startLine": 175,
            "endLine": 196,
            "isDeprecated": false,
            "isGenerator": false,
            "isInternal": false,
            "isUserDefined": true,
            "isVariadic": false,
            "returnsReference": false,
            "numberOfParameters": 1,
            "numberOfRequiredParameters": 1,
            "returns": [
                "array"
            ],
            "parent": false,
            "arguments": [
                {
                    "name": "cond",
                    "position": 0,
                    "type": "array",
                    "required": true,
                    "has_default": false,
                    "default": "",
                    "default_name": ""
                }
            ]
        }
    },
    "properties": null,
    "staticProperties": {
        "default_class_cfg": {
            "errors": [],
            "table": "bbn_options",
            "tables": {
                "options": "bbn_options"
            },
            "arch": {
                "options": {
                    "id": "id",
                    "id_parent": "id_parent",
                    "id_alias": "id_alias",
                    "num": "num",
                    "text": "text",
                    "code": "code",
                    "value": "value",
                    "cfg": "cfg"
                }
            }
        },
        "retriever_instance": {},
        "retriever_exists": true
    },
    "constants": [],
    "numMethods": 118,
    "numProperties": 0,
    "numConstants": 1,
    "numStaticProperties": 3,
    "interfaceNames": [],
    "isInterface": false,
    "traitNames": [
        "bbn\\Models\\Tts\\Retriever",
        "bbn\\Models\\Tts\\Cache",
        "bbn\\Models\\Tts\\Dbconfig"
    ],
    "traitAliases": [],
    "isTrait": false,
    "isAbstract": false,
    "isFinal": false,
    "modifiers": 0,
    "parentClass": "bbn\\Models\\Cls\\Db",
    "isSubclassOf": false,
    "defaultProperties": {
        "default_class_cfg": {
            "errors": [],
            "table": "bbn_options",
            "tables": {
                "options": "bbn_options"
            },
            "arch": {
                "options": {
                    "id": "id",
                    "id_parent": "id_parent",
                    "id_alias": "id_alias",
                    "num": "num",
                    "text": "text",
                    "code": "code",
                    "value": "value",
                    "cfg": "cfg"
                }
            }
        },
        "retriever_instance": {},
        "retriever_exists": true,
        "is_init": false,
        "non_selected": [
            "cfg"
        ],
        "_local_cache": [],
        "class_cfg": null,
        "root": null,
        "default": null,
        "db": null,
        "errors": [],
        "error": false,
        "debug": false,
        "log": [],
        "_cache_prefix": null,
        "cache_engine": null,
        "_is_init_class_cfg": false,
        "fields": null,
        "class_table": null,
        "class_table_index": null
    },
    "isIterable": false,
    "extensionName": false,
    "namespaceName": "bbn\\Appui",
    "shortName": "Option",
    "summary": "An all-in-one hierarchical options management system",
    "description": "*\nThis class allows to:\n---------------------\n* manage a **hierarchical** table of options\n* retrieve, edit, add, remove options\n* grab a whole tree\n* apply functions on group of options\n* add user-defined properties\n* set option configuration and applies it to all its children\n* And many more...",
    "description_parts": [
        {
            "type": "text",
            "content": "<h2>*\nThis class allows to:<\/h2>\n<ul>\n<li>manage a <strong>hierarchical<\/strong> table of options<\/li>\n<li>retrieve, edit, add, remove options<\/li>\n<li>grab a whole tree<\/li>\n<li>apply functions on group of options<\/li>\n<li>add user-defined properties<\/li>\n<li>set option configuration and applies it to all its children<\/li>\n<li>And many more...<\/li>\n<\/ul>"
        }
    ]
}